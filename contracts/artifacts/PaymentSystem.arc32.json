{
  "hints": {
    "deploy()void": {
      "call_config": {
        "no_op": "CREATE"
      }
    },
    "update()void": {
      "call_config": {
        "update_application": "CALL"
      }
    },
    "destroy()void": {
      "call_config": {
        "delete_application": "CALL"
      }
    },
    "setAdmin(address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "setWithdrawalRounds(uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardCreate(pay,string,address)address": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardClose(string,address,account)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardAddAsset(pay,string,account,asset)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardRemoveAsset(string,account,asset)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardDebit(account,account,asset,uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardWithdrawalRequest(string,account,asset,uint64)byte[32]": {
      "call_config": {
        "no_op": "CALL",
        "opt_in": "CALL"
      }
    },
    "cardWithdrawalCancel(string,account,byte[32])void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardWithdraw(string,account,account,asset,byte[32])void": {
      "call_config": {
        "no_op": "CALL",
        "close_out": "CALL"
      }
    }
  },
  "bare_call_config": {
    "no_op": "NEVER",
    "opt_in": "NEVER",
    "close_out": "NEVER",
    "update_application": "NEVER",
    "delete_application": "NEVER"
  },
  "schema": {
    "local": {
      "declared": {
        "withdrawal_nonce": {
          "type": "uint64",
          "key": "n"
        }
      },
      "reserved": {}
    },
    "global": {
      "declared": {
        "admin": {
          "type": "bytes",
          "key": "a"
        },
        "active_cards": {
          "type": "uint64",
          "key": "c"
        },
        "withdrawal_wait_time": {
          "type": "uint64",
          "key": "w"
        }
      },
      "reserved": {}
    }
  },
  "state": {
    "global": {
      "num_byte_slices": 1,
      "num_uints": 2
    },
    "local": {
      "num_byte_slices": 15,
      "num_uints": 1
    }
  },
  "source": {
    "approval": "I3ByYWdtYSB2ZXJzaW9uIDkKCi8vIFRoaXMgVEVBTCB3YXMgZ2VuZXJhdGVkIGJ5IFRFQUxTY3JpcHQgdjAuNjIuMQovLyBodHRwczovL2dpdGh1Yi5jb20vYWxnb3JhbmRmb3VuZGF0aW9uL1RFQUxTY3JpcHQKCi8vIFRoaXMgY29udHJhY3QgaXMgY29tcGxpYW50IHdpdGggYW5kL29yIGltcGxlbWVudHMgdGhlIGZvbGxvd2luZyBBUkNzOiBbIEFSQzQgXQoKLy8gVGhlIGZvbGxvd2luZyB0ZW4gbGluZXMgb2YgVEVBTCBoYW5kbGUgaW5pdGlhbCBwcm9ncmFtIGZsb3cKLy8gVGhpcyBwYXR0ZXJuIGlzIHVzZWQgdG8gbWFrZSBpdCBlYXN5IGZvciBhbnlvbmUgdG8gcGFyc2UgdGhlIHN0YXJ0IG9mIHRoZSBwcm9ncmFtIGFuZCBkZXRlcm1pbmUgaWYgYSBzcGVjaWZpYyBhY3Rpb24gaXMgYWxsb3dlZAovLyBIZXJlLCBhY3Rpb24gcmVmZXJzIHRvIHRoZSBPbkNvbXBsZXRlIGluIGNvbWJpbmF0aW9uIHdpdGggd2hldGhlciB0aGUgYXBwIGlzIGJlaW5nIGNyZWF0ZWQgb3IgY2FsbGVkCi8vIEV2ZXJ5IHBvc3NpYmxlIGFjdGlvbiBmb3IgdGhpcyBjb250cmFjdCBpcyByZXByZXNlbnRlZCBpbiB0aGUgc3dpdGNoIHN0YXRlbWVudAovLyBJZiB0aGUgYWN0aW9uIGlzIG5vdCBpbXBsbWVudGVkIGluIHRoZSBjb250cmFjdCwgaXRzIHJlcHNlY3RpdmUgYnJhbmNoIHdpbGwgYmUgIk5PVF9JTVBMTUVOVEVEIiB3aGljaCBqdXN0IGNvbnRhaW5zICJlcnIiCnR4biBBcHBsaWNhdGlvbklECmludCAwCj4KaW50IDYKKgp0eG4gT25Db21wbGV0aW9uCisKc3dpdGNoIGNyZWF0ZV9Ob09wIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgTk9UX0lNUExFTUVOVEVEIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgY2FsbF9Ob09wIGNhbGxfT3B0SW4gY2FsbF9DbG9zZU91dCBOT1RfSU1QTEVNRU5URUQgY2FsbF9VcGRhdGVBcHBsaWNhdGlvbiBjYWxsX0RlbGV0ZUFwcGxpY2F0aW9uCgpOT1RfSU1QTEVNRU5URUQ6CgllcnIKCmlzX2FkbWluOgoJcHJvdG8gMCAxCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czo2NAoJLy8gcmV0dXJuIHRoaXMudHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbi52YWx1ZTsKCXR4biBTZW5kZXIKCWJ5dGUgMHg2MSAvLyAiYSIKCWFwcF9nbG9iYWxfZ2V0Cgk9PQoJcmV0c3ViCgppc19vd25lcjoKCXByb3RvIDIgMQoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6NzMKCS8vIHJldHVybiB0aGlzLmNhcmRzKHtwYXJ0bmVyOiBwYXJ0bmVyLCBvd25lcjogdGhpcy50eG4uc2VuZGVyfSBhcyBQYXJ0bmVyQW5kT3duZXIpLnZhbHVlID09PSBjYXJkOwoJYnl0ZSAweCAvLyBpbml0aWFsIGhlYWQKCWJ5dGUgMHggLy8gaW5pdGlhbCB0YWlsCglieXRlIDB4MDAyMiAvLyBpbml0aWFsIGhlYWQgb2Zmc2V0CglmcmFtZV9kaWcgLTEgLy8gcGFydG5lcjogYnl0ZXMKCWR1cAoJbGVuCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0CgljYWxsc3ViIHByb2Nlc3NfZHluYW1pY190dXBsZV9lbGVtZW50Cgl0eG4gU2VuZGVyCgljYWxsc3ViIHByb2Nlc3Nfc3RhdGljX3R1cGxlX2VsZW1lbnQKCXBvcCAvLyBwb3AgaGVhZCBvZmZzZXQKCWNvbmNhdCAvLyBjb25jYXQgaGVhZCBhbmQgdGFpbAoJYm94X2dldAoJYXNzZXJ0CglmcmFtZV9kaWcgLTIgLy8gY2FyZDogYWRkcmVzcwoJPT0KCXJldHN1YgoKLy8gZGVwbG95KCl2b2lkCi8vCi8vIERlcGxveSB0aGUgc21hcnQgY29udHJhY3QsIHNldHRpbmcgdGhlIHRyYW5zYWN0aW9uIHNlbmRlciBhcyB0aGUgYWRtaW4KYWJpX3JvdXRlX2RlcGxveToKCS8vIGV4ZWN1dGUgZGVwbG95KCl2b2lkCgljYWxsc3ViIGRlcGxveQoJaW50IDEKCXJldHVybgoKZGVwbG95OgoJcHJvdG8gMCAwCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czo4MQoJLy8gdGhpcy5hZG1pbi52YWx1ZSA9IHRoaXMudHhuLnNlbmRlcgoJYnl0ZSAweDYxIC8vICJhIgoJdHhuIFNlbmRlcgoJYXBwX2dsb2JhbF9wdXQKCXJldHN1YgoKLy8gdXBkYXRlKCl2b2lkCi8vCi8vIEFsbG93cyB0aGUgYWRtaW4gdG8gdXBkYXRlIHRoZSBzbWFydCBjb250cmFjdAphYmlfcm91dGVfdXBkYXRlOgoJLy8gZXhlY3V0ZSB1cGRhdGUoKXZvaWQKCWNhbGxzdWIgdXBkYXRlCglpbnQgMQoJcmV0dXJuCgp1cGRhdGU6Cglwcm90byAwIDAKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjg5CgkvLyBhc3NlcnQodGhpcy5pc19hZG1pbigpKQoJY2FsbHN1YiBpc19hZG1pbgoJYXNzZXJ0CglyZXRzdWIKCi8vIGRlc3Ryb3koKXZvaWQKLy8KLy8gRGVzdHJveSB0aGUgc21hcnQgY29udHJhY3QsIHNlbmRpbmcgYWxsIEFsZ28gdG8gdGhlIGFkbWluIGFjY291bnQuIFRoaXMgY2FuIG9ubHkgYmUgZG9uZSBpZiB0aGVyZSBhcmUgbm8gYWN0aXZlIGNhcmRzCmFiaV9yb3V0ZV9kZXN0cm95OgoJLy8gZXhlY3V0ZSBkZXN0cm95KCl2b2lkCgljYWxsc3ViIGRlc3Ryb3kKCWludCAxCglyZXR1cm4KCmRlc3Ryb3k6Cglwcm90byAwIDAKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjk3CgkvLyBhc3NlcnQodGhpcy5pc19hZG1pbigpKQoJY2FsbHN1YiBpc19hZG1pbgoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxMDAKCS8vIGFzc2VydCghdGhpcy5hY3RpdmVfY2FyZHMudmFsdWUpCglieXRlIDB4NjMgLy8gImMiCglhcHBfZ2xvYmFsX2dldAoJIQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxMDIKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiB0aGlzLmFwcC5hZGRyZXNzLAoJLy8gICAgICAgICAgICAgYW1vdW50OiAwLAoJLy8gICAgICAgICAgICAgY2xvc2VSZW1haW5kZXJUbzogdGhpcy5hZG1pbi52YWx1ZSwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBwYXkKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjEwMwoJLy8gcmVjZWl2ZXI6IHRoaXMuYXBwLmFkZHJlc3MKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCglpdHhuX2ZpZWxkIFJlY2VpdmVyCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxMDQKCS8vIGFtb3VudDogMAoJaW50IDAKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxMDUKCS8vIGNsb3NlUmVtYWluZGVyVG86IHRoaXMuYWRtaW4udmFsdWUKCWJ5dGUgMHg2MSAvLyAiYSIKCWFwcF9nbG9iYWxfZ2V0CglpdHhuX2ZpZWxkIENsb3NlUmVtYWluZGVyVG8KCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglyZXRzdWIKCi8vIHNldEFkbWluKGFkZHJlc3Mpdm9pZAovLwovLyBBbGxvd3MgdGhlIGN1cnJlbnQgYWRtaW4gdG8gc2V0IGEgbmV3IGFkbWluCi8vIEBwYXJhbSBhZG1pbiBBZGRyZXNzIHRvIGJlIG1hZGUgYWRtaW4KYWJpX3JvdXRlX3NldEFkbWluOgoJLy8gYWRtaW46IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWR1cAoJbGVuCglpbnQgMzIKCT09Cglhc3NlcnQKCgkvLyBleGVjdXRlIHNldEFkbWluKGFkZHJlc3Mpdm9pZAoJY2FsbHN1YiBzZXRBZG1pbgoJaW50IDEKCXJldHVybgoKc2V0QWRtaW46Cglwcm90byAxIDAKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjExNAoJLy8gYXNzZXJ0KHRoaXMuaXNfYWRtaW4oKSkKCWNhbGxzdWIgaXNfYWRtaW4KCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MTE2CgkvLyB0aGlzLmFkbWluLnZhbHVlID0gYWRtaW4KCWJ5dGUgMHg2MSAvLyAiYSIKCWZyYW1lX2RpZyAtMSAvLyBhZG1pbjogYWRkcmVzcwoJYXBwX2dsb2JhbF9wdXQKCXJldHN1YgoKLy8gc2V0V2l0aGRyYXdhbFJvdW5kcyh1aW50NjQpdm9pZAovLwovLyBTZXQgdGhlIG51bWJlciBvZiByb3VuZHMgYSB3aXRoZHJhd2FsIHJlcXVlc3QgbXVzdCB3YWl0IHVudGlsIGJlaW5nIHdpdGhkcmF3bgovLyBAcGFyYW0gcm91bmRzIE5ldyBudW1iZXIgb2Ygcm91bmRzIHRvIHdhaXQKYWJpX3JvdXRlX3NldFdpdGhkcmF3YWxSb3VuZHM6CgkvLyByb3VuZHM6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoKCS8vIGV4ZWN1dGUgc2V0V2l0aGRyYXdhbFJvdW5kcyh1aW50NjQpdm9pZAoJY2FsbHN1YiBzZXRXaXRoZHJhd2FsUm91bmRzCglpbnQgMQoJcmV0dXJuCgpzZXRXaXRoZHJhd2FsUm91bmRzOgoJcHJvdG8gMSAwCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxMjQKCS8vIGFzc2VydCh0aGlzLmlzX2FkbWluKCkpCgljYWxsc3ViIGlzX2FkbWluCglhc3NlcnQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjEyNgoJLy8gdGhpcy53aXRoZHJhd2FsX3dhaXRfdGltZS52YWx1ZSA9IHJvdW5kcwoJYnl0ZSAweDc3IC8vICJ3IgoJZnJhbWVfZGlnIC0xIC8vIHJvdW5kczogdWludDY0CglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBjYXJkQ3JlYXRlKGFkZHJlc3Msc3RyaW5nLHBheSlhZGRyZXNzCi8vCi8vIENyZWF0ZSBhY2NvdW50LiBUaGlzIGdlbmVyYXRlcyBhIGJyYW5kIG5ldyBhY2NvdW50IGFuZCBmdW5kcyB0aGUgbWluaW11bSBiYWxhbmNlIHJlcXVpcmVtZW50Ci8vIEBwYXJhbSBvd25lciBBZGRyZXNzIHRvIGhhdmUgY29udHJvbCBvdmVyIGFzc2V0IHdpdGhkcmF3YWxzCi8vIEByZXR1cm5zIE5ld2x5IGdlbmVyYXRlZCBhY2NvdW50IHVzZWQgYnkgdGhlaXIgY2FyZAphYmlfcm91dGVfY2FyZENyZWF0ZToKCWJ5dGUgMHggLy8gcHVzaCBlbXB0eSBieXRlcyB0byBmaWxsIHRoZSBzdGFjayBmcmFtZSBmb3IgdGhpcyBzdWJyb3V0aW5lJ3MgbG9jYWwgdmFyaWFibGVzCgoJLy8gb3duZXI6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWR1cAoJbGVuCglpbnQgMzIKCT09Cglhc3NlcnQKCgkvLyBwYXJ0bmVyOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gbWJyOiBwYXkKCXR4biBHcm91cEluZGV4CglpbnQgMQoJLQoJZHVwCglndHhucyBUeXBlRW51bQoJaW50IHBheQoJPT0KCWFzc2VydAoKCS8vIGV4ZWN1dGUgY2FyZENyZWF0ZShhZGRyZXNzLHN0cmluZyxwYXkpYWRkcmVzcwoJY2FsbHN1YiBjYXJkQ3JlYXRlCglpbnQgMQoJcmV0dXJuCgpjYXJkQ3JlYXRlOgoJcHJvdG8gNCAwCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxMzUKCS8vIGFzc2VydCh0aGlzLmlzX2FkbWluKCkpCgljYWxsc3ViIGlzX2FkbWluCglhc3NlcnQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjEzNwoJLy8gYXNzZXJ0KG1ici5hbW91bnQgPT09IGNhcmRfbWJyKQoJZnJhbWVfZGlnIC0xIC8vIG1icjogcGF5CglndHhucyBBbW91bnQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjIxCgkvLyBnbG9iYWxzLm1pbkJhbGFuY2UKCWdsb2JhbCBNaW5CYWxhbmNlCglpbnQgNDA5MDAKCSsKCT09Cglhc3NlcnQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjEzOAoJLy8gYXNzZXJ0KG1ici5yZWNlaXZlciA9PT0gdGhpcy5hcHAuYWRkcmVzcykKCWZyYW1lX2RpZyAtMSAvLyBtYnI6IHBheQoJZ3R4bnMgUmVjZWl2ZXIKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCgk9PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxNDEKCS8vIGNhcmRfYWRkcjogQWRkcmVzcyA9IHNlbmRNZXRob2RDYWxsPFtdLCBBZGRyZXNzPih7CgkvLyAgICAgICAgICAgICBuYW1lOiAibmV3IiwKCS8vICAgICAgICAgICAgIG9uQ29tcGxldGlvbjogIkRlbGV0ZUFwcGxpY2F0aW9uIiwKCS8vICAgICAgICAgICAgIGFwcHJvdmFsUHJvZ3JhbTogQ2FyZC5hcHByb3ZhbFByb2dyYW0oKSwKCS8vICAgICAgICAgICAgIGNsZWFyU3RhdGVQcm9ncmFtOiBDYXJkLmNsZWFyUHJvZ3JhbSgpLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGFwcGwKCWl0eG5fZmllbGQgVHlwZUVudW0KCW1ldGhvZCAibmV3KClhZGRyZXNzIgoJaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjE0MwoJLy8gb25Db21wbGV0aW9uOiAiRGVsZXRlQXBwbGljYXRpb24iCglpbnQgRGVsZXRlQXBwbGljYXRpb24KCWl0eG5fZmllbGQgT25Db21wbGV0aW9uCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxNDQKCS8vIGFwcHJvdmFsUHJvZ3JhbTogQ2FyZC5hcHByb3ZhbFByb2dyYW0oKQoJYnl0ZSBiNjQgQ1NBQ0FBRXhHQ0lOZ1FZTE1Sa0lqUVlBQUFBQUFBQUFBQUFBQUNjQWlBQUNJME9LQUFDeEk3SVFNZ3F5QnlLeUNESU9zaUFpc2dHemdBUVZIM3gxTWdwUXNJbUFCRllkTCtvMkdnQ09BZi9OQUE9PQoJaXR4bl9maWVsZCBBcHByb3ZhbFByb2dyYW0KCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjE0NQoJLy8gY2xlYXJTdGF0ZVByb2dyYW06IENhcmQuY2xlYXJQcm9ncmFtKCkKCWJ5dGUgYjY0IENRPT0KCWl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglpdHhuIE51bUxvZ3MKCWludCAxCgktCglpdHhuYXMgTG9ncwoJZXh0cmFjdCA0IDAKCWZyYW1lX2J1cnkgLTQgLy8gY2FyZF9hZGRyOiBhZGRyZXNzCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxNDkKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiBjYXJkX2FkZHIsCgkvLyAgICAgICAgICAgICBhbW91bnQ6IGdsb2JhbHMubWluQmFsYW5jZSwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBwYXkKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjE1MAoJLy8gcmVjZWl2ZXI6IGNhcmRfYWRkcgoJZnJhbWVfZGlnIC00IC8vIGNhcmRfYWRkcjogYWRkcmVzcwoJaXR4bl9maWVsZCBSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MTUxCgkvLyBhbW91bnQ6IGdsb2JhbHMubWluQmFsYW5jZQoJZ2xvYmFsIE1pbkJhbGFuY2UKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MTU1CgkvLyB0aGlzLmNhcmRzKHsgcGFydG5lcjogcGFydG5lciwgb3duZXI6IG93bmVyfSBhcyBQYXJ0bmVyQW5kT3duZXIpLnZhbHVlID0gY2FyZF9hZGRyCglieXRlIDB4IC8vIGluaXRpYWwgaGVhZAoJYnl0ZSAweCAvLyBpbml0aWFsIHRhaWwKCWJ5dGUgMHgwMDIyIC8vIGluaXRpYWwgaGVhZCBvZmZzZXQKCWZyYW1lX2RpZyAtMiAvLyBwYXJ0bmVyOiBieXRlcwoJZHVwCglsZW4KCWl0b2IKCWV4dHJhY3QgNiAyCglzd2FwCgljb25jYXQKCWNhbGxzdWIgcHJvY2Vzc19keW5hbWljX3R1cGxlX2VsZW1lbnQKCWZyYW1lX2RpZyAtMyAvLyBvd25lcjogYWRkcmVzcwoJY2FsbHN1YiBwcm9jZXNzX3N0YXRpY190dXBsZV9lbGVtZW50Cglwb3AgLy8gcG9wIGhlYWQgb2Zmc2V0Cgljb25jYXQgLy8gY29uY2F0IGhlYWQgYW5kIHRhaWwKCWZyYW1lX2RpZyAtNCAvLyBjYXJkX2FkZHI6IGFkZHJlc3MKCWJveF9wdXQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjE1OAoJLy8gdGhpcy5hY3RpdmVfY2FyZHMudmFsdWUgPSB0aGlzLmFjdGl2ZV9jYXJkcy52YWx1ZSArIDEKCWJ5dGUgMHg2MyAvLyAiYyIKCWJ5dGUgMHg2MyAvLyAiYyIKCWFwcF9nbG9iYWxfZ2V0CglpbnQgMQoJKwoJYXBwX2dsb2JhbF9wdXQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjE2MQoJLy8gcmV0dXJuIGNhcmRfYWRkcjsKCWJ5dGUgMHgxNTFmN2M3NQoJZnJhbWVfZGlnIC00IC8vIGNhcmRfYWRkcjogYWRkcmVzcwoJY29uY2F0Cglsb2cKCXJldHN1YgoKLy8gY2FyZENsb3NlKGFjY291bnQsYWRkcmVzcyxzdHJpbmcpdm9pZAovLwovLyBDbG9zZSBhY2NvdW50LiBUaGlzIHBlcm1hbmVudGx5IHJlbW92ZXMgdGhlIHJla2V5IGFuZCBkZWxldGVzIHRoZSBhY2NvdW50IGZyb20gdGhlIGxlZGdlcgovLyBAcGFyYW0gcGFydG5lciBQYXJ0bmVyIG5hbWUKLy8gQHBhcmFtIG93bmVyIEFkZHJlc3Mgd2hpY2ggaGFzIGNvbnRyb2wgb3ZlciBhc3NldCB3aXRoZHJhd2FscwovLyBAcGFyYW0gY2FyZCBBY2NvdW50IHRvIGNsb3NlCmFiaV9yb3V0ZV9jYXJkQ2xvc2U6CgkvLyBjYXJkOiBhY2NvdW50Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAzCglidG9pCgl0eG5hcyBBY2NvdW50cwoKCS8vIG93bmVyOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglkdXAKCWxlbgoJaW50IDMyCgk9PQoJYXNzZXJ0CgoJLy8gcGFydG5lcjogc3RyaW5nCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglleHRyYWN0IDIgMAoKCS8vIGV4ZWN1dGUgY2FyZENsb3NlKGFjY291bnQsYWRkcmVzcyxzdHJpbmcpdm9pZAoJY2FsbHN1YiBjYXJkQ2xvc2UKCWludCAxCglyZXR1cm4KCmNhcmRDbG9zZToKCXByb3RvIDMgMAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MTcxCgkvLyBhc3NlcnQodGhpcy5pc19hZG1pbigpKQoJY2FsbHN1YiBpc19hZG1pbgoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxNzMKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICAgIHNlbmRlcjogY2FyZCwKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiBjYXJkLAoJLy8gICAgICAgICAgICAgYW1vdW50OiAwLAoJLy8gICAgICAgICAgICAgY2xvc2VSZW1haW5kZXJUbzogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IHBheQoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MTc0CgkvLyBzZW5kZXI6IGNhcmQKCWZyYW1lX2RpZyAtMyAvLyBjYXJkOiBhY2NvdW50CglpdHhuX2ZpZWxkIFNlbmRlcgoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MTc1CgkvLyByZWNlaXZlcjogY2FyZAoJZnJhbWVfZGlnIC0zIC8vIGNhcmQ6IGFjY291bnQKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjE3NgoJLy8gYW1vdW50OiAwCglpbnQgMAoJaXR4bl9maWVsZCBBbW91bnQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjE3NwoJLy8gY2xvc2VSZW1haW5kZXJUbzogdGhpcy50eG4uc2VuZGVyCgl0eG4gU2VuZGVyCglpdHhuX2ZpZWxkIENsb3NlUmVtYWluZGVyVG8KCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxODAKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIsCgkvLyAgICAgICAgICAgICBhbW91bnQ6IGJveF9tYnIsCgkvLyAgICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgcGF5CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxODEKCS8vIHJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjE4MgoJLy8gYW1vdW50OiBib3hfbWJyCglpbnQgNDA5MDAKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MTg2CgkvLyB0aGlzLmNhcmRzKHtwYXJ0bmVyOiBwYXJ0bmVyLCBvd25lcjogb3duZXJ9IGFzIFBhcnRuZXJBbmRPd25lcikuZGVsZXRlKCkKCWJ5dGUgMHggLy8gaW5pdGlhbCBoZWFkCglieXRlIDB4IC8vIGluaXRpYWwgdGFpbAoJYnl0ZSAweDAwMjIgLy8gaW5pdGlhbCBoZWFkIG9mZnNldAoJZnJhbWVfZGlnIC0xIC8vIHBhcnRuZXI6IGJ5dGVzCglkdXAKCWxlbgoJaXRvYgoJZXh0cmFjdCA2IDIKCXN3YXAKCWNvbmNhdAoJY2FsbHN1YiBwcm9jZXNzX2R5bmFtaWNfdHVwbGVfZWxlbWVudAoJZnJhbWVfZGlnIC0yIC8vIG93bmVyOiBhZGRyZXNzCgljYWxsc3ViIHByb2Nlc3Nfc3RhdGljX3R1cGxlX2VsZW1lbnQKCXBvcCAvLyBwb3AgaGVhZCBvZmZzZXQKCWNvbmNhdCAvLyBjb25jYXQgaGVhZCBhbmQgdGFpbAoJYm94X2RlbAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MTg5CgkvLyB0aGlzLmFjdGl2ZV9jYXJkcy52YWx1ZSA9IHRoaXMuYWN0aXZlX2NhcmRzLnZhbHVlIC0gMQoJYnl0ZSAweDYzIC8vICJjIgoJYnl0ZSAweDYzIC8vICJjIgoJYXBwX2dsb2JhbF9nZXQKCWludCAxCgktCglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBjYXJkQWRkQXNzZXQoYXNzZXQsYWNjb3VudCxzdHJpbmcscGF5KXZvaWQKLy8KLy8gQWxsb3dzIHRoZSBvd25lciAob3IgYWRtaW4pIHRvIE9wdEluIHRvIGFuIGFzc2V0LCBpbmNyZWFzaW5nIHRoZSBtaW5pbXVtIGJhbGFuY2UgcmVxdWlyZW1lbnQgb2YgdGhlIGFjY291bnQKLy8gQHBhcmFtIHBhcnRuZXIgUGFydG5lciBuYW1lCi8vIEBwYXJhbSBjYXJkIEFjY291bnQgdG8gYWRkIGFzc2V0IHRvCi8vIEBwYXJhbSBhc3NldCBBc3NldCB0byBhZGQKYWJpX3JvdXRlX2NhcmRBZGRBc3NldDoKCS8vIGFzc2V0OiBhc3NldAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwoJYnRvaQoJdHhuYXMgQXNzZXRzCgoJLy8gY2FyZDogYWNjb3VudAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJYnRvaQoJdHhuYXMgQWNjb3VudHMKCgkvLyBwYXJ0bmVyOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gbWJyOiBwYXkKCXR4biBHcm91cEluZGV4CglpbnQgMQoJLQoJZHVwCglndHhucyBUeXBlRW51bQoJaW50IHBheQoJPT0KCWFzc2VydAoKCS8vIGV4ZWN1dGUgY2FyZEFkZEFzc2V0KGFzc2V0LGFjY291bnQsc3RyaW5nLHBheSl2b2lkCgljYWxsc3ViIGNhcmRBZGRBc3NldAoJaW50IDEKCXJldHVybgoKY2FyZEFkZEFzc2V0OgoJcHJvdG8gNCAwCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoxOTkKCS8vIGFzc2VydCh0aGlzLmlzX2FkbWluKCkgfHwgdGhpcy5pc19vd25lcihwYXJ0bmVyLCBjYXJkKSkKCWNhbGxzdWIgaXNfYWRtaW4KCWR1cAoJYm56IHNraXBfb3IwCglmcmFtZV9kaWcgLTMgLy8gY2FyZDogYWNjb3VudAoJZnJhbWVfZGlnIC0yIC8vIHBhcnRuZXI6IGJ5dGVzCgljYWxsc3ViIGlzX293bmVyCgl8fAoKc2tpcF9vcjA6Cglhc3NlcnQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjIwMQoJLy8gYXNzZXJ0KG1ici5hbW91bnQgPT09IGFzc2V0X21icikKCWZyYW1lX2RpZyAtMSAvLyBtYnI6IHBheQoJZ3R4bnMgQW1vdW50CglpbnQgMTAwMDAwCgk9PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyMDIKCS8vIGFzc2VydChtYnIucmVjZWl2ZXIgPT09IHRoaXMuYXBwLmFkZHJlc3MpCglmcmFtZV9kaWcgLTEgLy8gbWJyOiBwYXkKCWd0eG5zIFJlY2VpdmVyCglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJPT0KCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjA1CgkvLyBzZW5kUGF5bWVudCh7CgkvLyAgICAgICAgICAgICByZWNlaXZlcjogY2FyZCwKCS8vICAgICAgICAgICAgIGFtb3VudDogZ2xvYmFscy5taW5CYWxhbmNlLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IHBheQoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjA2CgkvLyByZWNlaXZlcjogY2FyZAoJZnJhbWVfZGlnIC0zIC8vIGNhcmQ6IGFjY291bnQKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjIwNwoJLy8gYW1vdW50OiBnbG9iYWxzLm1pbkJhbGFuY2UKCWdsb2JhbCBNaW5CYWxhbmNlCglpdHhuX2ZpZWxkIEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjIxMAoJLy8gc2VuZEFzc2V0VHJhbnNmZXIoewoJLy8gICAgICAgICAgICAgc2VuZGVyOiBjYXJkLAoJLy8gICAgICAgICAgICAgYXNzZXRSZWNlaXZlcjogY2FyZCwKCS8vICAgICAgICAgICAgIHhmZXJBc3NldDogYXNzZXQsCgkvLyAgICAgICAgICAgICBhc3NldEFtb3VudDogMCwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjExCgkvLyBzZW5kZXI6IGNhcmQKCWZyYW1lX2RpZyAtMyAvLyBjYXJkOiBhY2NvdW50CglpdHhuX2ZpZWxkIFNlbmRlcgoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjEyCgkvLyBhc3NldFJlY2VpdmVyOiBjYXJkCglmcmFtZV9kaWcgLTMgLy8gY2FyZDogYWNjb3VudAoJaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyMTMKCS8vIHhmZXJBc3NldDogYXNzZXQKCWZyYW1lX2RpZyAtNCAvLyBhc3NldDogYXNzZXQKCWl0eG5fZmllbGQgWGZlckFzc2V0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyMTQKCS8vIGFzc2V0QW1vdW50OiAwCglpbnQgMAoJaXR4bl9maWVsZCBBc3NldEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCXJldHN1YgoKLy8gY2FyZFJlbW92ZUFzc2V0KGFzc2V0LGFjY291bnQsc3RyaW5nKXZvaWQKLy8KLy8gQWxsb3dzIHRoZSBvd25lciAob3IgYWRtaW4pIHRvIENsb3NlT3V0IG9mIGFuIGFzc2V0LCByZWR1Y2luZyB0aGUgbWluaW11bSBiYWxhbmNlIHJlcXVpcmVtZW50IG9mIHRoZSBhY2NvdW50Ci8vIEBwYXJhbSBwYXJ0bmVyIFBhcnRuZXIgbmFtZQovLyBAcGFyYW0gY2FyZCBBY2NvdW50IHRvIHJlbW92ZSBhc3NldCBmcm9tCi8vIEBwYXJhbSBhc3NldCBBc3NldCB0byByZW1vdmUKYWJpX3JvdXRlX2NhcmRSZW1vdmVBc3NldDoKCS8vIGFzc2V0OiBhc3NldAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwoJYnRvaQoJdHhuYXMgQXNzZXRzCgoJLy8gY2FyZDogYWNjb3VudAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJYnRvaQoJdHhuYXMgQWNjb3VudHMKCgkvLyBwYXJ0bmVyOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gZXhlY3V0ZSBjYXJkUmVtb3ZlQXNzZXQoYXNzZXQsYWNjb3VudCxzdHJpbmcpdm9pZAoJY2FsbHN1YiBjYXJkUmVtb3ZlQXNzZXQKCWludCAxCglyZXR1cm4KCmNhcmRSZW1vdmVBc3NldDoKCXByb3RvIDMgMAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjI1CgkvLyBhc3NlcnQodGhpcy5pc19hZG1pbigpIHx8IHRoaXMuaXNfb3duZXIocGFydG5lciwgY2FyZCkpCgljYWxsc3ViIGlzX2FkbWluCglkdXAKCWJueiBza2lwX29yMQoJZnJhbWVfZGlnIC0yIC8vIGNhcmQ6IGFjY291bnQKCWZyYW1lX2RpZyAtMSAvLyBwYXJ0bmVyOiBieXRlcwoJY2FsbHN1YiBpc19vd25lcgoJfHwKCnNraXBfb3IxOgoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyMjcKCS8vIHNlbmRBc3NldFRyYW5zZmVyKHsKCS8vICAgICAgICAgICAgIHNlbmRlcjogY2FyZCwKCS8vICAgICAgICAgICAgIGFzc2V0UmVjZWl2ZXI6IGNhcmQsCgkvLyAgICAgICAgICAgICBhc3NldENsb3NlVG86IGNhcmQsCgkvLyAgICAgICAgICAgICB4ZmVyQXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICAgICAgYXNzZXRBbW91bnQ6IDAsCgkvLyAgICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYXhmZXIKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjIyOAoJLy8gc2VuZGVyOiBjYXJkCglmcmFtZV9kaWcgLTIgLy8gY2FyZDogYWNjb3VudAoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjIyOQoJLy8gYXNzZXRSZWNlaXZlcjogY2FyZAoJZnJhbWVfZGlnIC0yIC8vIGNhcmQ6IGFjY291bnQKCWl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjMwCgkvLyBhc3NldENsb3NlVG86IGNhcmQKCWZyYW1lX2RpZyAtMiAvLyBjYXJkOiBhY2NvdW50CglpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjMxCgkvLyB4ZmVyQXNzZXQ6IGFzc2V0CglmcmFtZV9kaWcgLTMgLy8gYXNzZXQ6IGFzc2V0CglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjMyCgkvLyBhc3NldEFtb3VudDogMAoJaW50IDAKCWl0eG5fZmllbGQgQXNzZXRBbW91bnQKCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyMzYKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICAgIHNlbmRlcjogY2FyZCwKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIsCgkvLyAgICAgICAgICAgICBhbW91bnQ6IGdsb2JhbHMubWluQmFsYW5jZSwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBwYXkKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjIzNwoJLy8gc2VuZGVyOiBjYXJkCglmcmFtZV9kaWcgLTIgLy8gY2FyZDogYWNjb3VudAoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjIzOAoJLy8gcmVjZWl2ZXI6IHRoaXMudHhuLnNlbmRlcgoJdHhuIFNlbmRlcgoJaXR4bl9maWVsZCBSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjM5CgkvLyBhbW91bnQ6IGdsb2JhbHMubWluQmFsYW5jZQoJZ2xvYmFsIE1pbkJhbGFuY2UKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoJcmV0c3ViCgovLyBjYXJkRGViaXQodWludDY0LGFzc2V0LGFjY291bnQsYWNjb3VudCl2b2lkCi8vCi8vIEFsbG93cyB0aGUgYWRtaW4gdG8gc2VuZCBhbiBhbW91bnQgb2YgYXNzZXRzIGZyb20gdGhlIGFjY291bnQKLy8gQHBhcmFtIGNhcmQgQWNjb3VudCB0byBkZWJpdCBmcm9tCi8vIEBwYXJhbSByZWNpcGllbnQgUmVjZWl2ZXIgb2YgdGhlIGFzc2V0cyBiZWluZyBkZWJpdGVkCi8vIEBwYXJhbSBhc3NldCBBc3NldCBiZWluZyBkZWJpdGVkCi8vIEBwYXJhbSBhbW91bnQgQW1vdW50IHRvIGRlYml0CmFiaV9yb3V0ZV9jYXJkRGViaXQ6CgkvLyBhbW91bnQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAoJYnRvaQoKCS8vIGFzc2V0OiBhc3NldAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwoJYnRvaQoJdHhuYXMgQXNzZXRzCgoJLy8gcmVjaXBpZW50OiBhY2NvdW50Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglidG9pCgl0eG5hcyBBY2NvdW50cwoKCS8vIGNhcmQ6IGFjY291bnQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWJ0b2kKCXR4bmFzIEFjY291bnRzCgoJLy8gZXhlY3V0ZSBjYXJkRGViaXQodWludDY0LGFzc2V0LGFjY291bnQsYWNjb3VudCl2b2lkCgljYWxsc3ViIGNhcmREZWJpdAoJaW50IDEKCXJldHVybgoKY2FyZERlYml0OgoJcHJvdG8gNCAwCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyNTEKCS8vIGFzc2VydCh0aGlzLmlzX2FkbWluKCkpCgljYWxsc3ViIGlzX2FkbWluCglhc3NlcnQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjI1MwoJLy8gc2VuZEFzc2V0VHJhbnNmZXIoewoJLy8gICAgICAgICAgICAgc2VuZGVyOiBjYXJkLAoJLy8gICAgICAgICAgICAgYXNzZXRSZWNlaXZlcjogcmVjaXBpZW50LAoJLy8gICAgICAgICAgICAgeGZlckFzc2V0OiBhc3NldCwKCS8vICAgICAgICAgICAgIGFzc2V0QW1vdW50OiBhbW91bnQsCgkvLyAgICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYXhmZXIKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjI1NAoJLy8gc2VuZGVyOiBjYXJkCglmcmFtZV9kaWcgLTEgLy8gY2FyZDogYWNjb3VudAoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjI1NQoJLy8gYXNzZXRSZWNlaXZlcjogcmVjaXBpZW50CglmcmFtZV9kaWcgLTIgLy8gcmVjaXBpZW50OiBhY2NvdW50CglpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjI1NgoJLy8geGZlckFzc2V0OiBhc3NldAoJZnJhbWVfZGlnIC0zIC8vIGFzc2V0OiBhc3NldAoJaXR4bl9maWVsZCBYZmVyQXNzZXQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjI1NwoJLy8gYXNzZXRBbW91bnQ6IGFtb3VudAoJZnJhbWVfZGlnIC00IC8vIGFtb3VudDogdWludDY0CglpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoJcmV0c3ViCgovLyBjYXJkV2l0aGRyYXdhbFJlcXVlc3QodWludDY0LGFzc2V0LGFjY291bnQsc3RyaW5nKWJ5dGVbMzJdCi8vCi8vIEFsbG93cyB0aGUgb3duZXIgdG8gc2VuZCBhbiBhbW91bnQgb2YgYXNzZXRzIGZyb20gdGhlIGFjY291bnQKLy8gQHBhcmFtIHBhcnRuZXIgUGFydG5lciBuYW1lCi8vIEBwYXJhbSBjYXJkIEFjY291bnQgdG8gd2l0aGRyYXcgZnJvbQovLyBAcGFyYW0gYXNzZXQgQXNzZXQgYmVpbmcgd2l0aGRyYXduCi8vIEBwYXJhbSBhbW91bnQgQW1vdW50IHRvIHdpdGhkcmF3Ci8vIEByZXR1cm5zIFdpdGhkcmF3YWwgaGFzaCB1c2VkIGZvciBjb21wbGV0aW5nIG9yIGNhbmNlbGxpbmcgdGhlIHdpdGhkcmF3YWwKYWJpX3JvdXRlX2NhcmRXaXRoZHJhd2FsUmVxdWVzdDoKCWJ5dGUgMHg7IGR1cCAvLyBwdXNoIGVtcHR5IGJ5dGVzIHRvIGZpbGwgdGhlIHN0YWNrIGZyYW1lIGZvciB0aGlzIHN1YnJvdXRpbmUncyBsb2NhbCB2YXJpYWJsZXMKCgkvLyBhbW91bnQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAoJYnRvaQoKCS8vIGFzc2V0OiBhc3NldAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwoJYnRvaQoJdHhuYXMgQXNzZXRzCgoJLy8gY2FyZDogYWNjb3VudAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJYnRvaQoJdHhuYXMgQWNjb3VudHMKCgkvLyBwYXJ0bmVyOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gZXhlY3V0ZSBjYXJkV2l0aGRyYXdhbFJlcXVlc3QodWludDY0LGFzc2V0LGFjY291bnQsc3RyaW5nKWJ5dGVbMzJdCgljYWxsc3ViIGNhcmRXaXRoZHJhd2FsUmVxdWVzdAoJaW50IDEKCXJldHVybgoKY2FyZFdpdGhkcmF3YWxSZXF1ZXN0OgoJcHJvdG8gNiAwCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyNzIKCS8vIGFzc2VydCh0aGlzLmlzX293bmVyKHBhcnRuZXIsIGNhcmQpKQoJZnJhbWVfZGlnIC0yIC8vIGNhcmQ6IGFjY291bnQKCWZyYW1lX2RpZyAtMSAvLyBwYXJ0bmVyOiBieXRlcwoJY2FsbHN1YiBpc19vd25lcgoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyNzQKCS8vIHdpdGhkcmF3YWw6IFdpdGhkcmF3YWxSZXF1ZXN0ID0gewoJLy8gICAgICAgICAgICAgbm9uY2U6IHRoaXMud2l0aGRyYXdhbF9ub25jZSh0aGlzLnR4bi5zZW5kZXIpLnZhbHVlLAoJLy8gICAgICAgICAgICAgcm91bmQ6IGdsb2JhbHMucm91bmQgKyB0aGlzLndpdGhkcmF3YWxfd2FpdF90aW1lLnZhbHVlLAoJLy8gICAgICAgICAgICAgYXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCgkvLyAgICAgICAgIH0KCXR4biBTZW5kZXIKCWJ5dGUgMHg2ZSAvLyAibiIKCWFwcF9sb2NhbF9nZXQKCWl0b2IKCWdsb2JhbCBSb3VuZAoJYnl0ZSAweDc3IC8vICJ3IgoJYXBwX2dsb2JhbF9nZXQKCSsKCWl0b2IKCWNvbmNhdAoJZnJhbWVfZGlnIC0zIC8vIGFzc2V0OiBhc3NldAoJaXRvYgoJY29uY2F0CglmcmFtZV9kaWcgLTQgLy8gYW1vdW50OiB1aW50NjQKCWl0b2IKCWNvbmNhdAoJZnJhbWVfYnVyeSAtNSAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MjgwCgkvLyB0aGlzLndpdGhkcmF3YWxfbm9uY2UodGhpcy50eG4uc2VuZGVyKS52YWx1ZSA9IHRoaXMud2l0aGRyYXdhbF9ub25jZSh0aGlzLnR4bi5zZW5kZXIpLnZhbHVlICsgMQoJdHhuIFNlbmRlcgoJYnl0ZSAweDZlIC8vICJuIgoJdHhuIFNlbmRlcgoJYnl0ZSAweDZlIC8vICJuIgoJYXBwX2xvY2FsX2dldAoJaW50IDEKCSsKCWFwcF9sb2NhbF9wdXQKCgkvLyBjb250cmFjdHMvUGF5bWVudFN5c3RlbS5hbGdvLnRzOjI4MQoJLy8gd2l0aGRyYXdhbF9oYXNoOiBieXRlWzMyXSA9IHNoYTI1Nih3aXRoZHJhd2FsIGFzIHVua25vd24gYXMgYnl0ZXMpCglmcmFtZV9kaWcgLTUgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCXNoYTI1NgoJZnJhbWVfYnVyeSAtNiAvLyB3aXRoZHJhd2FsX2hhc2g6IGJ5dGVbMzJdCgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyODMKCS8vIHRoaXMud2l0aGRyYXdhbHMoCgkvLyAgICAgICAgICAgICB0aGlzLnR4bi5zZW5kZXIsCgkvLyAgICAgICAgICAgICB3aXRoZHJhd2FsX2hhc2gsCgkvLyAgICAgICAgICkudmFsdWUgPSB3aXRoZHJhd2FsCgl0eG4gU2VuZGVyCglmcmFtZV9kaWcgLTYgLy8gd2l0aGRyYXdhbF9oYXNoOiBieXRlWzMyXQoJZnJhbWVfZGlnIC01IC8vIHdpdGhkcmF3YWw6IFdpdGhkcmF3YWxSZXF1ZXN0CglhcHBfbG9jYWxfcHV0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czoyODgKCS8vIHJldHVybiB3aXRoZHJhd2FsX2hhc2g7CglieXRlIDB4MTUxZjdjNzUKCWZyYW1lX2RpZyAtNiAvLyB3aXRoZHJhd2FsX2hhc2g6IGJ5dGVbMzJdCgljb25jYXQKCWxvZwoJcmV0c3ViCgovLyBjYXJkV2l0aGRyYXdhbENhbmNlbChieXRlWzMyXSxhY2NvdW50LHN0cmluZyl2b2lkCi8vCi8vIEFsbG93cyB0aGUgb3duZXIgKG9yIGFkbWluKSB0byBjYW5jZWwgYSB3aXRoZHJhd2FsIHJlcXVlc3QKLy8gQHBhcmFtIHBhcnRuZXIgUGFydG5lciBuYW1lCi8vIEBwYXJhbSBjYXJkIEFjY291bnQgdG8gd2l0aGRyYXcgZnJvbQovLyBAcGFyYW0gd2l0aGRyYXdhbF9oYXNoIEhhc2ggb2YgdGhlIHdpdGhkcmF3YWwgcmVxdWVzdAphYmlfcm91dGVfY2FyZFdpdGhkcmF3YWxDYW5jZWw6CgkvLyB3aXRoZHJhd2FsX2hhc2g6IGJ5dGVbMzJdCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAzCglkdXAKCWxlbgoJaW50IDMyCgk9PQoJYXNzZXJ0CgoJLy8gY2FyZDogYWNjb3VudAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJYnRvaQoJdHhuYXMgQWNjb3VudHMKCgkvLyBwYXJ0bmVyOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gZXhlY3V0ZSBjYXJkV2l0aGRyYXdhbENhbmNlbChieXRlWzMyXSxhY2NvdW50LHN0cmluZyl2b2lkCgljYWxsc3ViIGNhcmRXaXRoZHJhd2FsQ2FuY2VsCglpbnQgMQoJcmV0dXJuCgpjYXJkV2l0aGRyYXdhbENhbmNlbDoKCXByb3RvIDMgMAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6Mjk4CgkvLyBhc3NlcnQodGhpcy5pc19hZG1pbigpIHx8IHRoaXMuaXNfb3duZXIocGFydG5lciwgY2FyZCkpCgljYWxsc3ViIGlzX2FkbWluCglkdXAKCWJueiBza2lwX29yMgoJZnJhbWVfZGlnIC0yIC8vIGNhcmQ6IGFjY291bnQKCWZyYW1lX2RpZyAtMSAvLyBwYXJ0bmVyOiBieXRlcwoJY2FsbHN1YiBpc19vd25lcgoJfHwKCnNraXBfb3IyOgoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czozMDAKCS8vIHRoaXMud2l0aGRyYXdhbHModGhpcy50eG4uc2VuZGVyLCB3aXRoZHJhd2FsX2hhc2gpLmRlbGV0ZSgpCgl0eG4gU2VuZGVyCglmcmFtZV9kaWcgLTMgLy8gd2l0aGRyYXdhbF9oYXNoOiBieXRlWzMyXQoJYXBwX2xvY2FsX2RlbAoJcmV0c3ViCgovLyBjYXJkV2l0aGRyYXcoYnl0ZVszMl0sYXNzZXQsYWNjb3VudCxhY2NvdW50LHN0cmluZyl2b2lkCi8vCi8vIEFsbG93cyB0aGUgb3duZXIgdG8gc2VuZCBhbiBhbW91bnQgb2YgYXNzZXRzIGZyb20gdGhlIGFjY291bnQKLy8gQHBhcmFtIHBhcnRuZXIgUGFydG5lciBuYW1lCi8vIEBwYXJhbSBjYXJkIEFjY291bnQgdG8gd2l0aGRyYXcgZnJvbQovLyBAcGFyYW0gcmVjaXBpZW50IFJlY2VpdmVyIG9mIHRoZSBhc3NldHMgYmVpbmcgd2l0aGRyYXduCi8vIEBwYXJhbSBhc3NldCBBc3NldCBiZWluZyB3aXRoZHJhd24KLy8gQHBhcmFtIHdpdGhkcmF3YWxfaGFzaCBIYXNoIG9mIHRoZSB3aXRoZHJhd2FsIHJlcXVlc3QKYWJpX3JvdXRlX2NhcmRXaXRoZHJhdzoKCWJ5dGUgMHggLy8gcHVzaCBlbXB0eSBieXRlcyB0byBmaWxsIHRoZSBzdGFjayBmcmFtZSBmb3IgdGhpcyBzdWJyb3V0aW5lJ3MgbG9jYWwgdmFyaWFibGVzCgoJLy8gd2l0aGRyYXdhbF9oYXNoOiBieXRlWzMyXQoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQoJZHVwCglsZW4KCWludCAzMgoJPT0KCWFzc2VydAoKCS8vIGFzc2V0OiBhc3NldAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAoJYnRvaQoJdHhuYXMgQXNzZXRzCgoJLy8gcmVjaXBpZW50OiBhY2NvdW50Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAzCglidG9pCgl0eG5hcyBBY2NvdW50cwoKCS8vIGNhcmQ6IGFjY291bnQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWJ0b2kKCXR4bmFzIEFjY291bnRzCgoJLy8gcGFydG5lcjogc3RyaW5nCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglleHRyYWN0IDIgMAoKCS8vIGV4ZWN1dGUgY2FyZFdpdGhkcmF3KGJ5dGVbMzJdLGFzc2V0LGFjY291bnQsYWNjb3VudCxzdHJpbmcpdm9pZAoJY2FsbHN1YiBjYXJkV2l0aGRyYXcKCWludCAxCglyZXR1cm4KCmNhcmRXaXRoZHJhdzoKCXByb3RvIDYgMAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MzE0CgkvLyBhc3NlcnQodGhpcy5pc19vd25lcihwYXJ0bmVyLCBjYXJkKSkKCWZyYW1lX2RpZyAtMiAvLyBjYXJkOiBhY2NvdW50CglmcmFtZV9kaWcgLTEgLy8gcGFydG5lcjogYnl0ZXMKCWNhbGxzdWIgaXNfb3duZXIKCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MzE2CgkvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdCA9IHRoaXMud2l0aGRyYXdhbHModGhpcy50eG4uc2VuZGVyLCB3aXRoZHJhd2FsX2hhc2gpLnZhbHVlIGFzIFdpdGhkcmF3YWxSZXF1ZXN0Cgl0eG4gU2VuZGVyCglmcmFtZV9kaWcgLTUgLy8gd2l0aGRyYXdhbF9oYXNoOiBieXRlWzMyXQoJYXBwX2xvY2FsX2dldAoJZnJhbWVfYnVyeSAtNiAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MzE4CgkvLyBhc3NlcnQoZ2xvYmFscy5yb3VuZCA+PSB3aXRoZHJhd2FsLnJvdW5kKQoJZ2xvYmFsIFJvdW5kCglmcmFtZV9kaWcgLTYgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCWV4dHJhY3QgOCA4CglidG9pCgk+PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL1BheW1lbnRTeXN0ZW0uYWxnby50czozMjAKCS8vIHNlbmRBc3NldFRyYW5zZmVyKHsKCS8vICAgICAgICAgICAgIHNlbmRlcjogY2FyZCwKCS8vICAgICAgICAgICAgIGFzc2V0UmVjZWl2ZXI6IHJlY2lwaWVudCwKCS8vICAgICAgICAgICAgIHhmZXJBc3NldDogd2l0aGRyYXdhbC5hc3NldCwKCS8vICAgICAgICAgICAgIGFzc2V0QW1vdW50OiB3aXRoZHJhd2FsLmFtb3VudCwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MzIxCgkvLyBzZW5kZXI6IGNhcmQKCWZyYW1lX2RpZyAtMiAvLyBjYXJkOiBhY2NvdW50CglpdHhuX2ZpZWxkIFNlbmRlcgoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MzIyCgkvLyBhc3NldFJlY2VpdmVyOiByZWNpcGllbnQKCWZyYW1lX2RpZyAtMyAvLyByZWNpcGllbnQ6IGFjY291bnQKCWl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MzIzCgkvLyB4ZmVyQXNzZXQ6IHdpdGhkcmF3YWwuYXNzZXQKCWZyYW1lX2RpZyAtNiAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoJZXh0cmFjdCAxNiA4CglidG9pCglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MzI0CgkvLyBhc3NldEFtb3VudDogd2l0aGRyYXdhbC5hbW91bnQKCWZyYW1lX2RpZyAtNiAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoJZXh0cmFjdCAyNCA4CglidG9pCglpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIGNvbnRyYWN0cy9QYXltZW50U3lzdGVtLmFsZ28udHM6MzI3CgkvLyB0aGlzLndpdGhkcmF3YWxzKHRoaXMudHhuLnNlbmRlciwgd2l0aGRyYXdhbF9oYXNoKS5kZWxldGUoKQoJdHhuIFNlbmRlcgoJZnJhbWVfZGlnIC01IC8vIHdpdGhkcmF3YWxfaGFzaDogYnl0ZVszMl0KCWFwcF9sb2NhbF9kZWwKCXJldHN1YgoKY3JlYXRlX05vT3A6CgltZXRob2QgImRlcGxveSgpdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoIGFiaV9yb3V0ZV9kZXBsb3kKCWVycgoKY2FsbF9Ob09wOgoJbWV0aG9kICJzZXRBZG1pbihhZGRyZXNzKXZvaWQiCgltZXRob2QgInNldFdpdGhkcmF3YWxSb3VuZHModWludDY0KXZvaWQiCgltZXRob2QgImNhcmRDcmVhdGUocGF5LHN0cmluZyxhZGRyZXNzKWFkZHJlc3MiCgltZXRob2QgImNhcmRDbG9zZShzdHJpbmcsYWRkcmVzcyxhY2NvdW50KXZvaWQiCgltZXRob2QgImNhcmRBZGRBc3NldChwYXksc3RyaW5nLGFjY291bnQsYXNzZXQpdm9pZCIKCW1ldGhvZCAiY2FyZFJlbW92ZUFzc2V0KHN0cmluZyxhY2NvdW50LGFzc2V0KXZvaWQiCgltZXRob2QgImNhcmREZWJpdChhY2NvdW50LGFjY291bnQsYXNzZXQsdWludDY0KXZvaWQiCgltZXRob2QgImNhcmRXaXRoZHJhd2FsUmVxdWVzdChzdHJpbmcsYWNjb3VudCxhc3NldCx1aW50NjQpYnl0ZVszMl0iCgltZXRob2QgImNhcmRXaXRoZHJhd2FsQ2FuY2VsKHN0cmluZyxhY2NvdW50LGJ5dGVbMzJdKXZvaWQiCgltZXRob2QgImNhcmRXaXRoZHJhdyhzdHJpbmcsYWNjb3VudCxhY2NvdW50LGFzc2V0LGJ5dGVbMzJdKXZvaWQiCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAwCgltYXRjaCBhYmlfcm91dGVfc2V0QWRtaW4gYWJpX3JvdXRlX3NldFdpdGhkcmF3YWxSb3VuZHMgYWJpX3JvdXRlX2NhcmRDcmVhdGUgYWJpX3JvdXRlX2NhcmRDbG9zZSBhYmlfcm91dGVfY2FyZEFkZEFzc2V0IGFiaV9yb3V0ZV9jYXJkUmVtb3ZlQXNzZXQgYWJpX3JvdXRlX2NhcmREZWJpdCBhYmlfcm91dGVfY2FyZFdpdGhkcmF3YWxSZXF1ZXN0IGFiaV9yb3V0ZV9jYXJkV2l0aGRyYXdhbENhbmNlbCBhYmlfcm91dGVfY2FyZFdpdGhkcmF3CgllcnIKCmNhbGxfT3B0SW46CgltZXRob2QgImNhcmRXaXRoZHJhd2FsUmVxdWVzdChzdHJpbmcsYWNjb3VudCxhc3NldCx1aW50NjQpYnl0ZVszMl0iCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAwCgltYXRjaCBhYmlfcm91dGVfY2FyZFdpdGhkcmF3YWxSZXF1ZXN0CgllcnIKCmNhbGxfQ2xvc2VPdXQ6CgltZXRob2QgImNhcmRXaXRoZHJhdyhzdHJpbmcsYWNjb3VudCxhY2NvdW50LGFzc2V0LGJ5dGVbMzJdKXZvaWQiCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAwCgltYXRjaCBhYmlfcm91dGVfY2FyZFdpdGhkcmF3CgllcnIKCmNhbGxfVXBkYXRlQXBwbGljYXRpb246CgltZXRob2QgInVwZGF0ZSgpdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoIGFiaV9yb3V0ZV91cGRhdGUKCWVycgoKY2FsbF9EZWxldGVBcHBsaWNhdGlvbjoKCW1ldGhvZCAiZGVzdHJveSgpdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoIGFiaV9yb3V0ZV9kZXN0cm95CgllcnIKCnByb2Nlc3Nfc3RhdGljX3R1cGxlX2VsZW1lbnQ6Cglwcm90byA0IDMKCWZyYW1lX2RpZyAtNCAvLyB0dXBsZSBoZWFkCglmcmFtZV9kaWcgLTEgLy8gZWxlbWVudAoJY29uY2F0CglmcmFtZV9kaWcgLTMgLy8gdHVwbGUgdGFpbAoJZnJhbWVfZGlnIC0yIC8vIGhlYWQgb2Zmc2V0CglyZXRzdWIKCnByb2Nlc3NfZHluYW1pY190dXBsZV9lbGVtZW50OgoJcHJvdG8gNCAzCglmcmFtZV9kaWcgLTQgLy8gdHVwbGUgaGVhZAoJZnJhbWVfZGlnIC0yIC8vIGhlYWQgb2Zmc2V0Cgljb25jYXQKCWZyYW1lX2J1cnkgLTQgLy8gdHVwbGUgaGVhZAoJZnJhbWVfZGlnIC0xIC8vIGVsZW1lbnQKCWR1cAoJbGVuCglmcmFtZV9kaWcgLTIgLy8gaGVhZCBvZmZzZXQKCWJ0b2kKCSsKCWl0b2IKCWV4dHJhY3QgNiAyCglmcmFtZV9idXJ5IC0yIC8vIGhlYWQgb2Zmc2V0CglmcmFtZV9kaWcgLTMgLy8gdHVwbGUgdGFpbAoJc3dhcAoJY29uY2F0CglmcmFtZV9idXJ5IC0zIC8vIHR1cGxlIHRhaWwKCWZyYW1lX2RpZyAtNCAvLyB0dXBsZSBoZWFkCglmcmFtZV9kaWcgLTMgLy8gdHVwbGUgdGFpbAoJZnJhbWVfZGlnIC0yIC8vIGhlYWQgb2Zmc2V0CglyZXRzdWI=",
    "clear": "I3ByYWdtYSB2ZXJzaW9uIDk="
  },
  "contract": {
    "name": "PaymentSystem",
    "desc": "",
    "methods": [
      {
        "name": "deploy",
        "args": [],
        "desc": "Deploy the smart contract, setting the transaction sender as the admin",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "update",
        "args": [],
        "desc": "Allows the admin to update the smart contract",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "destroy",
        "args": [],
        "desc": "Destroy the smart contract, sending all Algo to the admin account. This can only be done if there are no active cards",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "setAdmin",
        "args": [
          {
            "name": "admin",
            "type": "address",
            "desc": "Address to be made admin"
          }
        ],
        "desc": "Allows the current admin to set a new admin",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "setWithdrawalRounds",
        "args": [
          {
            "name": "rounds",
            "type": "uint64",
            "desc": "New number of rounds to wait"
          }
        ],
        "desc": "Set the number of rounds a withdrawal request must wait until being withdrawn",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "cardCreate",
        "args": [
          {
            "name": "mbr",
            "type": "pay",
            "desc": ""
          },
          {
            "name": "partner",
            "type": "string",
            "desc": ""
          },
          {
            "name": "owner",
            "type": "address",
            "desc": "Address to have control over asset withdrawals"
          }
        ],
        "desc": "Create account. This generates a brand new account and funds the minimum balance requirement",
        "returns": {
          "type": "address",
          "desc": "Newly generated account used by their card"
        }
      },
      {
        "name": "cardClose",
        "args": [
          {
            "name": "partner",
            "type": "string",
            "desc": "Partner name"
          },
          {
            "name": "owner",
            "type": "address",
            "desc": "Address which has control over asset withdrawals"
          },
          {
            "name": "card",
            "type": "account",
            "desc": "Account to close"
          }
        ],
        "desc": "Close account. This permanently removes the rekey and deletes the account from the ledger",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "cardAddAsset",
        "args": [
          {
            "name": "mbr",
            "type": "pay",
            "desc": ""
          },
          {
            "name": "partner",
            "type": "string",
            "desc": "Partner name"
          },
          {
            "name": "card",
            "type": "account",
            "desc": "Account to add asset to"
          },
          {
            "name": "asset",
            "type": "asset",
            "desc": "Asset to add"
          }
        ],
        "desc": "Allows the owner (or admin) to OptIn to an asset, increasing the minimum balance requirement of the account",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "cardRemoveAsset",
        "args": [
          {
            "name": "partner",
            "type": "string",
            "desc": "Partner name"
          },
          {
            "name": "card",
            "type": "account",
            "desc": "Account to remove asset from"
          },
          {
            "name": "asset",
            "type": "asset",
            "desc": "Asset to remove"
          }
        ],
        "desc": "Allows the owner (or admin) to CloseOut of an asset, reducing the minimum balance requirement of the account",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "cardDebit",
        "args": [
          {
            "name": "card",
            "type": "account",
            "desc": "Account to debit from"
          },
          {
            "name": "recipient",
            "type": "account",
            "desc": "Receiver of the assets being debited"
          },
          {
            "name": "asset",
            "type": "asset",
            "desc": "Asset being debited"
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "Amount to debit"
          }
        ],
        "desc": "Allows the admin to send an amount of assets from the account",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "cardWithdrawalRequest",
        "args": [
          {
            "name": "partner",
            "type": "string",
            "desc": "Partner name"
          },
          {
            "name": "card",
            "type": "account",
            "desc": "Account to withdraw from"
          },
          {
            "name": "asset",
            "type": "asset",
            "desc": "Asset being withdrawn"
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "Amount to withdraw"
          }
        ],
        "desc": "Allows the owner to send an amount of assets from the account",
        "returns": {
          "type": "byte[32]",
          "desc": "Withdrawal hash used for completing or cancelling the withdrawal"
        }
      },
      {
        "name": "cardWithdrawalCancel",
        "args": [
          {
            "name": "partner",
            "type": "string",
            "desc": "Partner name"
          },
          {
            "name": "card",
            "type": "account",
            "desc": "Account to withdraw from"
          },
          {
            "name": "withdrawal_hash",
            "type": "byte[32]",
            "desc": "Hash of the withdrawal request"
          }
        ],
        "desc": "Allows the owner (or admin) to cancel a withdrawal request",
        "returns": {
          "type": "void",
          "desc": ""
        }
      },
      {
        "name": "cardWithdraw",
        "args": [
          {
            "name": "partner",
            "type": "string",
            "desc": "Partner name"
          },
          {
            "name": "card",
            "type": "account",
            "desc": "Account to withdraw from"
          },
          {
            "name": "recipient",
            "type": "account",
            "desc": "Receiver of the assets being withdrawn"
          },
          {
            "name": "asset",
            "type": "asset",
            "desc": "Asset being withdrawn"
          },
          {
            "name": "withdrawal_hash",
            "type": "byte[32]",
            "desc": "Hash of the withdrawal request"
          }
        ],
        "desc": "Allows the owner to send an amount of assets from the account",
        "returns": {
          "type": "void",
          "desc": ""
        }
      }
    ]
  }
}