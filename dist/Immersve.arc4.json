{
  "name": "Immersve",
  "desc": "",
  "methods": [
    {
      "name": "deploy",
      "desc": "Deploy the smart contract, setting the transaction sender as the admin",
      "args": [],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "update",
      "desc": "Allows the admin to update the smart contract",
      "args": [],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "destroy",
      "desc": "Destroy the smart contract, sending all Algo to the admin account. This can only be done if there are no active cards",
      "args": [],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "setAdmin",
      "desc": "Allows the current admin to set a new admin",
      "args": [
        {
          "name": "admin",
          "type": "address",
          "desc": "Address to be made admin"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "setWithdrawalRounds",
      "desc": "Set the number of rounds a withdrawal request must wait until being withdrawn",
      "args": [
        {
          "name": "rounds",
          "type": "uint64",
          "desc": "New number of rounds to wait"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "cardCreate",
      "desc": "Create account. This generates a brand new account and funds the minimum balance requirement",
      "args": [
        {
          "name": "mbr",
          "type": "pay"
        },
        {
          "name": "partner",
          "type": "string"
        },
        {
          "name": "owner",
          "type": "address",
          "desc": "Address to have control over asset withdrawals"
        }
      ],
      "returns": {
        "type": "address",
        "desc": "Newly generated account used by their card"
      }
    },
    {
      "name": "cardClose",
      "desc": "Close account. This permanently removes the rekey and deletes the account from the ledger",
      "args": [
        {
          "name": "partner",
          "type": "string",
          "desc": "Partner name"
        },
        {
          "name": "owner",
          "type": "address",
          "desc": "Address which has control over asset withdrawals"
        },
        {
          "name": "card",
          "type": "account",
          "desc": "Account to close"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "cardAddAsset",
      "desc": "Allows the owner (or admin) to OptIn to an asset, increasing the minimum balance requirement of the account",
      "args": [
        {
          "name": "mbr",
          "type": "pay"
        },
        {
          "name": "partner",
          "type": "string",
          "desc": "Partner name"
        },
        {
          "name": "card",
          "type": "account",
          "desc": "Account to add asset to"
        },
        {
          "name": "asset",
          "type": "asset",
          "desc": "Asset to add"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "cardRemoveAsset",
      "desc": "Allows the owner (or admin) to CloseOut of an asset, reducing the minimum balance requirement of the account",
      "args": [
        {
          "name": "partner",
          "type": "string",
          "desc": "Partner name"
        },
        {
          "name": "card",
          "type": "account",
          "desc": "Account to remove asset from"
        },
        {
          "name": "asset",
          "type": "asset",
          "desc": "Asset to remove"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "cardDebit",
      "desc": "Allows the admin to send an amount of assets from the account",
      "args": [
        {
          "name": "card",
          "type": "account",
          "desc": "Account to debit from"
        },
        {
          "name": "recipient",
          "type": "account",
          "desc": "Receiver of the assets being debited"
        },
        {
          "name": "asset",
          "type": "asset",
          "desc": "Asset being debited"
        },
        {
          "name": "amount",
          "type": "uint64",
          "desc": "Amount to debit"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "cardWithdrawalRequest",
      "desc": "Allows the owner to send an amount of assets from the account",
      "args": [
        {
          "name": "partner",
          "type": "string",
          "desc": "Partner name"
        },
        {
          "name": "card",
          "type": "account",
          "desc": "Account to withdraw from"
        },
        {
          "name": "asset",
          "type": "asset",
          "desc": "Asset being withdrawn"
        },
        {
          "name": "amount",
          "type": "uint64",
          "desc": "Amount to withdraw"
        }
      ],
      "returns": {
        "type": "byte[32]",
        "desc": "Withdrawal hash used for completing or cancelling the withdrawal"
      }
    },
    {
      "name": "cardWithdrawalCancel",
      "desc": "Allows the owner (or admin) to cancel a withdrawal request",
      "args": [
        {
          "name": "partner",
          "type": "string",
          "desc": "Partner name"
        },
        {
          "name": "card",
          "type": "account",
          "desc": "Account to withdraw from"
        },
        {
          "name": "withdrawal_hash",
          "type": "byte[32]",
          "desc": "Hash of the withdrawal request"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "cardWithdraw",
      "desc": "Allows the owner to send an amount of assets from the account",
      "args": [
        {
          "name": "partner",
          "type": "string",
          "desc": "Partner name"
        },
        {
          "name": "card",
          "type": "account",
          "desc": "Account to withdraw from"
        },
        {
          "name": "recipient",
          "type": "account",
          "desc": "Receiver of the assets being withdrawn"
        },
        {
          "name": "asset",
          "type": "asset",
          "desc": "Asset being withdrawn"
        },
        {
          "name": "withdrawal_hash",
          "type": "byte[32]",
          "desc": "Hash of the withdrawal request"
        }
      ],
      "returns": {
        "type": "void"
      }
    }
  ]
}