{
  "hints": {
    "owner()address": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "transferOwnership(address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "pauser()address": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "pause()void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "unpause()void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "updatePauser(address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "deploy(address)address": {
      "call_config": {
        "no_op": "CREATE"
      }
    },
    "update()void": {
      "call_config": {
        "update_application": "CALL"
      }
    },
    "destroy()void": {
      "call_config": {
        "delete_application": "CALL"
      }
    },
    "setWithdrawalTimeout(uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "setEarlyWithdrawalPubkey(byte[32])void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "getPartnerChannelMbr(string)uint64": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "partnerChannelCreate(pay,string)address": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "partnerChannelClose(address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "getCardFundMbr(uint64)uint64": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardFundCreate(pay,address,uint64)address": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardFundClose(address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardFundRecover(address,address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "getAssetAllowlistMbr()uint64": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "assetAllowlistAdd(pay,uint64,address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "assetAllowlistRemove(uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardFundDebit(address,uint64,uint64,uint64,string)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "getRefundAddress()address": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "setRefundAddress(address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardFundRefund(address,uint64,uint64,uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "getNextSettlementNonce()uint64": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "getNextCardFundNonce(address)uint64": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "getCardFundData(address)(address,address,address,uint64)": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "getSettlementAddress(uint64)address": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "setSettlementAddress(uint64,address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "settle(uint64,uint64,uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "getCardFundAssetMbr()uint64": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardFundEnableAsset(pay,address,uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardFundDisableAsset(address,uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardFundWithdrawalRequest(address,address,uint64,uint64)byte[32]": {
      "call_config": {
        "no_op": "CALL",
        "opt_in": "CALL"
      }
    },
    "cardFundWithdrawalCancel(address,byte[32])void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "cardFundWithdraw(address,byte[32])void": {
      "call_config": {
        "no_op": "CALL",
        "close_out": "CALL"
      }
    },
    "cardFundWithdrawEarly(address,byte[32],byte[64])void": {
      "call_config": {
        "no_op": "CALL"
      }
    }
  },
  "bare_call_config": {
    "no_op": "NEVER",
    "opt_in": "NEVER",
    "close_out": "NEVER",
    "update_application": "NEVER",
    "delete_application": "NEVER"
  },
  "schema": {
    "local": {
      "declared": {
        "withdrawal_nonce": {
          "type": "uint64",
          "key": "wn"
        }
      },
      "reserved": {}
    },
    "global": {
      "declared": {
        "_owner": {
          "type": "bytes",
          "key": "_owner"
        },
        "_pauser": {
          "type": "bytes",
          "key": "_pauser"
        },
        "paused": {
          "type": "bytes",
          "key": "paused"
        },
        "card_funds_active_count": {
          "type": "uint64",
          "key": "cfac"
        },
        "partner_channels_active_count": {
          "type": "uint64",
          "key": "pcac"
        },
        "withdrawal_wait_time": {
          "type": "uint64",
          "key": "wwt"
        },
        "early_withdrawal_pubkey": {
          "type": "bytes",
          "key": "ewpk"
        },
        "settlement_nonce": {
          "type": "uint64",
          "key": "sn"
        },
        "refund_address": {
          "type": "bytes",
          "key": "ra"
        }
      },
      "reserved": {}
    }
  },
  "state": {
    "global": {
      "num_byte_slices": 5,
      "num_uints": 4
    },
    "local": {
      "num_byte_slices": 15,
      "num_uints": 1
    }
  },
  "source": {
    "approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCgovLyBUaGlzIFRFQUwgd2FzIGdlbmVyYXRlZCBieSBURUFMU2NyaXB0IHYwLjkyLjAKLy8gaHR0cHM6Ly9naXRodWIuY29tL2FsZ29yYW5kZm91bmRhdGlvbi9URUFMU2NyaXB0CgovLyBUaGlzIGNvbnRyYWN0IGlzIGNvbXBsaWFudCB3aXRoIGFuZC9vciBpbXBsZW1lbnRzIHRoZSBmb2xsb3dpbmcgQVJDczogWyBBUkM0IF0KCi8vIFRoZSBmb2xsb3dpbmcgdGVuIGxpbmVzIG9mIFRFQUwgaGFuZGxlIGluaXRpYWwgcHJvZ3JhbSBmbG93Ci8vIFRoaXMgcGF0dGVybiBpcyB1c2VkIHRvIG1ha2UgaXQgZWFzeSBmb3IgYW55b25lIHRvIHBhcnNlIHRoZSBzdGFydCBvZiB0aGUgcHJvZ3JhbSBhbmQgZGV0ZXJtaW5lIGlmIGEgc3BlY2lmaWMgYWN0aW9uIGlzIGFsbG93ZWQKLy8gSGVyZSwgYWN0aW9uIHJlZmVycyB0byB0aGUgT25Db21wbGV0ZSBpbiBjb21iaW5hdGlvbiB3aXRoIHdoZXRoZXIgdGhlIGFwcCBpcyBiZWluZyBjcmVhdGVkIG9yIGNhbGxlZAovLyBFdmVyeSBwb3NzaWJsZSBhY3Rpb24gZm9yIHRoaXMgY29udHJhY3QgaXMgcmVwcmVzZW50ZWQgaW4gdGhlIHN3aXRjaCBzdGF0ZW1lbnQKLy8gSWYgdGhlIGFjdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIGNvbnRyYWN0LCBpdHMgcmVzcGVjdGl2ZSBicmFuY2ggd2lsbCBiZSAiKk5PVF9JTVBMRU1FTlRFRCIgd2hpY2gganVzdCBjb250YWlucyAiZXJyIgp0eG4gQXBwbGljYXRpb25JRAohCmludCA2CioKdHhuIE9uQ29tcGxldGlvbgorCnN3aXRjaCAqY2FsbF9Ob09wICpjYWxsX09wdEluICpjYWxsX0Nsb3NlT3V0ICpOT1RfSU1QTEVNRU5URUQgKmNhbGxfVXBkYXRlQXBwbGljYXRpb24gKmNhbGxfRGVsZXRlQXBwbGljYXRpb24gKmNyZWF0ZV9Ob09wICpOT1RfSU1QTEVNRU5URUQgKk5PVF9JTVBMRU1FTlRFRCAqTk9UX0lNUExFTUVOVEVEICpOT1RfSU1QTEVNRU5URUQgKk5PVF9JTVBMRU1FTlRFRAoKKk5PVF9JTVBMRU1FTlRFRDoKCS8vIFRoZSByZXF1ZXN0ZWQgYWN0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIGNvbnRyYWN0LiBBcmUgeW91IHVzaW5nIHRoZSBjb3JyZWN0IE9uQ29tcGxldGU/IERpZCB5b3Ugc2V0IHlvdXIgYXBwIElEPwoJZXJyCgovLyBvbmx5T3duZXIoKTogdm9pZAovLwovLyBBc3NlcnQgdGhlIHRyYW5zYWN0aW9uIHNlbmRlciBpcyB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0Lgpvbmx5T3duZXI6Cglwcm90byAwIDAKCgkvLyBzcmMvcm9sZXMvT3duYWJsZS5hbGdvLnRzOjUzCgkvLyBhc3NlcnQodGhpcy50eG4uc2VuZGVyID09PSB0aGlzLl9vd25lci52YWx1ZSwgJ1NFTkRFUl9OT1RfQUxMT1dFRCcpCgl0eG4gU2VuZGVyCglieXRlIDB4NWY2Zjc3NmU2NTcyIC8vICJfb3duZXIiCglhcHBfZ2xvYmFsX2dldAoJPT0KCgkvLyBTRU5ERVJfTk9UX0FMTE9XRUQKCWFzc2VydAoJcmV0c3ViCgovLyBpc093bmVyKCk6IGJvb2xlYW4KLy8KLy8gQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uIHNlbmRlciBpcyB0aGUgb3duZXIuCi8vIEByZXR1cm5zIGJvb2xlYW4gVHJ1ZSBpZiB0aGUgc2VuZGVyIGlzIHRoZSBvd25lciwgZmFsc2Ugb3RoZXJ3aXNlLgppc093bmVyOgoJcHJvdG8gMCAxCgoJLy8gc3JjL3JvbGVzL093bmFibGUuYWxnby50czo2MQoJLy8gcmV0dXJuIHRoaXMudHhuLnNlbmRlciA9PT0gdGhpcy5fb3duZXIudmFsdWU7Cgl0eG4gU2VuZGVyCglieXRlIDB4NWY2Zjc3NmU2NTcyIC8vICJfb3duZXIiCglhcHBfZ2xvYmFsX2dldAoJPT0KCXJldHN1YgoKLy8gb3duZXIoKWFkZHJlc3MKKmFiaV9yb3V0ZV9vd25lcjoKCS8vIFRoZSBBQkkgcmV0dXJuIHByZWZpeAoJYnl0ZSAweDE1MWY3Yzc1CgoJLy8gZXhlY3V0ZSBvd25lcigpYWRkcmVzcwoJY2FsbHN1YiBvd25lcgoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIG93bmVyKCk6IEFkZHJlc3MKb3duZXI6Cglwcm90byAwIDEKCgkvLyBzcmMvcm9sZXMvT3duYWJsZS5hbGdvLnRzOjY3CgkvLyByZXR1cm4gdGhpcy5fb3duZXIudmFsdWU7CglieXRlIDB4NWY2Zjc3NmU2NTcyIC8vICJfb3duZXIiCglhcHBfZ2xvYmFsX2dldAoJcmV0c3ViCgovLyBfdHJhbnNmZXJPd25lcnNoaXAobmV3T3duZXI6IEFkZHJlc3MpOiB2b2lkCi8vCi8vIFRyYW5zZmVycyB0aGUgb3duZXJzaGlwIG9mIHRoZSBjb250cmFjdCB0byBhIG5ldyBvd25lci4KLy8gQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBuZXcgb3duZXIuCl90cmFuc2Zlck93bmVyc2hpcDoKCXByb3RvIDEgMAoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CgoJLy8gc3JjL3JvbGVzL093bmFibGUuYWxnby50czo3NgoJLy8gcHJldmlvdXNPd25lciA9IHRoaXMuX293bmVyLmV4aXN0cyA/IHRoaXMuX293bmVyLnZhbHVlIDogZ2xvYmFscy56ZXJvQWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbnMgMAoJYnl0ZSAweDVmNmY3NzZlNjU3MiAvLyAiX293bmVyIgoJYXBwX2dsb2JhbF9nZXRfZXgKCXN3YXAKCXBvcAoJYnogKnRlcm5hcnkxX2ZhbHNlCglieXRlIDB4NWY2Zjc3NmU2NTcyIC8vICJfb3duZXIiCglhcHBfZ2xvYmFsX2dldAoJYiAqdGVybmFyeTFfZW5kCgoqdGVybmFyeTFfZmFsc2U6CglnbG9iYWwgWmVyb0FkZHJlc3MKCip0ZXJuYXJ5MV9lbmQ6CglmcmFtZV9idXJ5IDAgLy8gcHJldmlvdXNPd25lcjogYWRkcmVzcwoKCS8vIHNyYy9yb2xlcy9Pd25hYmxlLmFsZ28udHM6NzcKCS8vIHRoaXMuX293bmVyLnZhbHVlID0gbmV3T3duZXIKCWJ5dGUgMHg1ZjZmNzc2ZTY1NzIgLy8gIl9vd25lciIKCWZyYW1lX2RpZyAtMSAvLyBuZXdPd25lcjogQWRkcmVzcwoJYXBwX2dsb2JhbF9wdXQKCgkvLyBzcmMvcm9sZXMvT3duYWJsZS5hbGdvLnRzOjc5CgkvLyB0aGlzLk93bmVyc2hpcFRyYW5zZmVycmVkLmxvZyh7CgkvLyAgICAgICAgICAgICBwcmV2aW91c093bmVyOiBwcmV2aW91c093bmVyLAoJLy8gICAgICAgICAgICAgbmV3T3duZXI6IG5ld093bmVyLAoJLy8gICAgICAgICB9KQoJYnl0ZSAweDlhMjIzZWZiIC8vIE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MsYWRkcmVzcykKCWZyYW1lX2RpZyAwIC8vIHByZXZpb3VzT3duZXI6IGFkZHJlc3MKCWZyYW1lX2RpZyAtMSAvLyBuZXdPd25lcjogQWRkcmVzcwoJY29uY2F0Cgljb25jYXQKCWxvZwoJcmV0c3ViCgovLyB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzKXZvaWQKKmFiaV9yb3V0ZV90cmFuc2Zlck93bmVyc2hpcDoKCS8vIG5ld093bmVyOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDAgKG5ld093bmVyKSBmb3IgdHJhbnNmZXJPd25lcnNoaXAgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGV4ZWN1dGUgdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyl2b2lkCgljYWxsc3ViIHRyYW5zZmVyT3duZXJzaGlwCglpbnQgMQoJcmV0dXJuCgovLyB0cmFuc2Zlck93bmVyc2hpcChuZXdPd25lcjogQWRkcmVzcyk6IHZvaWQKLy8KLy8gVHJhbnNmZXJzIHRoZSBvd25lcnNoaXAgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3IG93bmVyLgovLyBSZXF1aXJlcyB0aGUgY2FsbGVyIHRvIGJlIHRoZSBjdXJyZW50IG93bmVyLgovLwovLyBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIG5ldyBvd25lci4KdHJhbnNmZXJPd25lcnNoaXA6Cglwcm90byAxIDAKCgkvLyBzcmMvcm9sZXMvT3duYWJsZS5hbGdvLnRzOjkzCgkvLyB0aGlzLm9ubHlPd25lcigpCgljYWxsc3ViIG9ubHlPd25lcgoKCS8vIHNyYy9yb2xlcy9Pd25hYmxlLmFsZ28udHM6OTUKCS8vIHRoaXMuX3RyYW5zZmVyT3duZXJzaGlwKG5ld093bmVyKQoJZnJhbWVfZGlnIC0xIC8vIG5ld093bmVyOiBBZGRyZXNzCgljYWxsc3ViIF90cmFuc2Zlck93bmVyc2hpcAoJcmV0c3ViCgovLyB3aGVuTm90UGF1c2VkKCk6IHZvaWQKLy8KLy8gQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBub3QgcGF1c2VkLgp3aGVuTm90UGF1c2VkOgoJcHJvdG8gMCAwCgoJLy8gc3JjL3JvbGVzL1BhdXNhYmxlLmFsZ28udHM6NDkKCS8vIGFzc2VydCghdGhpcy5wYXVzZWQudmFsdWUpCglieXRlIDB4NzA2MTc1NzM2NTY0IC8vICJwYXVzZWQiCglhcHBfZ2xvYmFsX2dldAoJaW50IDAKCWdldGJpdAoJIQoJYXNzZXJ0CglyZXRzdWIKCi8vIG9ubHlQYXVzZXIoKTogdm9pZAovLwovLyBAZGV2IHRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgcGF1c2VyCm9ubHlQYXVzZXI6Cglwcm90byAwIDAKCgkvLyBzcmMvcm9sZXMvUGF1c2FibGUuYWxnby50czo1NgoJLy8gYXNzZXJ0KHRoaXMudHhuLnNlbmRlciA9PT0gdGhpcy5fcGF1c2VyLnZhbHVlKQoJdHhuIFNlbmRlcgoJYnl0ZSAweDVmNzA2MTc1NzM2NTcyIC8vICJfcGF1c2VyIgoJYXBwX2dsb2JhbF9nZXQKCT09Cglhc3NlcnQKCXJldHN1YgoKLy8gcGF1c2VyKClhZGRyZXNzCiphYmlfcm91dGVfcGF1c2VyOgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyBleGVjdXRlIHBhdXNlcigpYWRkcmVzcwoJY2FsbHN1YiBwYXVzZXIKCWNvbmNhdAoJbG9nCglpbnQgMQoJcmV0dXJuCgovLyBwYXVzZXIoKTogQWRkcmVzcwovLwovLyBAbm90aWNlIFJldHVybnMgY3VycmVudCBwYXVzZXIKLy8gQHJldHVybiBQYXVzZXIncyBhZGRyZXNzCnBhdXNlcjoKCXByb3RvIDAgMQoKCS8vIHNyYy9yb2xlcy9QYXVzYWJsZS5hbGdvLnRzOjY1CgkvLyByZXR1cm4gdGhpcy5fcGF1c2VyLnZhbHVlOwoJYnl0ZSAweDVmNzA2MTc1NzM2NTcyIC8vICJfcGF1c2VyIgoJYXBwX2dsb2JhbF9nZXQKCXJldHN1YgoKLy8gcGF1c2UoKXZvaWQKKmFiaV9yb3V0ZV9wYXVzZToKCS8vIGV4ZWN1dGUgcGF1c2UoKXZvaWQKCWNhbGxzdWIgcGF1c2UKCWludCAxCglyZXR1cm4KCi8vIHBhdXNlKCk6IHZvaWQKLy8KLy8gQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCnBhdXNlOgoJcHJvdG8gMCAwCgoJLy8gc3JjL3JvbGVzL1BhdXNhYmxlLmFsZ28udHM6NzMKCS8vIHRoaXMub25seVBhdXNlcigpCgljYWxsc3ViIG9ubHlQYXVzZXIKCgkvLyBzcmMvcm9sZXMvUGF1c2FibGUuYWxnby50czo3NQoJLy8gdGhpcy5wYXVzZWQudmFsdWUgPSB0cnVlCglieXRlIDB4NzA2MTc1NzM2NTY0IC8vICJwYXVzZWQiCglpbnQgMQoJYnl0ZSAweDAwCglpbnQgMAoJdW5jb3ZlciAyCglzZXRiaXQKCWFwcF9nbG9iYWxfcHV0CgoJLy8gc3JjL3JvbGVzL1BhdXNhYmxlLmFsZ28udHM6NzYKCS8vIHRoaXMuUGF1c2UubG9nKHt9KQoJYnl0ZSAweGNmMjNhMzBmIC8vIFBhdXNlKCkKCWNvbmNhdAoJbG9nCglyZXRzdWIKCi8vIHVucGF1c2UoKXZvaWQKKmFiaV9yb3V0ZV91bnBhdXNlOgoJLy8gZXhlY3V0ZSB1bnBhdXNlKCl2b2lkCgljYWxsc3ViIHVucGF1c2UKCWludCAxCglyZXR1cm4KCi8vIHVucGF1c2UoKTogdm9pZAovLwovLyBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKdW5wYXVzZToKCXByb3RvIDAgMAoKCS8vIHNyYy9yb2xlcy9QYXVzYWJsZS5hbGdvLnRzOjgzCgkvLyB0aGlzLm9ubHlQYXVzZXIoKQoJY2FsbHN1YiBvbmx5UGF1c2VyCgoJLy8gc3JjL3JvbGVzL1BhdXNhYmxlLmFsZ28udHM6ODUKCS8vIHRoaXMucGF1c2VkLnZhbHVlID0gZmFsc2UKCWJ5dGUgMHg3MDYxNzU3MzY1NjQgLy8gInBhdXNlZCIKCWludCAwCglieXRlIDB4MDAKCWludCAwCgl1bmNvdmVyIDIKCXNldGJpdAoJYXBwX2dsb2JhbF9wdXQKCgkvLyBzcmMvcm9sZXMvUGF1c2FibGUuYWxnby50czo4NgoJLy8gdGhpcy5VbnBhdXNlLmxvZyh7fSkKCWJ5dGUgMHhiMTYzZWUwYiAvLyBVbnBhdXNlKCkKCWNvbmNhdAoJbG9nCglyZXRzdWIKCi8vIHVwZGF0ZVBhdXNlcihhZGRyZXNzKXZvaWQKKmFiaV9yb3V0ZV91cGRhdGVQYXVzZXI6CgkvLyBfbmV3UGF1c2VyOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDAgKF9uZXdQYXVzZXIpIGZvciB1cGRhdGVQYXVzZXIgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGV4ZWN1dGUgdXBkYXRlUGF1c2VyKGFkZHJlc3Mpdm9pZAoJY2FsbHN1YiB1cGRhdGVQYXVzZXIKCWludCAxCglyZXR1cm4KCi8vIHVwZGF0ZVBhdXNlcihfbmV3UGF1c2VyOiBBZGRyZXNzKTogdm9pZAovLwovLyBAZGV2IHVwZGF0ZSB0aGUgcGF1c2VyIHJvbGUKdXBkYXRlUGF1c2VyOgoJcHJvdG8gMSAwCgoJLy8gc3JjL3JvbGVzL1BhdXNhYmxlLmFsZ28udHM6OTMKCS8vIHRoaXMub25seVBhdXNlcigpCgljYWxsc3ViIG9ubHlQYXVzZXIKCgkvLyBzcmMvcm9sZXMvUGF1c2FibGUuYWxnby50czo5NQoJLy8gYXNzZXJ0KF9uZXdQYXVzZXIgIT09IGdsb2JhbHMuemVyb0FkZHJlc3MpCglmcmFtZV9kaWcgLTEgLy8gX25ld1BhdXNlcjogQWRkcmVzcwoJZ2xvYmFsIFplcm9BZGRyZXNzCgkhPQoJYXNzZXJ0CgoJLy8gc3JjL3JvbGVzL1BhdXNhYmxlLmFsZ28udHM6OTYKCS8vIHRoaXMuX3BhdXNlci52YWx1ZSA9IF9uZXdQYXVzZXIKCWJ5dGUgMHg1ZjcwNjE3NTczNjU3MiAvLyAiX3BhdXNlciIKCWZyYW1lX2RpZyAtMSAvLyBfbmV3UGF1c2VyOiBBZGRyZXNzCglhcHBfZ2xvYmFsX3B1dAoKCS8vIHNyYy9yb2xlcy9QYXVzYWJsZS5hbGdvLnRzOjk3CgkvLyB0aGlzLlBhdXNlckNoYW5nZWQubG9nKHsgbmV3QWRkcmVzczogdGhpcy5fcGF1c2VyLnZhbHVlIH0pCglieXRlIDB4Y2M0MDkyM2MgLy8gUGF1c2VyQ2hhbmdlZChhZGRyZXNzKQoJYnl0ZSAweDVmNzA2MTc1NzM2NTcyIC8vICJfcGF1c2VyIgoJYXBwX2dsb2JhbF9nZXQKCWNvbmNhdAoJbG9nCglyZXRzdWIKCi8vIGlzQ2FyZEZ1bmRPd25lcihjYXJkRnVuZDogQWRkcmVzcyk6IGJvb2xlYW4KLy8KLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24gc2VuZGVyIGlzIHRoZSBDYXJkIEZ1bmQgaG9sZGVyL293bmVyCi8vIEBwYXJhbSBjYXJkRnVuZCBDYXJkIEZ1bmQgYWRkcmVzcwovLyBAcmV0dXJucyBUcnVlIGlmIHRoZSBzZW5kZXIgaXMgdGhlIENhcmQgSG9sZGVyIG9mIHRoZSBjYXJkCmlzQ2FyZEZ1bmRPd25lcjoKCXByb3RvIDEgMQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjI2OQoJLy8gYXNzZXJ0KHRoaXMuY2FyZF9mdW5kcyhjYXJkRnVuZCkuZXhpc3RzLCAnQ0FSRF9GVU5EX05PVF9GT1VORCcpCglieXRlIDB4NjM2NiAvLyAiY2YiCglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWNvbmNhdAoJYm94X2xlbgoJc3dhcAoJcG9wCgoJLy8gQ0FSRF9GVU5EX05PVF9GT1VORAoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MjcwCgkvLyByZXR1cm4gdGhpcy5jYXJkX2Z1bmRzKGNhcmRGdW5kKS52YWx1ZS5vd25lciA9PT0gdGhpcy50eG4uc2VuZGVyOwoJaW50IDMyIC8vIGhlYWRPZmZzZXQKCWludCAzMgoJYnl0ZSAweDYzNjYgLy8gImNmIgoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCgljb25jYXQKCWNvdmVyIDIKCWJveF9leHRyYWN0Cgl0eG4gU2VuZGVyCgk9PQoJcmV0c3ViCgovLyBjYXJkRnVuZEFzc2V0T3B0SW4oY2FyZEZ1bmQ6IEFkZHJlc3MsIGFzc2V0OiBBc3NldElEKTogdm9pZAovLwovLyBPcHQtaW4gYSBDYXJkIEZ1bmQgaW50byBhbiBhc3NldC4gTWluaW11bSBiYWxhbmNlIHJlcXVpcmVtZW50IG11c3QgYmUgbWV0IHByaW9yIHRvIGNhbGxpbmcgdGhpcyBmdW5jdGlvbi4KLy8gQHBhcmFtIGNhcmRGdW5kIENhcmQgRnVuZCBhZGRyZXNzCi8vIEBwYXJhbSBhc3NldCBBc3NldCB0byBvcHQtaW4gdG8KY2FyZEZ1bmRBc3NldE9wdEluOgoJcHJvdG8gMiAwCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MjgwCgkvLyBhc3NlcnQodGhpcy5hcHAuYWRkcmVzcy5pc09wdGVkSW5Ub0Fzc2V0KGFzc2V0KSwgJ0FTU0VUX05PVF9PUFRFRF9JTicpCglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKCXN3YXAKCXBvcAoKCS8vIEFTU0VUX05PVF9PUFRFRF9JTgoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MjgyCgkvLyBzZW5kQXNzZXRUcmFuc2Zlcih7CgkvLyAgICAgICAgICAgICBzZW5kZXI6IGNhcmRGdW5kLAoJLy8gICAgICAgICAgICAgYXNzZXRSZWNlaXZlcjogY2FyZEZ1bmQsCgkvLyAgICAgICAgICAgICB4ZmVyQXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICAgICAgYXNzZXRBbW91bnQ6IDAsCgkvLyAgICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYXhmZXIKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czoyODMKCS8vIHNlbmRlcjogY2FyZEZ1bmQKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czoyODQKCS8vIGFzc2V0UmVjZWl2ZXI6IGNhcmRGdW5kCglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjI4NQoJLy8geGZlckFzc2V0OiBhc3NldAoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjI4NgoJLy8gYXNzZXRBbW91bnQ6IDAKCWludCAwCglpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjI4OQoJLy8gdGhpcy5DYXJkRnVuZEFzc2V0RW5hYmxlZC5sb2coewoJLy8gICAgICAgICAgICAgY2FyZEZ1bmQ6IGNhcmRGdW5kLAoJLy8gICAgICAgICAgICAgYXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICB9KQoJYnl0ZSAweDI0OGEwNTFlIC8vIENhcmRGdW5kQXNzZXRFbmFibGVkKGFkZHJlc3MsdWludDY0KQoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCglmcmFtZV9kaWcgLTIgLy8gYXNzZXQ6IEFzc2V0SUQKCWl0b2IKCWNvbmNhdAoJY29uY2F0Cglsb2cKCXJldHN1YgoKLy8gY2FyZEZ1bmRBc3NldENsb3NlT3V0KGNhcmRGdW5kOiBBZGRyZXNzLCBhc3NldDogQXNzZXRJRCk6IHZvaWQKY2FyZEZ1bmRBc3NldENsb3NlT3V0OgoJcHJvdG8gMiAwCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Mjk2CgkvLyBzZW5kQXNzZXRUcmFuc2Zlcih7CgkvLyAgICAgICAgICAgICBzZW5kZXI6IGNhcmRGdW5kLAoJLy8gICAgICAgICAgICAgYXNzZXRSZWNlaXZlcjogY2FyZEZ1bmQsCgkvLyAgICAgICAgICAgICBhc3NldENsb3NlVG86IGNhcmRGdW5kLAoJLy8gICAgICAgICAgICAgeGZlckFzc2V0OiBhc3NldCwKCS8vICAgICAgICAgICAgIGFzc2V0QW1vdW50OiAwLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGF4ZmVyCglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Mjk3CgkvLyBzZW5kZXI6IGNhcmRGdW5kCglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWl0eG5fZmllbGQgU2VuZGVyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Mjk4CgkvLyBhc3NldFJlY2VpdmVyOiBjYXJkRnVuZAoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCglpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czoyOTkKCS8vIGFzc2V0Q2xvc2VUbzogY2FyZEZ1bmQKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJaXR4bl9maWVsZCBBc3NldENsb3NlVG8KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozMDAKCS8vIHhmZXJBc3NldDogYXNzZXQKCWZyYW1lX2RpZyAtMiAvLyBhc3NldDogQXNzZXRJRAoJaXR4bl9maWVsZCBYZmVyQXNzZXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozMDEKCS8vIGFzc2V0QW1vdW50OiAwCglpbnQgMAoJaXR4bl9maWVsZCBBc3NldEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozMDQKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICAgIHNlbmRlcjogY2FyZEZ1bmQsCgkvLyAgICAgICAgICAgICByZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgICAgICAgYW1vdW50OiB0aGlzLmdldENhcmRGdW5kQXNzZXRNYnIoKSwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBwYXkKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozMDUKCS8vIHNlbmRlcjogY2FyZEZ1bmQKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozMDYKCS8vIHJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozMDcKCS8vIGFtb3VudDogdGhpcy5nZXRDYXJkRnVuZEFzc2V0TWJyKCkKCWNhbGxzdWIgZ2V0Q2FyZEZ1bmRBc3NldE1icgoJaXR4bl9maWVsZCBBbW91bnQKCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MzEwCgkvLyB0aGlzLkNhcmRGdW5kQXNzZXREaXNhYmxlZC5sb2coewoJLy8gICAgICAgICAgICAgY2FyZEZ1bmQ6IGNhcmRGdW5kLAoJLy8gICAgICAgICAgICAgYXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICB9KQoJYnl0ZSAweGQxNTMxNjc4IC8vIENhcmRGdW5kQXNzZXREaXNhYmxlZChhZGRyZXNzLHVpbnQ2NCkKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglpdG9iCgljb25jYXQKCWNvbmNhdAoJbG9nCglyZXRzdWIKCi8vIHdpdGhkcmF3RnVuZHMod2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QpOiB2b2lkCndpdGhkcmF3RnVuZHM6Cglwcm90byAxIDAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozMTcKCS8vIHNlbmRBc3NldFRyYW5zZmVyKHsKCS8vICAgICAgICAgICAgIHNlbmRlcjogd2l0aGRyYXdhbC5jYXJkRnVuZCwKCS8vICAgICAgICAgICAgIGFzc2V0UmVjZWl2ZXI6IHdpdGhkcmF3YWwucmVjaXBpZW50LAoJLy8gICAgICAgICAgICAgeGZlckFzc2V0OiB3aXRoZHJhd2FsLmFzc2V0LAoJLy8gICAgICAgICAgICAgYXNzZXRBbW91bnQ6IHdpdGhkcmF3YWwuYW1vdW50LAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGF4ZmVyCglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MzE4CgkvLyBzZW5kZXI6IHdpdGhkcmF3YWwuY2FyZEZ1bmQKCWZyYW1lX2RpZyAtMSAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoJZXh0cmFjdCAwIDMyCglpdHhuX2ZpZWxkIFNlbmRlcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjMxOQoJLy8gYXNzZXRSZWNlaXZlcjogd2l0aGRyYXdhbC5yZWNpcGllbnQKCWZyYW1lX2RpZyAtMSAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoJZXh0cmFjdCAzMiAzMgoJaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MzIwCgkvLyB4ZmVyQXNzZXQ6IHdpdGhkcmF3YWwuYXNzZXQKCWZyYW1lX2RpZyAtMSAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoJZXh0cmFjdCA2NCA4CglidG9pCglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjMyMQoJLy8gYXNzZXRBbW91bnQ6IHdpdGhkcmF3YWwuYW1vdW50CglmcmFtZV9kaWcgLTEgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCWV4dHJhY3QgNzIgOAoJYnRvaQoJaXR4bl9maWVsZCBBc3NldEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozMjUKCS8vIHRoaXMuV2l0aGRyYXdhbC5sb2coewoJLy8gICAgICAgICAgICAgY2FyZEZ1bmQ6IHdpdGhkcmF3YWwuY2FyZEZ1bmQsCgkvLyAgICAgICAgICAgICByZWNpcGllbnQ6IHdpdGhkcmF3YWwucmVjaXBpZW50LAoJLy8gICAgICAgICAgICAgYXNzZXQ6IHdpdGhkcmF3YWwuYXNzZXQsCgkvLyAgICAgICAgICAgICBhbW91bnQ6IHdpdGhkcmF3YWwuYW1vdW50LAoJLy8gICAgICAgICAgICAgbm9uY2U6IHdpdGhkcmF3YWwubm9uY2UsCgkvLyAgICAgICAgIH0pCglieXRlIDB4M2I3YjM2MGIgLy8gV2l0aGRyYXdhbChhZGRyZXNzLGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQpCglmcmFtZV9kaWcgLTEgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCWV4dHJhY3QgMCAzMgoJZnJhbWVfZGlnIC0xIC8vIHdpdGhkcmF3YWw6IFdpdGhkcmF3YWxSZXF1ZXN0CglleHRyYWN0IDMyIDMyCgljb25jYXQKCWZyYW1lX2RpZyAtMSAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoJZXh0cmFjdCA2NCA4CglidG9pCglpdG9iCgljb25jYXQKCWZyYW1lX2RpZyAtMSAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoJZXh0cmFjdCA3MiA4CglidG9pCglpdG9iCgljb25jYXQKCWZyYW1lX2RpZyAtMSAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoJZXh0cmFjdCA4OCA4CglidG9pCglpdG9iCgljb25jYXQKCWNvbmNhdAoJbG9nCglyZXRzdWIKCi8vIHVwZGF0ZVNldHRsZW1lbnRBZGRyZXNzKGFzc2V0OiBBc3NldElELCBuZXdTZXR0bGVtZW50QWRkcmVzczogQWRkcmVzcyk6IHZvaWQKdXBkYXRlU2V0dGxlbWVudEFkZHJlc3M6Cglwcm90byAyIDAKCgkvLyBQdXNoIGVtcHR5IGJ5dGVzIGFmdGVyIHRoZSBmcmFtZSBwb2ludGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIGxvY2FsIHZhcmlhYmxlcwoJYnl0ZSAweAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjMzNQoJLy8gb2xkU2V0dGxlbWVudEFkZHJlc3MgPSB0aGlzLnNldHRsZW1lbnRfYWRkcmVzcyhhc3NldCkuZXhpc3RzCgkvLyAgICAgICAgICAgICA/IHRoaXMuc2V0dGxlbWVudF9hZGRyZXNzKGFzc2V0KS52YWx1ZQoJLy8gICAgICAgICAgICAgOiBnbG9iYWxzLnplcm9BZGRyZXNzCglieXRlIDB4NzM2MSAvLyAic2EiCglmcmFtZV9kaWcgLTEgLy8gYXNzZXQ6IEFzc2V0SUQKCWl0b2IKCWNvbmNhdAoJYm94X2xlbgoJc3dhcAoJcG9wCglieiAqdGVybmFyeTNfZmFsc2UKCWJ5dGUgMHg3MzYxIC8vICJzYSIKCWZyYW1lX2RpZyAtMSAvLyBhc3NldDogQXNzZXRJRAoJaXRvYgoJY29uY2F0Cglib3hfZ2V0CgoJLy8gYm94IHZhbHVlIGRvZXMgbm90IGV4aXN0OiB0aGlzLnNldHRsZW1lbnRfYWRkcmVzcyhhc3NldCkudmFsdWUKCWFzc2VydAoJYiAqdGVybmFyeTNfZW5kCgoqdGVybmFyeTNfZmFsc2U6CglnbG9iYWwgWmVyb0FkZHJlc3MKCip0ZXJuYXJ5M19lbmQ6CglmcmFtZV9idXJ5IDAgLy8gb2xkU2V0dGxlbWVudEFkZHJlc3M6IGFkZHJlc3MKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozMzgKCS8vIHRoaXMuc2V0dGxlbWVudF9hZGRyZXNzKGFzc2V0KS52YWx1ZSA9IG5ld1NldHRsZW1lbnRBZGRyZXNzCglieXRlIDB4NzM2MSAvLyAic2EiCglmcmFtZV9kaWcgLTEgLy8gYXNzZXQ6IEFzc2V0SUQKCWl0b2IKCWNvbmNhdAoJZnJhbWVfZGlnIC0yIC8vIG5ld1NldHRsZW1lbnRBZGRyZXNzOiBBZGRyZXNzCglib3hfcHV0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MzQwCgkvLyB0aGlzLlNldHRsZW1lbnRBZGRyZXNzQ2hhbmdlZC5sb2coewoJLy8gICAgICAgICAgICAgb2xkU2V0dGxlbWVudEFkZHJlc3M6IG9sZFNldHRsZW1lbnRBZGRyZXNzLAoJLy8gICAgICAgICAgICAgbmV3U2V0dGxlbWVudEFkZHJlc3M6IG5ld1NldHRsZW1lbnRBZGRyZXNzLAoJLy8gICAgICAgICB9KQoJYnl0ZSAweGZkNTM1MzU4IC8vIFNldHRsZW1lbnRBZGRyZXNzQ2hhbmdlZChhZGRyZXNzLGFkZHJlc3MpCglmcmFtZV9kaWcgMCAvLyBvbGRTZXR0bGVtZW50QWRkcmVzczogYWRkcmVzcwoJZnJhbWVfZGlnIC0yIC8vIG5ld1NldHRsZW1lbnRBZGRyZXNzOiBBZGRyZXNzCgljb25jYXQKCWNvbmNhdAoJbG9nCglyZXRzdWIKCi8vIGRlcGxveShhZGRyZXNzKWFkZHJlc3MKKmFiaV9yb3V0ZV9kZXBsb3k6CgkvLyBUaGUgQUJJIHJldHVybiBwcmVmaXgKCWJ5dGUgMHgxNTFmN2M3NQoKCS8vIG93bmVyOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDAgKG93bmVyKSBmb3IgZGVwbG95IG11c3QgYmUgYSBhZGRyZXNzCglhc3NlcnQKCgkvLyBleGVjdXRlIGRlcGxveShhZGRyZXNzKWFkZHJlc3MKCWNhbGxzdWIgZGVwbG95Cgljb25jYXQKCWxvZwoJaW50IDEKCXJldHVybgoKLy8gZGVwbG95KG93bmVyOiBBZGRyZXNzKTogQWRkcmVzcwovLwovLyBEZXBsb3kgYSBwYXJ0bmVyIGNoYW5uZWwsIHNldHRpbmcgdGhlIG93bmVyIGFzIHByb3ZpZGVkCmRlcGxveToKCXByb3RvIDEgMQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjM1MgoJLy8gdGhpcy5fdHJhbnNmZXJPd25lcnNoaXAob3duZXIpCglmcmFtZV9kaWcgLTEgLy8gb3duZXI6IEFkZHJlc3MKCWNhbGxzdWIgX3RyYW5zZmVyT3duZXJzaGlwCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MzUzCgkvLyB0aGlzLl9wYXVzZXIudmFsdWUgPSB0aGlzLnR4bi5zZW5kZXIKCWJ5dGUgMHg1ZjcwNjE3NTczNjU3MiAvLyAiX3BhdXNlciIKCXR4biBTZW5kZXIKCWFwcF9nbG9iYWxfcHV0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MzU1CgkvLyByZXR1cm4gdGhpcy5hcHAuYWRkcmVzczsKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCglyZXRzdWIKCi8vIHVwZGF0ZSgpdm9pZAoqYWJpX3JvdXRlX3VwZGF0ZToKCS8vIGV4ZWN1dGUgdXBkYXRlKCl2b2lkCgljYWxsc3ViIHVwZGF0ZQoJaW50IDEKCXJldHVybgoKLy8gdXBkYXRlKCk6IHZvaWQKLy8KLy8gQWxsb3dzIHRoZSBvd25lciB0byB1cGRhdGUgdGhlIHNtYXJ0IGNvbnRyYWN0CnVwZGF0ZToKCXByb3RvIDAgMAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjM2MwoJLy8gdGhpcy5vbmx5T3duZXIoKQoJY2FsbHN1YiBvbmx5T3duZXIKCXJldHN1YgoKLy8gZGVzdHJveSgpdm9pZAoqYWJpX3JvdXRlX2Rlc3Ryb3k6CgkvLyBleGVjdXRlIGRlc3Ryb3koKXZvaWQKCWNhbGxzdWIgZGVzdHJveQoJaW50IDEKCXJldHVybgoKLy8gZGVzdHJveSgpOiB2b2lkCi8vCi8vIERlc3Ryb3kgdGhlIHNtYXJ0IGNvbnRyYWN0LCBzZW5kaW5nIGFsbCBBbGdvIHRvIHRoZSBvd25lciBhY2NvdW50LiBUaGlzIGNhbiBvbmx5IGJlIGRvbmUgaWYgdGhlcmUgYXJlIG5vIGFjdGl2ZSBjYXJkIGZ1bmRzCmRlc3Ryb3k6Cglwcm90byAwIDAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozNzEKCS8vIHRoaXMub25seU93bmVyKCkKCWNhbGxzdWIgb25seU93bmVyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Mzc0CgkvLyBhc3NlcnQoIXRoaXMuY2FyZF9mdW5kc19hY3RpdmVfY291bnQudmFsdWUsICdDQVJEX0ZVTkRTX1NUSUxMX0FDVElWRScpCglieXRlIDB4NjM2NjYxNjMgLy8gImNmYWMiCglhcHBfZ2xvYmFsX2dldAoJIQoKCS8vIENBUkRfRlVORFNfU1RJTExfQUNUSVZFCglhc3NlcnQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozNzYKCS8vIGFzc2VydCghdGhpcy5wYXJ0bmVyX2NoYW5uZWxzX2FjdGl2ZV9jb3VudC52YWx1ZSwgJ1BBUlRORVJfQ0hBTk5FTFNfU1RJTExfQUNUSVZFJykKCWJ5dGUgMHg3MDYzNjE2MyAvLyAicGNhYyIKCWFwcF9nbG9iYWxfZ2V0CgkhCgoJLy8gUEFSVE5FUl9DSEFOTkVMU19TVElMTF9BQ1RJVkUKCWFzc2VydAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjM3OAoJLy8gc2VuZFBheW1lbnQoewoJLy8gICAgICAgICAgICAgcmVjZWl2ZXI6IHRoaXMuYXBwLmFkZHJlc3MsCgkvLyAgICAgICAgICAgICBhbW91bnQ6IDAsCgkvLyAgICAgICAgICAgICBjbG9zZVJlbWFpbmRlclRvOiB0aGlzLm93bmVyKCksCgkvLyAgICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgcGF5CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Mzc5CgkvLyByZWNlaXZlcjogdGhpcy5hcHAuYWRkcmVzcwoJZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czozODAKCS8vIGFtb3VudDogMAoJaW50IDAKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MzgxCgkvLyBjbG9zZVJlbWFpbmRlclRvOiB0aGlzLm93bmVyKCkKCWNhbGxzdWIgb3duZXIKCWl0eG5fZmllbGQgQ2xvc2VSZW1haW5kZXJUbwoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCXJldHN1YgoKLy8gc2V0V2l0aGRyYXdhbFRpbWVvdXQodWludDY0KXZvaWQKKmFiaV9yb3V0ZV9zZXRXaXRoZHJhd2FsVGltZW91dDoKCS8vIHNlY29uZHM6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoKCS8vIGV4ZWN1dGUgc2V0V2l0aGRyYXdhbFRpbWVvdXQodWludDY0KXZvaWQKCWNhbGxzdWIgc2V0V2l0aGRyYXdhbFRpbWVvdXQKCWludCAxCglyZXR1cm4KCi8vIHNldFdpdGhkcmF3YWxUaW1lb3V0KHNlY29uZHM6IHVpbnQ2NCk6IHZvaWQKLy8KLy8gU2V0IHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBhIHdpdGhkcmF3YWwgcmVxdWVzdCBtdXN0IHdhaXQgdW50aWwgYmVpbmcgd2l0aGRyYXduCi8vIEBwYXJhbSBzZWNvbmRzIE5ldyBudW1iZXIgb2Ygc2Vjb25kcyB0byB3YWl0CnNldFdpdGhkcmF3YWxUaW1lb3V0OgoJcHJvdG8gMSAwCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6MzkxCgkvLyB0aGlzLm9ubHlPd25lcigpCgljYWxsc3ViIG9ubHlPd25lcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjM5MwoJLy8gdGhpcy53aXRoZHJhd2FsX3dhaXRfdGltZS52YWx1ZSA9IHNlY29uZHMKCWJ5dGUgMHg3Nzc3NzQgLy8gInd3dCIKCWZyYW1lX2RpZyAtMSAvLyBzZWNvbmRzOiB1aW50NjQKCWFwcF9nbG9iYWxfcHV0CglyZXRzdWIKCi8vIHNldEVhcmx5V2l0aGRyYXdhbFB1YmtleShieXRlWzMyXSl2b2lkCiphYmlfcm91dGVfc2V0RWFybHlXaXRoZHJhd2FsUHVia2V5OgoJLy8gcHVia2V5OiBieXRlWzMyXQoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAwIChwdWJrZXkpIGZvciBzZXRFYXJseVdpdGhkcmF3YWxQdWJrZXkgbXVzdCBiZSBhIGJ5dGVbMzJdCglhc3NlcnQKCgkvLyBleGVjdXRlIHNldEVhcmx5V2l0aGRyYXdhbFB1YmtleShieXRlWzMyXSl2b2lkCgljYWxsc3ViIHNldEVhcmx5V2l0aGRyYXdhbFB1YmtleQoJaW50IDEKCXJldHVybgoKLy8gc2V0RWFybHlXaXRoZHJhd2FsUHVia2V5KHB1YmtleTogYnl0ZXMzMik6IHZvaWQKLy8KLy8gU2V0cyB0aGUgZWFybHkgd2l0aGRyYXdhbCBwdWJsaWMga2V5LgovLyBAcGFyYW0gcHVia2V5IC0gVGhlIHB1YmxpYyBrZXkgdG8gc2V0LgpzZXRFYXJseVdpdGhkcmF3YWxQdWJrZXk6Cglwcm90byAxIDAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0MDEKCS8vIHRoaXMub25seU93bmVyKCkKCWNhbGxzdWIgb25seU93bmVyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NDAzCgkvLyB0aGlzLmVhcmx5X3dpdGhkcmF3YWxfcHVia2V5LnZhbHVlID0gcHVia2V5CglieXRlIDB4NjU3NzcwNmIgLy8gImV3cGsiCglmcmFtZV9kaWcgLTEgLy8gcHVia2V5OiBieXRlczMyCglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBnZXRQYXJ0bmVyQ2hhbm5lbE1icihzdHJpbmcpdWludDY0CiphYmlfcm91dGVfZ2V0UGFydG5lckNoYW5uZWxNYnI6CgkvLyBUaGUgQUJJIHJldHVybiBwcmVmaXgKCWJ5dGUgMHgxNTFmN2M3NQoKCS8vIHBhcnRuZXJDaGFubmVsTmFtZTogc3RyaW5nCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglleHRyYWN0IDIgMAoKCS8vIGV4ZWN1dGUgZ2V0UGFydG5lckNoYW5uZWxNYnIoc3RyaW5nKXVpbnQ2NAoJY2FsbHN1YiBnZXRQYXJ0bmVyQ2hhbm5lbE1icgoJaXRvYgoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIGdldFBhcnRuZXJDaGFubmVsTWJyKHBhcnRuZXJDaGFubmVsTmFtZTogc3RyaW5nKTogdWludDY0Ci8vCi8vIFJldHJpZXZlcyB0aGUgbWluaW11bSBiYWxhbmNlIHJlcXVpcmVtZW50IGZvciBjcmVhdGluZyBhIHBhcnRuZXIgY2hhbm5lbCBhY2NvdW50LgovLyBAcGFyYW0gcGFydG5lckNoYW5uZWxOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBhcnRuZXIgY2hhbm5lbC4KLy8gQHJldHVybnMgVGhlIG1pbmltdW0gYmFsYW5jZSByZXF1aXJlbWVudCBmb3IgY3JlYXRpbmcgYSBwYXJ0bmVyIGNoYW5uZWwgYWNjb3VudC4KZ2V0UGFydG5lckNoYW5uZWxNYnI6Cglwcm90byAxIDEKCgkvLyBQdXNoIGVtcHR5IGJ5dGVzIGFmdGVyIHRoZSBmcmFtZSBwb2ludGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIGxvY2FsIHZhcmlhYmxlcwoJYnl0ZSAweAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQxMgoJLy8gYm94Q29zdCA9IDI1MDAgKyA0MDAgKiAoMyArIDMyICsgbGVuKHBhcnRuZXJDaGFubmVsTmFtZSkpCglpbnQgMjUwMAoJaW50IDQwMAoJaW50IDM1CglmcmFtZV9kaWcgLTEgLy8gcGFydG5lckNoYW5uZWxOYW1lOiBzdHJpbmcKCWxlbgoJKwoJKgoJKwoJZnJhbWVfYnVyeSAwIC8vIGJveENvc3Q6IHVpbnQ2NAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQxMwoJLy8gcmV0dXJuIGdsb2JhbHMubWluQmFsYW5jZSArIGdsb2JhbHMubWluQmFsYW5jZSArIGJveENvc3Q7CglnbG9iYWwgTWluQmFsYW5jZQoJZ2xvYmFsIE1pbkJhbGFuY2UKCSsKCWZyYW1lX2RpZyAwIC8vIGJveENvc3Q6IHVpbnQ2NAoJKwoKCS8vIHNldCB0aGUgc3Vicm91dGluZSByZXR1cm4gdmFsdWUKCWZyYW1lX2J1cnkgMAoJcmV0c3ViCgovLyBwYXJ0bmVyQ2hhbm5lbENyZWF0ZShwYXksc3RyaW5nKWFkZHJlc3MKKmFiaV9yb3V0ZV9wYXJ0bmVyQ2hhbm5lbENyZWF0ZToKCS8vIFRoZSBBQkkgcmV0dXJuIHByZWZpeAoJYnl0ZSAweDE1MWY3Yzc1CgoJLy8gcGFydG5lckNoYW5uZWxOYW1lOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gbWJyOiBwYXkKCXR4biBHcm91cEluZGV4CglpbnQgMQoJLQoJZHVwCglndHhucyBUeXBlRW51bQoJaW50IHBheQoJPT0KCgkvLyBhcmd1bWVudCAxIChtYnIpIGZvciBwYXJ0bmVyQ2hhbm5lbENyZWF0ZSBtdXN0IGJlIGEgcGF5IHRyYW5zYWN0aW9uCglhc3NlcnQKCgkvLyBleGVjdXRlIHBhcnRuZXJDaGFubmVsQ3JlYXRlKHBheSxzdHJpbmcpYWRkcmVzcwoJY2FsbHN1YiBwYXJ0bmVyQ2hhbm5lbENyZWF0ZQoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIHBhcnRuZXJDaGFubmVsQ3JlYXRlKG1icjogUGF5VHhuLCBwYXJ0bmVyQ2hhbm5lbE5hbWU6IHN0cmluZyk6IEFkZHJlc3MKLy8KLy8gQ3JlYXRlcyBhIHBhcnRuZXIgY2hhbm5lbCBhY2NvdW50IGFuZCBhc3NvY2lhdGVzIGl0IHdpdGggdGhlIHByb3ZpZGVkIHBhcnRuZXIgY2hhbm5lbCBuYW1lLgovLyBPbmx5IHRoZSBvd25lciBvZiB0aGUgY29udHJhY3QgY2FuIGNhbGwgdGhpcyBmdW5jdGlvbi4KLy8KLy8gQHBhcmFtIG1iciAtIFRoZSBQYXlUeG4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcGF5bWVudCB0cmFuc2FjdGlvbi4KLy8gQHBhcmFtIHBhcnRuZXJDaGFubmVsTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwYXJ0bmVyIGNoYW5uZWwuCi8vIEByZXR1cm5zIFRoZSBhZGRyZXNzIG9mIHRoZSBuZXdseSBjcmVhdGVkIHBhcnRuZXIgY2hhbm5lbCBhY2NvdW50LgpwYXJ0bmVyQ2hhbm5lbENyZWF0ZToKCXByb3RvIDIgMQoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NDI1CgkvLyB2ZXJpZnlQYXlUeG4obWJyLCB7CgkvLyAgICAgICAgICAgICByZWNlaXZlcjogdGhpcy5hcHAuYWRkcmVzcywKCS8vICAgICAgICAgICAgIGFtb3VudDogdGhpcy5nZXRQYXJ0bmVyQ2hhbm5lbE1icihwYXJ0bmVyQ2hhbm5lbE5hbWUpLAoJLy8gICAgICAgICB9KQoJLy8gdmVyaWZ5IHJlY2VpdmVyCglmcmFtZV9kaWcgLTEgLy8gbWJyOiBQYXlUeG4KCWd0eG5zIFJlY2VpdmVyCglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJPT0KCgkvLyB0cmFuc2FjdGlvbiB2ZXJpZmljYXRpb24gZmFpbGVkOiB7InR4biI6Im1iciIsImZpZWxkIjoicmVjZWl2ZXIiLCJleHBlY3RlZCI6InRoaXMuYXBwLmFkZHJlc3MifQoJYXNzZXJ0CgoJLy8gdmVyaWZ5IGFtb3VudAoJZnJhbWVfZGlnIC0xIC8vIG1icjogUGF5VHhuCglndHhucyBBbW91bnQKCWZyYW1lX2RpZyAtMiAvLyBwYXJ0bmVyQ2hhbm5lbE5hbWU6IHN0cmluZwoJY2FsbHN1YiBnZXRQYXJ0bmVyQ2hhbm5lbE1icgoJPT0KCgkvLyB0cmFuc2FjdGlvbiB2ZXJpZmljYXRpb24gZmFpbGVkOiB7InR4biI6Im1iciIsImZpZWxkIjoiYW1vdW50IiwiZXhwZWN0ZWQiOiJ0aGlzLmdldFBhcnRuZXJDaGFubmVsTWJyKHBhcnRuZXJDaGFubmVsTmFtZSkifQoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NDMxCgkvLyBwYXJ0bmVyQ2hhbm5lbEFkZHIgPSBzZW5kTWV0aG9kQ2FsbDx0eXBlb2YgQ29udHJvbGxlZEFkZHJlc3MucHJvdG90eXBlLm5ldz4oewoJLy8gICAgICAgICAgICAgb25Db21wbGV0aW9uOiBPbkNvbXBsZXRpb24uRGVsZXRlQXBwbGljYXRpb24sCgkvLyAgICAgICAgICAgICBhcHByb3ZhbFByb2dyYW06IENvbnRyb2xsZWRBZGRyZXNzLmFwcHJvdmFsUHJvZ3JhbSgpLAoJLy8gICAgICAgICAgICAgY2xlYXJTdGF0ZVByb2dyYW06IENvbnRyb2xsZWRBZGRyZXNzLmNsZWFyUHJvZ3JhbSgpLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGFwcGwKCWl0eG5fZmllbGQgVHlwZUVudW0KCW1ldGhvZCAibmV3KClhZGRyZXNzIgoJaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0MzIKCS8vIG9uQ29tcGxldGlvbjogT25Db21wbGV0aW9uLkRlbGV0ZUFwcGxpY2F0aW9uCglpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgoJaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0MzMKCS8vIGFwcHJvdmFsUHJvZ3JhbTogQ29udHJvbGxlZEFkZHJlc3MuYXBwcm92YWxQcm9ncmFtKCkKCWJ5dGUgYjY0IENpQUNBUUF4R0JTQkJnc3hHUWlOREFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFKd0NBQkJVZmZIV0lBQVJRc0NKRGlnQUJzU0t5RURJS3NnY2pzZ2d5RHJJZ0k3SUJzeklLaVlBRVZoMHY2allhQUk0Qi84MEEKCWl0eG5fZmllbGQgQXBwcm92YWxQcm9ncmFtCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NDM0CgkvLyBjbGVhclN0YXRlUHJvZ3JhbTogQ29udHJvbGxlZEFkZHJlc3MuY2xlYXJQcm9ncmFtKCkKCWJ5dGUgYjY0IENnPT0KCWl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglpdHhuIE51bUxvZ3MKCWludCAxCgktCglpdHhuYXMgTG9ncwoJZXh0cmFjdCA0IDAKCWZyYW1lX2J1cnkgMCAvLyBwYXJ0bmVyQ2hhbm5lbEFkZHI6IGFkZHJlc3MKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0MzgKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiBwYXJ0bmVyQ2hhbm5lbEFkZHIsCgkvLyAgICAgICAgICAgICBhbW91bnQ6IGdsb2JhbHMubWluQmFsYW5jZSwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBwYXkKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0MzkKCS8vIHJlY2VpdmVyOiBwYXJ0bmVyQ2hhbm5lbEFkZHIKCWZyYW1lX2RpZyAwIC8vIHBhcnRuZXJDaGFubmVsQWRkcjogYWRkcmVzcwoJaXR4bl9maWVsZCBSZWNlaXZlcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQ0MAoJLy8gYW1vdW50OiBnbG9iYWxzLm1pbkJhbGFuY2UKCWdsb2JhbCBNaW5CYWxhbmNlCglpdHhuX2ZpZWxkIEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0NDMKCS8vIHRoaXMucGFydG5lcl9jaGFubmVscyhwYXJ0bmVyQ2hhbm5lbEFkZHIpLnZhbHVlID0gcGFydG5lckNoYW5uZWxOYW1lCglieXRlIDB4NzA2MyAvLyAicGMiCglmcmFtZV9kaWcgMCAvLyBwYXJ0bmVyQ2hhbm5lbEFkZHI6IGFkZHJlc3MKCWNvbmNhdAoJZHVwCglib3hfZGVsCglwb3AKCWZyYW1lX2RpZyAtMiAvLyBwYXJ0bmVyQ2hhbm5lbE5hbWU6IHN0cmluZwoJZHVwCglsZW4KCWl0b2IKCWV4dHJhY3QgNiAyCglzd2FwCgljb25jYXQKCWJveF9wdXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0NDYKCS8vIHRoaXMucGFydG5lcl9jaGFubmVsc19hY3RpdmVfY291bnQudmFsdWUgPSB0aGlzLnBhcnRuZXJfY2hhbm5lbHNfYWN0aXZlX2NvdW50LnZhbHVlICsgMQoJYnl0ZSAweDcwNjM2MTYzIC8vICJwY2FjIgoJZHVwCglhcHBfZ2xvYmFsX2dldAoJaW50IDEKCSsKCWFwcF9nbG9iYWxfcHV0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NDQ4CgkvLyB0aGlzLlBhcnRuZXJDaGFubmVsQ3JlYXRlZC5sb2coewoJLy8gICAgICAgICAgICAgcGFydG5lckNoYW5uZWw6IHBhcnRuZXJDaGFubmVsQWRkciwKCS8vICAgICAgICAgICAgIHBhcnRuZXJDaGFubmVsTmFtZTogcGFydG5lckNoYW5uZWxOYW1lLAoJLy8gICAgICAgICB9KQoJYnl0ZSAweDJjOTI0ZGVlIC8vIFBhcnRuZXJDaGFubmVsQ3JlYXRlZChhZGRyZXNzLHN0cmluZykKCWJ5dGUgMHggLy8gaW5pdGlhbCBoZWFkCglieXRlIDB4IC8vIGluaXRpYWwgdGFpbAoJYnl0ZSAweDAwMjIgLy8gaW5pdGlhbCBoZWFkIG9mZnNldAoJZnJhbWVfZGlnIDAgLy8gcGFydG5lckNoYW5uZWxBZGRyOiBhZGRyZXNzCgljYWxsc3ViICpwcm9jZXNzX3N0YXRpY190dXBsZV9lbGVtZW50CglmcmFtZV9kaWcgLTIgLy8gcGFydG5lckNoYW5uZWxOYW1lOiBzdHJpbmcKCWR1cAoJbGVuCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0CgljYWxsc3ViICpwcm9jZXNzX2R5bmFtaWNfdHVwbGVfZWxlbWVudAoJcG9wIC8vIHBvcCBoZWFkIG9mZnNldAoJY29uY2F0IC8vIGNvbmNhdCBoZWFkIGFuZCB0YWlsCgljb25jYXQKCWxvZwoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQ1MwoJLy8gcmV0dXJuIHBhcnRuZXJDaGFubmVsQWRkcjsKCWZyYW1lX2RpZyAwIC8vIHBhcnRuZXJDaGFubmVsQWRkcjogYWRkcmVzcwoKCS8vIHNldCB0aGUgc3Vicm91dGluZSByZXR1cm4gdmFsdWUKCWZyYW1lX2J1cnkgMAoJcmV0c3ViCgovLyBwYXJ0bmVyQ2hhbm5lbENsb3NlKGFkZHJlc3Mpdm9pZAoqYWJpX3JvdXRlX3BhcnRuZXJDaGFubmVsQ2xvc2U6CgkvLyBwYXJ0bmVyQ2hhbm5lbDogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAwIChwYXJ0bmVyQ2hhbm5lbCkgZm9yIHBhcnRuZXJDaGFubmVsQ2xvc2UgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGV4ZWN1dGUgcGFydG5lckNoYW5uZWxDbG9zZShhZGRyZXNzKXZvaWQKCWNhbGxzdWIgcGFydG5lckNoYW5uZWxDbG9zZQoJaW50IDEKCXJldHVybgoKLy8gcGFydG5lckNoYW5uZWxDbG9zZShwYXJ0bmVyQ2hhbm5lbDogQWRkcmVzcyk6IHZvaWQKcGFydG5lckNoYW5uZWxDbG9zZToKCXByb3RvIDEgMAoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CglkdXAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0NTcKCS8vIHRoaXMub25seU93bmVyKCkKCWNhbGxzdWIgb25seU93bmVyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NDU5CgkvLyBzZW5kUGF5bWVudCh7CgkvLyAgICAgICAgICAgICBzZW5kZXI6IHBhcnRuZXJDaGFubmVsLAoJLy8gICAgICAgICAgICAgcmVjZWl2ZXI6IHBhcnRuZXJDaGFubmVsLAoJLy8gICAgICAgICAgICAgYW1vdW50OiAwLAoJLy8gICAgICAgICAgICAgY2xvc2VSZW1haW5kZXJUbzogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IHBheQoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQ2MAoJLy8gc2VuZGVyOiBwYXJ0bmVyQ2hhbm5lbAoJZnJhbWVfZGlnIC0xIC8vIHBhcnRuZXJDaGFubmVsOiBBZGRyZXNzCglpdHhuX2ZpZWxkIFNlbmRlcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQ2MQoJLy8gcmVjZWl2ZXI6IHBhcnRuZXJDaGFubmVsCglmcmFtZV9kaWcgLTEgLy8gcGFydG5lckNoYW5uZWw6IEFkZHJlc3MKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0NjIKCS8vIGFtb3VudDogMAoJaW50IDAKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NDYzCgkvLyBjbG9zZVJlbWFpbmRlclRvOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgQ2xvc2VSZW1haW5kZXJUbwoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0NjYKCS8vIHBhcnRuZXJDaGFubmVsU2l6ZSA9IHRoaXMucGFydG5lcl9jaGFubmVscyhwYXJ0bmVyQ2hhbm5lbCkuc2l6ZQoJYnl0ZSAweDcwNjMgLy8gInBjIgoJZnJhbWVfZGlnIC0xIC8vIHBhcnRuZXJDaGFubmVsOiBBZGRyZXNzCgljb25jYXQKCWJveF9sZW4KCgkvLyBib3ggdmFsdWUgZG9lcyBub3QgZXhpc3Q6IHRoaXMucGFydG5lcl9jaGFubmVscyhwYXJ0bmVyQ2hhbm5lbCkuc2l6ZQoJYXNzZXJ0CglmcmFtZV9idXJ5IDAgLy8gcGFydG5lckNoYW5uZWxTaXplOiB1aW50NjQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0NjcKCS8vIGJveENvc3QgPSAyNTAwICsgNDAwICogKDMgKyAzMiArIHBhcnRuZXJDaGFubmVsU2l6ZSkKCWludCAyNTAwCglpbnQgNDAwCglpbnQgMzUKCWZyYW1lX2RpZyAwIC8vIHBhcnRuZXJDaGFubmVsU2l6ZTogdWludDY0CgkrCgkqCgkrCglmcmFtZV9idXJ5IDEgLy8gYm94Q29zdDogdWludDY0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NDY5CgkvLyBzZW5kUGF5bWVudCh7CgkvLyAgICAgICAgICAgICByZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgICAgICAgYW1vdW50OiBib3hDb3N0LAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IHBheQoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQ3MAoJLy8gcmVjZWl2ZXI6IHRoaXMudHhuLnNlbmRlcgoJdHhuIFNlbmRlcgoJaXR4bl9maWVsZCBSZWNlaXZlcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQ3MQoJLy8gYW1vdW50OiBib3hDb3N0CglmcmFtZV9kaWcgMSAvLyBib3hDb3N0OiB1aW50NjQKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQ3NQoJLy8gdGhpcy5wYXJ0bmVyX2NoYW5uZWxzKHBhcnRuZXJDaGFubmVsKS5kZWxldGUoKQoJYnl0ZSAweDcwNjMgLy8gInBjIgoJZnJhbWVfZGlnIC0xIC8vIHBhcnRuZXJDaGFubmVsOiBBZGRyZXNzCgljb25jYXQKCWJveF9kZWwKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0NzgKCS8vIHRoaXMucGFydG5lcl9jaGFubmVsc19hY3RpdmVfY291bnQudmFsdWUgPSB0aGlzLnBhcnRuZXJfY2hhbm5lbHNfYWN0aXZlX2NvdW50LnZhbHVlIC0gMQoJYnl0ZSAweDcwNjM2MTYzIC8vICJwY2FjIgoJZHVwCglhcHBfZ2xvYmFsX2dldAoJaW50IDEKCS0KCWFwcF9nbG9iYWxfcHV0CglyZXRzdWIKCi8vIGdldENhcmRGdW5kTWJyKHVpbnQ2NCl1aW50NjQKKmFiaV9yb3V0ZV9nZXRDYXJkRnVuZE1icjoKCS8vIFRoZSBBQkkgcmV0dXJuIHByZWZpeAoJYnl0ZSAweDE1MWY3Yzc1CgoJLy8gYXNzZXQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoKCS8vIGV4ZWN1dGUgZ2V0Q2FyZEZ1bmRNYnIodWludDY0KXVpbnQ2NAoJY2FsbHN1YiBnZXRDYXJkRnVuZE1icgoJaXRvYgoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIGdldENhcmRGdW5kTWJyKGFzc2V0OiBBc3NldElEKTogdWludDY0Ci8vCi8vIFJldHJpZXZlcyB0aGUgbWluaW11bSBiYWxhbmNlIHJlcXVpcmVtZW50IGZvciBjcmVhdGluZyBhIGNhcmQgZnVuZCBhY2NvdW50LgovLyBAcGFyYW0gYXNzZXQgQXNzZXQgdG8gb3B0LWluIHRvLiAwID0gTm8gYXNzZXQgb3B0LWluCi8vIEByZXR1cm5zIE1pbmltdW0gYmFsYW5jZSByZXF1aXJlbWVudCBmb3IgY3JlYXRpbmcgYSBjYXJkIGZ1bmQgYWNjb3VudApnZXRDYXJkRnVuZE1icjoKCXByb3RvIDEgMQoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CglkdXAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0ODkKCS8vIGJveENvc3QgPSAyNTAwICsgNDAwICogKDMgKyAzMiArICgzMiArIDMyICsgMzIgKyA4KSkKCWludCA1ODEwMAoJZnJhbWVfYnVyeSAwIC8vIGJveENvc3Q6IHVpbnQ2NAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjQ5MAoJLy8gYXNzZXRNYnIgPSBhc3NldCA/IGdsb2JhbHMuYXNzZXRPcHRJbk1pbkJhbGFuY2UgOiAwCglmcmFtZV9kaWcgLTEgLy8gYXNzZXQ6IEFzc2V0SUQKCWJ6ICp0ZXJuYXJ5NV9mYWxzZQoJZ2xvYmFsIEFzc2V0T3B0SW5NaW5CYWxhbmNlCgliICp0ZXJuYXJ5NV9lbmQKCip0ZXJuYXJ5NV9mYWxzZToKCWludCAwCgoqdGVybmFyeTVfZW5kOgoJZnJhbWVfYnVyeSAxIC8vIGFzc2V0TWJyOiB1aW50NjQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo0OTEKCS8vIHJldHVybiBnbG9iYWxzLm1pbkJhbGFuY2UgKyBhc3NldE1iciArIGJveENvc3Q7CglnbG9iYWwgTWluQmFsYW5jZQoJZnJhbWVfZGlnIDEgLy8gYXNzZXRNYnI6IHVpbnQ2NAoJKwoJZnJhbWVfZGlnIDAgLy8gYm94Q29zdDogdWludDY0CgkrCgoJLy8gc2V0IHRoZSBzdWJyb3V0aW5lIHJldHVybiB2YWx1ZQoJZnJhbWVfYnVyeSAwCgoJLy8gcG9wIGFsbCBsb2NhbCB2YXJpYWJsZXMgZnJvbSB0aGUgc3RhY2sKCXBvcG4gMQoJcmV0c3ViCgovLyBjYXJkRnVuZENyZWF0ZShwYXksYWRkcmVzcyx1aW50NjQpYWRkcmVzcwoqYWJpX3JvdXRlX2NhcmRGdW5kQ3JlYXRlOgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyBhc3NldDogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglidG9pCgoJLy8gcGFydG5lckNoYW5uZWw6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMSAocGFydG5lckNoYW5uZWwpIGZvciBjYXJkRnVuZENyZWF0ZSBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gbWJyOiBwYXkKCXR4biBHcm91cEluZGV4CglpbnQgMQoJLQoJZHVwCglndHhucyBUeXBlRW51bQoJaW50IHBheQoJPT0KCgkvLyBhcmd1bWVudCAyIChtYnIpIGZvciBjYXJkRnVuZENyZWF0ZSBtdXN0IGJlIGEgcGF5IHRyYW5zYWN0aW9uCglhc3NlcnQKCgkvLyBleGVjdXRlIGNhcmRGdW5kQ3JlYXRlKHBheSxhZGRyZXNzLHVpbnQ2NClhZGRyZXNzCgljYWxsc3ViIGNhcmRGdW5kQ3JlYXRlCgljb25jYXQKCWxvZwoJaW50IDEKCXJldHVybgoKLy8gY2FyZEZ1bmRDcmVhdGUobWJyOiBQYXlUeG4sIHBhcnRuZXJDaGFubmVsOiBBZGRyZXNzLCBhc3NldDogQXNzZXRJRCk6IEFkZHJlc3MKLy8KLy8gQ3JlYXRlIGFjY291bnQuIFRoaXMgZ2VuZXJhdGVzIGEgYnJhbmQgbmV3IGFjY291bnQgYW5kIGZ1bmRzIHRoZSBtaW5pbXVtIGJhbGFuY2UgcmVxdWlyZW1lbnQKLy8gQHBhcmFtIG1iciBQYXltZW50IHRyYW5zYWN0aW9uIG9mIG1pbmltdW0gYmFsYW5jZSByZXF1aXJlbWVudAovLyBAcGFyYW0gcGFydG5lckNoYW5uZWwgRnVuZGluZyBDaGFubmVsIG5hbWUKLy8gQHBhcmFtIGFzc2V0IEFzc2V0IHRvIG9wdC1pbiB0by4gMCA9IE5vIGFzc2V0IG9wdC1pbgovLyBAcmV0dXJucyBOZXdseSBnZW5lcmF0ZWQgYWNjb3VudCB1c2VkIGJ5IHRoZWlyIGNhcmQKY2FyZEZ1bmRDcmVhdGU6Cglwcm90byAzIDEKCgkvLyBQdXNoIGVtcHR5IGJ5dGVzIGFmdGVyIHRoZSBmcmFtZSBwb2ludGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIGxvY2FsIHZhcmlhYmxlcwoJYnl0ZSAweAoJZHVwbiAyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTAyCgkvLyBhc3NlcnQodGhpcy5wYXJ0bmVyX2NoYW5uZWxzKHBhcnRuZXJDaGFubmVsKS5leGlzdHMsICdQQVJUTkVSX0NIQU5ORUxfTk9UX0ZPVU5EJykKCWJ5dGUgMHg3MDYzIC8vICJwYyIKCWZyYW1lX2RpZyAtMiAvLyBwYXJ0bmVyQ2hhbm5lbDogQWRkcmVzcwoJY29uY2F0Cglib3hfbGVuCglzd2FwCglwb3AKCgkvLyBQQVJUTkVSX0NIQU5ORUxfTk9UX0ZPVU5ECglhc3NlcnQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1MDQKCS8vIGNhcmRGdW5kRGF0YTogQ2FyZEZ1bmREYXRhID0gewoJLy8gICAgICAgICAgICAgcGFydG5lckNoYW5uZWw6IHBhcnRuZXJDaGFubmVsLAoJLy8gICAgICAgICAgICAgb3duZXI6IHRoaXMudHhuLnNlbmRlciwKCS8vICAgICAgICAgICAgIGFkZHJlc3M6IGdsb2JhbHMuemVyb0FkZHJlc3MsCgkvLyAgICAgICAgICAgICBub25jZTogMCwKCS8vICAgICAgICAgfQoJZnJhbWVfZGlnIC0yIC8vIHBhcnRuZXJDaGFubmVsOiBBZGRyZXNzCgl0eG4gU2VuZGVyCgljb25jYXQKCWdsb2JhbCBaZXJvQWRkcmVzcwoJY29uY2F0CglieXRlIDB4MDAwMDAwMDAwMDAwMDAwMAoJY29uY2F0CglmcmFtZV9idXJ5IDAgLy8gY2FyZEZ1bmREYXRhOiBDYXJkRnVuZERhdGEKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1MTEKCS8vIHZlcmlmeVBheVR4bihtYnIsIHsKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiB0aGlzLmFwcC5hZGRyZXNzLAoJLy8gICAgICAgICAgICAgYW1vdW50OiB0aGlzLmdldENhcmRGdW5kTWJyKGFzc2V0KSwKCS8vICAgICAgICAgfSkKCS8vIHZlcmlmeSByZWNlaXZlcgoJZnJhbWVfZGlnIC0xIC8vIG1icjogUGF5VHhuCglndHhucyBSZWNlaXZlcgoJZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKCT09CgoJLy8gdHJhbnNhY3Rpb24gdmVyaWZpY2F0aW9uIGZhaWxlZDogeyJ0eG4iOiJtYnIiLCJmaWVsZCI6InJlY2VpdmVyIiwiZXhwZWN0ZWQiOiJ0aGlzLmFwcC5hZGRyZXNzIn0KCWFzc2VydAoKCS8vIHZlcmlmeSBhbW91bnQKCWZyYW1lX2RpZyAtMSAvLyBtYnI6IFBheVR4bgoJZ3R4bnMgQW1vdW50CglmcmFtZV9kaWcgLTMgLy8gYXNzZXQ6IEFzc2V0SUQKCWNhbGxzdWIgZ2V0Q2FyZEZ1bmRNYnIKCT09CgoJLy8gdHJhbnNhY3Rpb24gdmVyaWZpY2F0aW9uIGZhaWxlZDogeyJ0eG4iOiJtYnIiLCJmaWVsZCI6ImFtb3VudCIsImV4cGVjdGVkIjoidGhpcy5nZXRDYXJkRnVuZE1icihhc3NldCkifQoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTE3CgkvLyBjYXJkRnVuZEFkZHIgPSBzZW5kTWV0aG9kQ2FsbDx0eXBlb2YgQ29udHJvbGxlZEFkZHJlc3MucHJvdG90eXBlLm5ldz4oewoJLy8gICAgICAgICAgICAgb25Db21wbGV0aW9uOiBPbkNvbXBsZXRpb24uRGVsZXRlQXBwbGljYXRpb24sCgkvLyAgICAgICAgICAgICBhcHByb3ZhbFByb2dyYW06IENvbnRyb2xsZWRBZGRyZXNzLmFwcHJvdmFsUHJvZ3JhbSgpLAoJLy8gICAgICAgICAgICAgY2xlYXJTdGF0ZVByb2dyYW06IENvbnRyb2xsZWRBZGRyZXNzLmNsZWFyUHJvZ3JhbSgpLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGFwcGwKCWl0eG5fZmllbGQgVHlwZUVudW0KCW1ldGhvZCAibmV3KClhZGRyZXNzIgoJaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1MTgKCS8vIG9uQ29tcGxldGlvbjogT25Db21wbGV0aW9uLkRlbGV0ZUFwcGxpY2F0aW9uCglpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgoJaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1MTkKCS8vIGFwcHJvdmFsUHJvZ3JhbTogQ29udHJvbGxlZEFkZHJlc3MuYXBwcm92YWxQcm9ncmFtKCkKCWJ5dGUgYjY0IENpQUNBUUF4R0JTQkJnc3hHUWlOREFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFKd0NBQkJVZmZIV0lBQVJRc0NKRGlnQUJzU0t5RURJS3NnY2pzZ2d5RHJJZ0k3SUJzeklLaVlBRVZoMHY2allhQUk0Qi84MEEKCWl0eG5fZmllbGQgQXBwcm92YWxQcm9ncmFtCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTIwCgkvLyBjbGVhclN0YXRlUHJvZ3JhbTogQ29udHJvbGxlZEFkZHJlc3MuY2xlYXJQcm9ncmFtKCkKCWJ5dGUgYjY0IENnPT0KCWl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglpdHhuIE51bUxvZ3MKCWludCAxCgktCglpdHhuYXMgTG9ncwoJZXh0cmFjdCA0IDAKCWZyYW1lX2J1cnkgMSAvLyBjYXJkRnVuZEFkZHI6IGFkZHJlc3MKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1MjQKCS8vIGNhcmRGdW5kRGF0YS5hZGRyZXNzID0gY2FyZEZ1bmRBZGRyCglmcmFtZV9kaWcgMCAvLyBjYXJkRnVuZERhdGE6IENhcmRGdW5kRGF0YQoJaW50IDY0IC8vIGhlYWRPZmZzZXQKCWZyYW1lX2RpZyAxIC8vIGNhcmRGdW5kQWRkcjogYWRkcmVzcwoJcmVwbGFjZTMKCWZyYW1lX2J1cnkgMCAvLyBjYXJkRnVuZERhdGE6IENhcmRGdW5kRGF0YQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjUyNwoJLy8gYXNzZXRNYnIgPSBhc3NldCA/IGdsb2JhbHMuYXNzZXRPcHRJbk1pbkJhbGFuY2UgOiAwCglmcmFtZV9kaWcgLTMgLy8gYXNzZXQ6IEFzc2V0SUQKCWJ6ICp0ZXJuYXJ5N19mYWxzZQoJZ2xvYmFsIEFzc2V0T3B0SW5NaW5CYWxhbmNlCgliICp0ZXJuYXJ5N19lbmQKCip0ZXJuYXJ5N19mYWxzZToKCWludCAwCgoqdGVybmFyeTdfZW5kOgoJZnJhbWVfYnVyeSAyIC8vIGFzc2V0TWJyOiB1aW50NjQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1MjgKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiBjYXJkRnVuZEFkZHIsCgkvLyAgICAgICAgICAgICBhbW91bnQ6IGdsb2JhbHMubWluQmFsYW5jZSArIGFzc2V0TWJyLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IHBheQoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjUyOQoJLy8gcmVjZWl2ZXI6IGNhcmRGdW5kQWRkcgoJZnJhbWVfZGlnIDEgLy8gY2FyZEZ1bmRBZGRyOiBhZGRyZXNzCglpdHhuX2ZpZWxkIFJlY2VpdmVyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTMwCgkvLyBhbW91bnQ6IGdsb2JhbHMubWluQmFsYW5jZSArIGFzc2V0TWJyCglnbG9iYWwgTWluQmFsYW5jZQoJZnJhbWVfZGlnIDIgLy8gYXNzZXRNYnI6IHVpbnQ2NAoJKwoJaXR4bl9maWVsZCBBbW91bnQKCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CgoJLy8gKmlmMF9jb25kaXRpb24KCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjUzNAoJLy8gYXNzZXQKCWZyYW1lX2RpZyAtMyAvLyBhc3NldDogQXNzZXRJRAoJYnogKmlmMF9lbmQKCgkvLyAqaWYwX2NvbnNlcXVlbnQKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjUzNQoJLy8gdGhpcy5jYXJkRnVuZEFzc2V0T3B0SW4oY2FyZEZ1bmRBZGRyLCBhc3NldCkKCWZyYW1lX2RpZyAtMyAvLyBhc3NldDogQXNzZXRJRAoJZnJhbWVfZGlnIDEgLy8gY2FyZEZ1bmRBZGRyOiBhZGRyZXNzCgljYWxsc3ViIGNhcmRGdW5kQXNzZXRPcHRJbgoKKmlmMF9lbmQ6CgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1MzkKCS8vIHRoaXMuY2FyZF9mdW5kcyhjYXJkRnVuZEFkZHIpLnZhbHVlID0gY2FyZEZ1bmREYXRhCglieXRlIDB4NjM2NiAvLyAiY2YiCglmcmFtZV9kaWcgMSAvLyBjYXJkRnVuZEFkZHI6IGFkZHJlc3MKCWNvbmNhdAoJZnJhbWVfZGlnIDAgLy8gY2FyZEZ1bmREYXRhOiBDYXJkRnVuZERhdGEKCWJveF9wdXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1NDIKCS8vIHRoaXMuY2FyZF9mdW5kc19hY3RpdmVfY291bnQudmFsdWUgPSB0aGlzLmNhcmRfZnVuZHNfYWN0aXZlX2NvdW50LnZhbHVlICsgMQoJYnl0ZSAweDYzNjY2MTYzIC8vICJjZmFjIgoJZHVwCglhcHBfZ2xvYmFsX2dldAoJaW50IDEKCSsKCWFwcF9nbG9iYWxfcHV0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTQ0CgkvLyB0aGlzLkNhcmRGdW5kQ3JlYXRlZC5sb2coewoJLy8gICAgICAgICAgICAgY2FyZEZ1bmRPd25lcjogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgICAgICAgY2FyZEZ1bmQ6IGNhcmRGdW5kQWRkciwKCS8vICAgICAgICAgICAgIHBhcnRuZXJDaGFubmVsOiBwYXJ0bmVyQ2hhbm5lbCwKCS8vICAgICAgICAgfSkKCWJ5dGUgMHhiNDg5NWU0NyAvLyBDYXJkRnVuZENyZWF0ZWQoYWRkcmVzcyxhZGRyZXNzLGFkZHJlc3MpCgl0eG4gU2VuZGVyCglmcmFtZV9kaWcgMSAvLyBjYXJkRnVuZEFkZHI6IGFkZHJlc3MKCWNvbmNhdAoJZnJhbWVfZGlnIC0yIC8vIHBhcnRuZXJDaGFubmVsOiBBZGRyZXNzCgljb25jYXQKCWNvbmNhdAoJbG9nCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTUxCgkvLyByZXR1cm4gY2FyZEZ1bmRBZGRyOwoJZnJhbWVfZGlnIDEgLy8gY2FyZEZ1bmRBZGRyOiBhZGRyZXNzCgoJLy8gc2V0IHRoZSBzdWJyb3V0aW5lIHJldHVybiB2YWx1ZQoJZnJhbWVfYnVyeSAwCgoJLy8gcG9wIGFsbCBsb2NhbCB2YXJpYWJsZXMgZnJvbSB0aGUgc3RhY2sKCXBvcG4gMgoJcmV0c3ViCgovLyBjYXJkRnVuZENsb3NlKGFkZHJlc3Mpdm9pZAoqYWJpX3JvdXRlX2NhcmRGdW5kQ2xvc2U6CgkvLyBjYXJkRnVuZDogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAwIChjYXJkRnVuZCkgZm9yIGNhcmRGdW5kQ2xvc2UgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGV4ZWN1dGUgY2FyZEZ1bmRDbG9zZShhZGRyZXNzKXZvaWQKCWNhbGxzdWIgY2FyZEZ1bmRDbG9zZQoJaW50IDEKCXJldHVybgoKLy8gY2FyZEZ1bmRDbG9zZShjYXJkRnVuZDogQWRkcmVzcyk6IHZvaWQKLy8KLy8gQ2xvc2UgYWNjb3VudC4gVGhpcyBwZXJtYW5lbnRseSByZW1vdmVzIHRoZSByZWtleSBhbmQgZGVsZXRlcyB0aGUgYWNjb3VudCBmcm9tIHRoZSBsZWRnZXIKLy8gQHBhcmFtIGNhcmRGdW5kIEFkZHJlc3MgdG8gY2xvc2UKY2FyZEZ1bmRDbG9zZToKCXByb3RvIDEgMAoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CglkdXAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1NTkKCS8vIGFzc2VydCh0aGlzLmlzT3duZXIoKSB8fCB0aGlzLmlzQ2FyZEZ1bmRPd25lcihjYXJkRnVuZCksICdTRU5ERVJfTk9UX0FMTE9XRUQnKQoJY2FsbHN1YiBpc093bmVyCglkdXAKCWJueiAqc2tpcF9vcjAKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJY2FsbHN1YiBpc0NhcmRGdW5kT3duZXIKCXx8Cgoqc2tpcF9vcjA6CgkvLyBTRU5ERVJfTk9UX0FMTE9XRUQKCWFzc2VydAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjU2MQoJLy8gc2VuZFBheW1lbnQoewoJLy8gICAgICAgICAgICAgc2VuZGVyOiBjYXJkRnVuZCwKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiBjYXJkRnVuZCwKCS8vICAgICAgICAgICAgIGFtb3VudDogMCwKCS8vICAgICAgICAgICAgIGNsb3NlUmVtYWluZGVyVG86IHRoaXMudHhuLnNlbmRlciwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBwYXkKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1NjIKCS8vIHNlbmRlcjogY2FyZEZ1bmQKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1NjMKCS8vIHJlY2VpdmVyOiBjYXJkRnVuZAoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCglpdHhuX2ZpZWxkIFJlY2VpdmVyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTY0CgkvLyBhbW91bnQ6IDAKCWludCAwCglpdHhuX2ZpZWxkIEFtb3VudAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjU2NQoJLy8gY2xvc2VSZW1haW5kZXJUbzogdGhpcy50eG4uc2VuZGVyCgl0eG4gU2VuZGVyCglpdHhuX2ZpZWxkIENsb3NlUmVtYWluZGVyVG8KCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTY4CgkvLyBjYXJkRnVuZFNpemUgPSB0aGlzLmNhcmRfZnVuZHMoY2FyZEZ1bmQpLnNpemUKCWJ5dGUgMHg2MzY2IC8vICJjZiIKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJY29uY2F0Cglib3hfbGVuCgoJLy8gYm94IHZhbHVlIGRvZXMgbm90IGV4aXN0OiB0aGlzLmNhcmRfZnVuZHMoY2FyZEZ1bmQpLnNpemUKCWFzc2VydAoJZnJhbWVfYnVyeSAwIC8vIGNhcmRGdW5kU2l6ZTogdWludDY0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTY5CgkvLyBib3hDb3N0ID0gMjUwMCArIDQwMCAqICgxICsgMzIgKyBjYXJkRnVuZFNpemUpCglpbnQgMjUwMAoJaW50IDQwMAoJaW50IDMzCglmcmFtZV9kaWcgMCAvLyBjYXJkRnVuZFNpemU6IHVpbnQ2NAoJKwoJKgoJKwoJZnJhbWVfYnVyeSAxIC8vIGJveENvc3Q6IHVpbnQ2NAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjU3MQoJLy8gc2VuZFBheW1lbnQoewoJLy8gICAgICAgICAgICAgcmVjZWl2ZXI6IHRoaXMudHhuLnNlbmRlciwKCS8vICAgICAgICAgICAgIGFtb3VudDogYm94Q29zdCwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBwYXkKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1NzIKCS8vIHJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1NzMKCS8vIGFtb3VudDogYm94Q29zdAoJZnJhbWVfZGlnIDEgLy8gYm94Q29zdDogdWludDY0CglpdHhuX2ZpZWxkIEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo1NzcKCS8vIHRoaXMuY2FyZF9mdW5kcyhjYXJkRnVuZCkuZGVsZXRlKCkKCWJ5dGUgMHg2MzY2IC8vICJjZiIKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJY29uY2F0Cglib3hfZGVsCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTgwCgkvLyB0aGlzLmNhcmRfZnVuZHNfYWN0aXZlX2NvdW50LnZhbHVlID0gdGhpcy5jYXJkX2Z1bmRzX2FjdGl2ZV9jb3VudC52YWx1ZSAtIDEKCWJ5dGUgMHg2MzY2NjE2MyAvLyAiY2ZhYyIKCWR1cAoJYXBwX2dsb2JhbF9nZXQKCWludCAxCgktCglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBjYXJkRnVuZFJlY292ZXIoYWRkcmVzcyxhZGRyZXNzKXZvaWQKKmFiaV9yb3V0ZV9jYXJkRnVuZFJlY292ZXI6CgkvLyBuZXdDYXJkRnVuZEhvbGRlcjogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAwIChuZXdDYXJkRnVuZEhvbGRlcikgZm9yIGNhcmRGdW5kUmVjb3ZlciBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gY2FyZEZ1bmQ6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMSAoY2FyZEZ1bmQpIGZvciBjYXJkRnVuZFJlY292ZXIgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGV4ZWN1dGUgY2FyZEZ1bmRSZWNvdmVyKGFkZHJlc3MsYWRkcmVzcyl2b2lkCgljYWxsc3ViIGNhcmRGdW5kUmVjb3ZlcgoJaW50IDEKCXJldHVybgoKLy8gY2FyZEZ1bmRSZWNvdmVyKGNhcmRGdW5kOiBBZGRyZXNzLCBuZXdDYXJkRnVuZEhvbGRlcjogQWRkcmVzcyk6IHZvaWQKLy8KLy8gUmVjb3ZlcnMgZnVuZHMgZnJvbSBhbiBvbGQgY2FyZCBhbmQgdHJhbnNmZXJzIHRoZW0gdG8gYSBuZXcgY2FyZC4KLy8gT25seSB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IGNhbiBwZXJmb3JtIHRoaXMgb3BlcmF0aW9uLgovLwovLyBAcGFyYW0gY2FyZEZ1bmQgLSBUaGUgY2FyZCBmdW5kIHRvIHJlY292ZXIuCi8vIEBwYXJhbSBuZXdDYXJkRnVuZEhvbGRlciAtIFRoZSBhZGRyZXNzIG9mIHRoZSBuZXcgY2FyZCBob2xkZXIuCmNhcmRGdW5kUmVjb3ZlcjoKCXByb3RvIDIgMAoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NTkxCgkvLyB0aGlzLm9ubHlPd25lcigpCgljYWxsc3ViIG9ubHlPd25lcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjU5NAoJLy8gb2xkQ2FyZEZ1bmRIb2xkZXIgPSB0aGlzLmNhcmRfZnVuZHMoY2FyZEZ1bmQpLnZhbHVlLm93bmVyCglpbnQgMzIgLy8gaGVhZE9mZnNldAoJaW50IDMyCglieXRlIDB4NjM2NiAvLyAiY2YiCglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWNvbmNhdAoJY292ZXIgMgoJYm94X2V4dHJhY3QKCWZyYW1lX2J1cnkgMCAvLyBvbGRDYXJkRnVuZEhvbGRlcjogYWRkcmVzcwoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjU5NQoJLy8gdGhpcy5jYXJkX2Z1bmRzKGNhcmRGdW5kKS52YWx1ZS5vd25lciA9IG5ld0NhcmRGdW5kSG9sZGVyCglpbnQgMzIgLy8gaGVhZE9mZnNldAoJZnJhbWVfZGlnIC0yIC8vIG5ld0NhcmRGdW5kSG9sZGVyOiBBZGRyZXNzCglieXRlIDB4NjM2NiAvLyAiY2YiCglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWNvbmNhdAoJY292ZXIgMgoJYm94X3JlcGxhY2UKCXJldHN1YgoKLy8gZ2V0QXNzZXRBbGxvd2xpc3RNYnIoKXVpbnQ2NAoqYWJpX3JvdXRlX2dldEFzc2V0QWxsb3dsaXN0TWJyOgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyBleGVjdXRlIGdldEFzc2V0QWxsb3dsaXN0TWJyKCl1aW50NjQKCWNhbGxzdWIgZ2V0QXNzZXRBbGxvd2xpc3RNYnIKCWl0b2IKCWNvbmNhdAoJbG9nCglpbnQgMQoJcmV0dXJuCgovLyBnZXRBc3NldEFsbG93bGlzdE1icigpOiB1aW50NjQKLy8KLy8gUmV0cmlldmVzIHRoZSBtaW5pbXVtIGJhbGFuY2UgcmVxdWlyZW1lbnQgZm9yIGFkZGluZyBhbiBhc3NldCB0byB0aGUgYWxsb3dsaXN0LgovLyBAcmV0dXJucyBNaW5pbXVtIGJhbGFuY2UgcmVxdWlyZW1lbnQgZm9yIGFkZGluZyBhbiBhc3NldCB0byB0aGUgYWxsb3dsaXN0CmdldEFzc2V0QWxsb3dsaXN0TWJyOgoJcHJvdG8gMCAxCgoJLy8gUHVzaCBlbXB0eSBieXRlcyBhZnRlciB0aGUgZnJhbWUgcG9pbnRlciB0byByZXNlcnZlIHNwYWNlIGZvciBsb2NhbCB2YXJpYWJsZXMKCWJ5dGUgMHgKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2MDYKCS8vIEFTU0VUX1NFVFRMRU1FTlRfQUREUkVTU19DT1NUID0gMjUwMCArIDQwMCAqICgyICsgOCArIDMyKQoJaW50IDE5MzAwCglmcmFtZV9idXJ5IDAgLy8gQVNTRVRfU0VUVExFTUVOVF9BRERSRVNTX0NPU1Q6IHVpbnQ2NAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjYwNwoJLy8gcmV0dXJuIGdsb2JhbHMuYXNzZXRPcHRJbk1pbkJhbGFuY2UgKyBBU1NFVF9TRVRUTEVNRU5UX0FERFJFU1NfQ09TVDsKCWdsb2JhbCBBc3NldE9wdEluTWluQmFsYW5jZQoJZnJhbWVfZGlnIDAgLy8gQVNTRVRfU0VUVExFTUVOVF9BRERSRVNTX0NPU1Q6IHVpbnQ2NAoJKwoKCS8vIHNldCB0aGUgc3Vicm91dGluZSByZXR1cm4gdmFsdWUKCWZyYW1lX2J1cnkgMAoJcmV0c3ViCgovLyBhc3NldEFsbG93bGlzdEFkZChwYXksdWludDY0LGFkZHJlc3Mpdm9pZAoqYWJpX3JvdXRlX2Fzc2V0QWxsb3dsaXN0QWRkOgoJLy8gc2V0dGxlbWVudEFkZHJlc3M6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMCAoc2V0dGxlbWVudEFkZHJlc3MpIGZvciBhc3NldEFsbG93bGlzdEFkZCBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gYXNzZXQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoKCS8vIG1icjogcGF5Cgl0eG4gR3JvdXBJbmRleAoJaW50IDEKCS0KCWR1cAoJZ3R4bnMgVHlwZUVudW0KCWludCBwYXkKCT09CgoJLy8gYXJndW1lbnQgMiAobWJyKSBmb3IgYXNzZXRBbGxvd2xpc3RBZGQgbXVzdCBiZSBhIHBheSB0cmFuc2FjdGlvbgoJYXNzZXJ0CgoJLy8gZXhlY3V0ZSBhc3NldEFsbG93bGlzdEFkZChwYXksdWludDY0LGFkZHJlc3Mpdm9pZAoJY2FsbHN1YiBhc3NldEFsbG93bGlzdEFkZAoJaW50IDEKCXJldHVybgoKLy8gYXNzZXRBbGxvd2xpc3RBZGQobWJyOiBQYXlUeG4sIGFzc2V0OiBBc3NldElELCBzZXR0bGVtZW50QWRkcmVzczogQWRkcmVzcyk6IHZvaWQKLy8KLy8gQWxsb3dzIHRoZSBtYXN0ZXIgY29udHJhY3QgdG8gZmxhZyBpbnRlbnQgb2YgYWNjZXB0aW5nIGFuIGFzc2V0LgovLwovLyBAcGFyYW0gbWJyIFBheW1lbnQgdHJhbnNhY3Rpb24gb2YgbWluaW11bSBiYWxhbmNlIHJlcXVpcmVtZW50LgovLyBAcGFyYW0gYXNzZXQgVGhlIEFzc2V0SUQgb2YgdGhlIGFzc2V0IGJlaW5nIHRyYW5zZmVycmVkLgphc3NldEFsbG93bGlzdEFkZDoKCXByb3RvIDMgMAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjYxNwoJLy8gdGhpcy5vbmx5T3duZXIoKQoJY2FsbHN1YiBvbmx5T3duZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2MTkKCS8vIHZlcmlmeVBheVR4bihtYnIsIHsKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiB0aGlzLmFwcC5hZGRyZXNzLAoJLy8gICAgICAgICAgICAgYW1vdW50OiB0aGlzLmdldEFzc2V0QWxsb3dsaXN0TWJyKCksCgkvLyAgICAgICAgIH0pCgkvLyB2ZXJpZnkgcmVjZWl2ZXIKCWZyYW1lX2RpZyAtMSAvLyBtYnI6IFBheVR4bgoJZ3R4bnMgUmVjZWl2ZXIKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCgk9PQoKCS8vIHRyYW5zYWN0aW9uIHZlcmlmaWNhdGlvbiBmYWlsZWQ6IHsidHhuIjoibWJyIiwiZmllbGQiOiJyZWNlaXZlciIsImV4cGVjdGVkIjoidGhpcy5hcHAuYWRkcmVzcyJ9Cglhc3NlcnQKCgkvLyB2ZXJpZnkgYW1vdW50CglmcmFtZV9kaWcgLTEgLy8gbWJyOiBQYXlUeG4KCWd0eG5zIEFtb3VudAoJY2FsbHN1YiBnZXRBc3NldEFsbG93bGlzdE1icgoJPT0KCgkvLyB0cmFuc2FjdGlvbiB2ZXJpZmljYXRpb24gZmFpbGVkOiB7InR4biI6Im1iciIsImZpZWxkIjoiYW1vdW50IiwiZXhwZWN0ZWQiOiJ0aGlzLmdldEFzc2V0QWxsb3dsaXN0TWJyKCkifQoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjI0CgkvLyBzZW5kQXNzZXRUcmFuc2Zlcih7CgkvLyAgICAgICAgICAgICBzZW5kZXI6IHRoaXMuYXBwLmFkZHJlc3MsCgkvLyAgICAgICAgICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLmFwcC5hZGRyZXNzLAoJLy8gICAgICAgICAgICAgeGZlckFzc2V0OiBhc3NldCwKCS8vICAgICAgICAgICAgIGFzc2V0QW1vdW50OiAwLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGF4ZmVyCglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjI1CgkvLyBzZW5kZXI6IHRoaXMuYXBwLmFkZHJlc3MKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCglpdHhuX2ZpZWxkIFNlbmRlcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjYyNgoJLy8gYXNzZXRSZWNlaXZlcjogdGhpcy5hcHAuYWRkcmVzcwoJZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKCWl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjYyNwoJLy8geGZlckFzc2V0OiBhc3NldAoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjYyOAoJLy8gYXNzZXRBbW91bnQ6IDAKCWludCAwCglpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjYzMQoJLy8gdGhpcy5Bc3NldEFsbG93bGlzdEFkZGVkLmxvZyh7IGFzc2V0OiBhc3NldCB9KQoJYnl0ZSAweDI2MzZiYzdlIC8vIEFzc2V0QWxsb3dsaXN0QWRkZWQodWludDY0KQoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglpdG9iCgljb25jYXQKCWxvZwoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjYzMwoJLy8gdGhpcy51cGRhdGVTZXR0bGVtZW50QWRkcmVzcyhhc3NldCwgc2V0dGxlbWVudEFkZHJlc3MpCglmcmFtZV9kaWcgLTMgLy8gc2V0dGxlbWVudEFkZHJlc3M6IEFkZHJlc3MKCWZyYW1lX2RpZyAtMiAvLyBhc3NldDogQXNzZXRJRAoJY2FsbHN1YiB1cGRhdGVTZXR0bGVtZW50QWRkcmVzcwoJcmV0c3ViCgovLyBhc3NldEFsbG93bGlzdFJlbW92ZSh1aW50NjQpdm9pZAoqYWJpX3JvdXRlX2Fzc2V0QWxsb3dsaXN0UmVtb3ZlOgoJLy8gYXNzZXQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoKCS8vIGV4ZWN1dGUgYXNzZXRBbGxvd2xpc3RSZW1vdmUodWludDY0KXZvaWQKCWNhbGxzdWIgYXNzZXRBbGxvd2xpc3RSZW1vdmUKCWludCAxCglyZXR1cm4KCi8vIGFzc2V0QWxsb3dsaXN0UmVtb3ZlKGFzc2V0OiBBc3NldElEKTogdm9pZAovLwovLyBBbGxvd3MgdGhlIG1hc3RlciBjb250cmFjdCB0byByZWplY3QgYWNjZXB0aW5nIGFuIGFzc2V0LgovLwovLyBAcGFyYW0gYXNzZXQgLSBUaGUgQXNzZXRJRCBvZiB0aGUgYXNzZXQgYmVpbmcgdHJhbnNmZXJyZWQuCmFzc2V0QWxsb3dsaXN0UmVtb3ZlOgoJcHJvdG8gMSAwCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjQyCgkvLyB0aGlzLm9ubHlPd25lcigpCgljYWxsc3ViIG9ubHlPd25lcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjY0NQoJLy8gc2VuZEFzc2V0VHJhbnNmZXIoewoJLy8gICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmFwcC5hZGRyZXNzLAoJLy8gICAgICAgICAgICAgYXNzZXRSZWNlaXZlcjogdGhpcy5hcHAuYWRkcmVzcywKCS8vICAgICAgICAgICAgIGFzc2V0Q2xvc2VUbzogdGhpcy5hcHAuYWRkcmVzcywKCS8vICAgICAgICAgICAgIHhmZXJBc3NldDogYXNzZXQsCgkvLyAgICAgICAgICAgICBhc3NldEFtb3VudDogMCwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjY0NgoJLy8gc2VuZGVyOiB0aGlzLmFwcC5hZGRyZXNzCglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2NDcKCS8vIGFzc2V0UmVjZWl2ZXI6IHRoaXMuYXBwLmFkZHJlc3MKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCglpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2NDgKCS8vIGFzc2V0Q2xvc2VUbzogdGhpcy5hcHAuYWRkcmVzcwoJZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKCWl0eG5fZmllbGQgQXNzZXRDbG9zZVRvCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjQ5CgkvLyB4ZmVyQXNzZXQ6IGFzc2V0CglmcmFtZV9kaWcgLTEgLy8gYXNzZXQ6IEFzc2V0SUQKCWl0eG5fZmllbGQgWGZlckFzc2V0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjUwCgkvLyBhc3NldEFtb3VudDogMAoJaW50IDAKCWl0eG5fZmllbGQgQXNzZXRBbW91bnQKCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjU0CgkvLyB0aGlzLnNldHRsZW1lbnRfYWRkcmVzcyhhc3NldCkuZGVsZXRlKCkKCWJ5dGUgMHg3MzYxIC8vICJzYSIKCWZyYW1lX2RpZyAtMSAvLyBhc3NldDogQXNzZXRJRAoJaXRvYgoJY29uY2F0Cglib3hfZGVsCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjU2CgkvLyBzZW5kUGF5bWVudCh7CgkvLyAgICAgICAgICAgICByZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgICAgICAgYW1vdW50OiB0aGlzLmdldEFzc2V0QWxsb3dsaXN0TWJyKCksCgkvLyAgICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgcGF5CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjU3CgkvLyByZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyCgl0eG4gU2VuZGVyCglpdHhuX2ZpZWxkIFJlY2VpdmVyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjU4CgkvLyBhbW91bnQ6IHRoaXMuZ2V0QXNzZXRBbGxvd2xpc3RNYnIoKQoJY2FsbHN1YiBnZXRBc3NldEFsbG93bGlzdE1icgoJaXR4bl9maWVsZCBBbW91bnQKCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjYxCgkvLyB0aGlzLkFzc2V0QWxsb3dsaXN0UmVtb3ZlZC5sb2coeyBhc3NldDogYXNzZXQgfSkKCWJ5dGUgMHgwNjVjMDM3NCAvLyBBc3NldEFsbG93bGlzdFJlbW92ZWQodWludDY0KQoJZnJhbWVfZGlnIC0xIC8vIGFzc2V0OiBBc3NldElECglpdG9iCgljb25jYXQKCWxvZwoJcmV0c3ViCgovLyBjYXJkRnVuZERlYml0KGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQsc3RyaW5nKXZvaWQKKmFiaV9yb3V0ZV9jYXJkRnVuZERlYml0OgoJLy8gcmVmOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDUKCWV4dHJhY3QgMiAwCgoJLy8gbm9uY2U6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAoJYnRvaQoKCS8vIGFtb3VudDogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAzCglidG9pCgoJLy8gYXNzZXQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJYnRvaQoKCS8vIGNhcmRGdW5kOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDQgKGNhcmRGdW5kKSBmb3IgY2FyZEZ1bmREZWJpdCBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gZXhlY3V0ZSBjYXJkRnVuZERlYml0KGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQsc3RyaW5nKXZvaWQKCWNhbGxzdWIgY2FyZEZ1bmREZWJpdAoJaW50IDEKCXJldHVybgoKLy8gY2FyZEZ1bmREZWJpdChjYXJkRnVuZDogQWRkcmVzcywgYXNzZXQ6IEFzc2V0SUQsIGFtb3VudDogdWludDY0LCBub25jZTogdWludDY0LCByZWY6IHN0cmluZyk6IHZvaWQKLy8KLy8gRGViaXRzIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRoZSBnaXZlbiBhc3NldCBmcm9tIHRoZSBjYXJkIGFjY291bnQuCi8vIE9ubHkgdGhlIG93bmVyIG9mIHRoZSBjb250cmFjdCBjYW4gcGVyZm9ybSB0aGlzIG9wZXJhdGlvbi4KLy8KLy8gQHBhcmFtIGNhcmRGdW5kIFRoZSBjYXJkIGZ1bmQgZnJvbSB3aGljaCB0aGUgYXNzZXQgd2lsbCBiZSBkZWJpdGVkLgovLyBAcGFyYW0gYXNzZXQgVGhlIGFzc2V0IHRvIGJlIGRlYml0ZWQuCi8vIEBwYXJhbSBhbW91bnQgVGhlIGFtb3VudCBvZiB0aGUgYXNzZXQgdG8gYmUgZGViaXRlZC4KY2FyZEZ1bmREZWJpdDoKCXByb3RvIDUgMAoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NjczCgkvLyB0aGlzLndoZW5Ob3RQYXVzZWQoKQoJY2FsbHN1YiB3aGVuTm90UGF1c2VkCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Njc0CgkvLyB0aGlzLm9ubHlPd25lcigpCgljYWxsc3ViIG9ubHlPd25lcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjY3NwoJLy8gbmV4dE5vbmNlID0gdGhpcy5jYXJkX2Z1bmRzKGNhcmRGdW5kKS52YWx1ZS5ub25jZQoJaW50IDk2IC8vIGhlYWRPZmZzZXQKCWludCA4CglieXRlIDB4NjM2NiAvLyAiY2YiCglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWNvbmNhdAoJY292ZXIgMgoJYm94X2V4dHJhY3QKCWJ0b2kKCWZyYW1lX2J1cnkgMCAvLyBuZXh0Tm9uY2U6IHVpbnQ2NAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjY3OAoJLy8gYXNzZXJ0KG5leHROb25jZSA9PT0gbm9uY2UsICdOT05DRV9JTlZBTElEJykKCWZyYW1lX2RpZyAwIC8vIG5leHROb25jZTogdWludDY0CglmcmFtZV9kaWcgLTQgLy8gbm9uY2U6IHVpbnQ2NAoJPT0KCgkvLyBOT05DRV9JTlZBTElECglhc3NlcnQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2ODAKCS8vIHNlbmRBc3NldFRyYW5zZmVyKHsKCS8vICAgICAgICAgICAgIHNlbmRlcjogY2FyZEZ1bmQsCgkvLyAgICAgICAgICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLmFwcC5hZGRyZXNzLAoJLy8gICAgICAgICAgICAgeGZlckFzc2V0OiBhc3NldCwKCS8vICAgICAgICAgICAgIGFzc2V0QW1vdW50OiBhbW91bnQsCgkvLyAgICAgICAgICAgICBub3RlOiByZWYsCgkvLyAgICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYXhmZXIKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2ODEKCS8vIHNlbmRlcjogY2FyZEZ1bmQKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2ODIKCS8vIGFzc2V0UmVjZWl2ZXI6IHRoaXMuYXBwLmFkZHJlc3MKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCglpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2ODMKCS8vIHhmZXJBc3NldDogYXNzZXQKCWZyYW1lX2RpZyAtMiAvLyBhc3NldDogQXNzZXRJRAoJaXR4bl9maWVsZCBYZmVyQXNzZXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2ODQKCS8vIGFzc2V0QW1vdW50OiBhbW91bnQKCWZyYW1lX2RpZyAtMyAvLyBhbW91bnQ6IHVpbnQ2NAoJaXR4bl9maWVsZCBBc3NldEFtb3VudAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjY4NQoJLy8gbm90ZTogcmVmCglmcmFtZV9kaWcgLTUgLy8gcmVmOiBzdHJpbmcKCWl0eG5fZmllbGQgTm90ZQoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo2ODgKCS8vIHRoaXMuRGViaXQubG9nKHsKCS8vICAgICAgICAgICAgIGNhcmQ6IGNhcmRGdW5kLAoJLy8gICAgICAgICAgICAgYXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCgkvLyAgICAgICAgICAgICBub25jZTogbm9uY2UsCgkvLyAgICAgICAgICAgICByZWZlcmVuY2U6IHJlZiwKCS8vICAgICAgICAgfSkKCWJ5dGUgMHg5OTRhMTM2NyAvLyBEZWJpdChhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDY0LHN0cmluZykKCWJ5dGUgMHggLy8gaW5pdGlhbCBoZWFkCglieXRlIDB4IC8vIGluaXRpYWwgdGFpbAoJYnl0ZSAweDAwM2EgLy8gaW5pdGlhbCBoZWFkIG9mZnNldAoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCgljYWxsc3ViICpwcm9jZXNzX3N0YXRpY190dXBsZV9lbGVtZW50CglmcmFtZV9kaWcgLTIgLy8gYXNzZXQ6IEFzc2V0SUQKCWl0b2IKCWNhbGxzdWIgKnByb2Nlc3Nfc3RhdGljX3R1cGxlX2VsZW1lbnQKCWZyYW1lX2RpZyAtMyAvLyBhbW91bnQ6IHVpbnQ2NAoJaXRvYgoJY2FsbHN1YiAqcHJvY2Vzc19zdGF0aWNfdHVwbGVfZWxlbWVudAoJZnJhbWVfZGlnIC00IC8vIG5vbmNlOiB1aW50NjQKCWl0b2IKCWNhbGxzdWIgKnByb2Nlc3Nfc3RhdGljX3R1cGxlX2VsZW1lbnQKCWZyYW1lX2RpZyAtNSAvLyByZWY6IHN0cmluZwoJZHVwCglsZW4KCWl0b2IKCWV4dHJhY3QgNiAyCglzd2FwCgljb25jYXQKCWNhbGxzdWIgKnByb2Nlc3NfZHluYW1pY190dXBsZV9lbGVtZW50Cglwb3AgLy8gcG9wIGhlYWQgb2Zmc2V0Cgljb25jYXQgLy8gY29uY2F0IGhlYWQgYW5kIHRhaWwKCWNvbmNhdAoJbG9nCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Njk3CgkvLyB0aGlzLmNhcmRfZnVuZHMoY2FyZEZ1bmQpLnZhbHVlLm5vbmNlID0gbmV4dE5vbmNlICsgMQoJaW50IDk2IC8vIGhlYWRPZmZzZXQKCWZyYW1lX2RpZyAwIC8vIG5leHROb25jZTogdWludDY0CglpbnQgMQoJKwoJaXRvYgoJYnl0ZSAweDYzNjYgLy8gImNmIgoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCgljb25jYXQKCWNvdmVyIDIKCWJveF9yZXBsYWNlCglyZXRzdWIKCi8vIGdldFJlZnVuZEFkZHJlc3MoKWFkZHJlc3MKKmFiaV9yb3V0ZV9nZXRSZWZ1bmRBZGRyZXNzOgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyBleGVjdXRlIGdldFJlZnVuZEFkZHJlc3MoKWFkZHJlc3MKCWNhbGxzdWIgZ2V0UmVmdW5kQWRkcmVzcwoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIGdldFJlZnVuZEFkZHJlc3MoKTogQWRkcmVzcwovLwovLyBSZXRyaWV2ZXMgdGhlIHJlZnVuZCBhZGRyZXNzLgovLwovLyBAcmV0dXJucyBUaGUgcmVmdW5kIGFkZHJlc3MuCmdldFJlZnVuZEFkZHJlc3M6Cglwcm90byAwIDEKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo3MDcKCS8vIHJldHVybiB0aGlzLnJlZnVuZF9hZGRyZXNzLnZhbHVlOwoJYnl0ZSAweDcyNjEgLy8gInJhIgoJYXBwX2dsb2JhbF9nZXQKCXJldHN1YgoKLy8gc2V0UmVmdW5kQWRkcmVzcyhhZGRyZXNzKXZvaWQKKmFiaV9yb3V0ZV9zZXRSZWZ1bmRBZGRyZXNzOgoJLy8gbmV3UmVmdW5kQWRkcmVzczogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAwIChuZXdSZWZ1bmRBZGRyZXNzKSBmb3Igc2V0UmVmdW5kQWRkcmVzcyBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gZXhlY3V0ZSBzZXRSZWZ1bmRBZGRyZXNzKGFkZHJlc3Mpdm9pZAoJY2FsbHN1YiBzZXRSZWZ1bmRBZGRyZXNzCglpbnQgMQoJcmV0dXJuCgovLyBzZXRSZWZ1bmRBZGRyZXNzKG5ld1JlZnVuZEFkZHJlc3M6IEFkZHJlc3MpOiB2b2lkCi8vCi8vIFNldHMgdGhlIHJlZnVuZCBhZGRyZXNzLgovLyBPbmx5IHRoZSBvd25lciBvZiB0aGUgY29udHJhY3QgY2FuIGNhbGwgdGhpcyBtZXRob2QuCi8vCi8vIEBwYXJhbSBuZXdSZWZ1bmRBZGRyZXNzIFRoZSBuZXcgcmVmdW5kIGFkZHJlc3MgdG8gYmUgc2V0LgpzZXRSZWZ1bmRBZGRyZXNzOgoJcHJvdG8gMSAwCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NzE3CgkvLyB0aGlzLm9ubHlPd25lcigpCgljYWxsc3ViIG9ubHlPd25lcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjcxOQoJLy8gdGhpcy5yZWZ1bmRfYWRkcmVzcy52YWx1ZSA9IG5ld1JlZnVuZEFkZHJlc3MKCWJ5dGUgMHg3MjYxIC8vICJyYSIKCWZyYW1lX2RpZyAtMSAvLyBuZXdSZWZ1bmRBZGRyZXNzOiBBZGRyZXNzCglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBjYXJkRnVuZFJlZnVuZChhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQKKmFiaV9yb3V0ZV9jYXJkRnVuZFJlZnVuZDoKCS8vIG5vbmNlOiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDQKCWJ0b2kKCgkvLyBhbW91bnQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwoJYnRvaQoKCS8vIGFzc2V0OiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWJ0b2kKCgkvLyBjYXJkRnVuZDogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAzIChjYXJkRnVuZCkgZm9yIGNhcmRGdW5kUmVmdW5kIG11c3QgYmUgYSBhZGRyZXNzCglhc3NlcnQKCgkvLyBleGVjdXRlIGNhcmRGdW5kUmVmdW5kKGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZAoJY2FsbHN1YiBjYXJkRnVuZFJlZnVuZAoJaW50IDEKCXJldHVybgoKLy8gY2FyZEZ1bmRSZWZ1bmQoY2FyZEZ1bmQ6IEFkZHJlc3MsIGFzc2V0OiBBc3NldElELCBhbW91bnQ6IHVpbnQ2NCwgbm9uY2U6IHVpbnQ2NCk6IHZvaWQKLy8KLy8gUmVmdW5kcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYW4gYXNzZXQgdG8gYSBjYXJkIGFjY291bnQuCi8vIE9ubHkgdGhlIG93bmVyIG9mIHRoZSBjb250cmFjdCBjYW4gcGVyZm9ybSB0aGlzIG9wZXJhdGlvbi4KLy8KLy8gQHBhcmFtIGNhcmRGdW5kIC0gVGhlIGNhcmQgYWNjb3VudCB0byByZWZ1bmQgdGhlIGFzc2V0IHRvLgovLyBAcGFyYW0gYXNzZXQgLSBUaGUgYXNzZXQgdG8gcmVmdW5kLgovLyBAcGFyYW0gYW1vdW50IC0gVGhlIGFtb3VudCBvZiB0aGUgYXNzZXQgdG8gcmVmdW5kLgpjYXJkRnVuZFJlZnVuZDoKCXByb3RvIDQgMAoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NzMxCgkvLyB0aGlzLndoZW5Ob3RQYXVzZWQoKQoJY2FsbHN1YiB3aGVuTm90UGF1c2VkCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NzMzCgkvLyBhc3NlcnQodGhpcy50eG4uc2VuZGVyID09PSB0aGlzLnJlZnVuZF9hZGRyZXNzLnZhbHVlLCAnU0VOREVSX05PVF9BTExPV0VEJykKCXR4biBTZW5kZXIKCWJ5dGUgMHg3MjYxIC8vICJyYSIKCWFwcF9nbG9iYWxfZ2V0Cgk9PQoKCS8vIFNFTkRFUl9OT1RfQUxMT1dFRAoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NzM2CgkvLyBuZXh0Tm9uY2UgPSB0aGlzLmNhcmRfZnVuZHMoY2FyZEZ1bmQpLnZhbHVlLm5vbmNlCglpbnQgOTYgLy8gaGVhZE9mZnNldAoJaW50IDgKCWJ5dGUgMHg2MzY2IC8vICJjZiIKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJY29uY2F0Cgljb3ZlciAyCglib3hfZXh0cmFjdAoJYnRvaQoJZnJhbWVfYnVyeSAwIC8vIG5leHROb25jZTogdWludDY0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6NzM3CgkvLyBhc3NlcnQobmV4dE5vbmNlID09PSBub25jZSwgJ05PTkNFX0lOVkFMSUQnKQoJZnJhbWVfZGlnIDAgLy8gbmV4dE5vbmNlOiB1aW50NjQKCWZyYW1lX2RpZyAtNCAvLyBub25jZTogdWludDY0Cgk9PQoKCS8vIE5PTkNFX0lOVkFMSUQKCWFzc2VydAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjczOQoJLy8gc2VuZEFzc2V0VHJhbnNmZXIoewoJLy8gICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmFwcC5hZGRyZXNzLAoJLy8gICAgICAgICAgICAgYXNzZXRSZWNlaXZlcjogY2FyZEZ1bmQsCgkvLyAgICAgICAgICAgICB4ZmVyQXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICAgICAgYXNzZXRBbW91bnQ6IGFtb3VudCwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjc0MAoJLy8gc2VuZGVyOiB0aGlzLmFwcC5hZGRyZXNzCglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo3NDEKCS8vIGFzc2V0UmVjZWl2ZXI6IGNhcmRGdW5kCglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjc0MgoJLy8geGZlckFzc2V0OiBhc3NldAoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjc0MwoJLy8gYXNzZXRBbW91bnQ6IGFtb3VudAoJZnJhbWVfZGlnIC0zIC8vIGFtb3VudDogdWludDY0CglpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjc0NgoJLy8gdGhpcy5SZWZ1bmQubG9nKHsKCS8vICAgICAgICAgICAgIGNhcmQ6IGNhcmRGdW5kLAoJLy8gICAgICAgICAgICAgYXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCgkvLyAgICAgICAgICAgICBub25jZTogbm9uY2UsCgkvLyAgICAgICAgIH0pCglieXRlIDB4ZTM3YWFlNWMgLy8gUmVmdW5kKGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQpCglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWZyYW1lX2RpZyAtMiAvLyBhc3NldDogQXNzZXRJRAoJaXRvYgoJY29uY2F0CglmcmFtZV9kaWcgLTMgLy8gYW1vdW50OiB1aW50NjQKCWl0b2IKCWNvbmNhdAoJZnJhbWVfZGlnIC00IC8vIG5vbmNlOiB1aW50NjQKCWl0b2IKCWNvbmNhdAoJY29uY2F0Cglsb2cKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo3NTQKCS8vIHRoaXMuY2FyZF9mdW5kcyhjYXJkRnVuZCkudmFsdWUubm9uY2UgPSBuZXh0Tm9uY2UgKyAxCglpbnQgOTYgLy8gaGVhZE9mZnNldAoJZnJhbWVfZGlnIDAgLy8gbmV4dE5vbmNlOiB1aW50NjQKCWludCAxCgkrCglpdG9iCglieXRlIDB4NjM2NiAvLyAiY2YiCglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWNvbmNhdAoJY292ZXIgMgoJYm94X3JlcGxhY2UKCXJldHN1YgoKLy8gZ2V0TmV4dFNldHRsZW1lbnROb25jZSgpdWludDY0CiphYmlfcm91dGVfZ2V0TmV4dFNldHRsZW1lbnROb25jZToKCS8vIFRoZSBBQkkgcmV0dXJuIHByZWZpeAoJYnl0ZSAweDE1MWY3Yzc1CgoJLy8gZXhlY3V0ZSBnZXROZXh0U2V0dGxlbWVudE5vbmNlKCl1aW50NjQKCWNhbGxzdWIgZ2V0TmV4dFNldHRsZW1lbnROb25jZQoJaXRvYgoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIGdldE5leHRTZXR0bGVtZW50Tm9uY2UoKTogdWludDY0Ci8vCi8vIFJldHJpZXZlcyB0aGUgbmV4dCBhdmFpbGFibGUgbm9uY2UgZm9yIHNldHRsZW1lbnRzLgovLwovLyBAcmV0dXJucyBUaGUgc2V0dGxlbWVudCBub25jZS4KZ2V0TmV4dFNldHRsZW1lbnROb25jZToKCXByb3RvIDAgMQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjc2NAoJLy8gcmV0dXJuIHRoaXMuc2V0dGxlbWVudF9ub25jZS52YWx1ZTsKCWJ5dGUgMHg3MzZlIC8vICJzbiIKCWFwcF9nbG9iYWxfZ2V0CglyZXRzdWIKCi8vIGdldE5leHRDYXJkRnVuZE5vbmNlKGFkZHJlc3MpdWludDY0CiphYmlfcm91dGVfZ2V0TmV4dENhcmRGdW5kTm9uY2U6CgkvLyBUaGUgQUJJIHJldHVybiBwcmVmaXgKCWJ5dGUgMHgxNTFmN2M3NQoKCS8vIGNhcmRGdW5kOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDAgKGNhcmRGdW5kKSBmb3IgZ2V0TmV4dENhcmRGdW5kTm9uY2UgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGV4ZWN1dGUgZ2V0TmV4dENhcmRGdW5kTm9uY2UoYWRkcmVzcyl1aW50NjQKCWNhbGxzdWIgZ2V0TmV4dENhcmRGdW5kTm9uY2UKCWl0b2IKCWNvbmNhdAoJbG9nCglpbnQgMQoJcmV0dXJuCgovLyBnZXROZXh0Q2FyZEZ1bmROb25jZShjYXJkRnVuZDogQWRkcmVzcyk6IHVpbnQ2NAovLwovLyBSZXRyaWV2ZXMgdGhlIG5leHQgYXZhaWxhYmxlIG5vbmNlIGZvciB0aGUgY2FyZCBmdW5kLgovLwovLyBAcGFyYW0gY2FyZEZ1bmQgVGhlIGNhcmQgZnVuZCBhZGRyZXNzLgovLyBAcmV0dXJucyBUaGUgbm9uY2UgZm9yIHRoZSBjYXJkIGZ1bmQuCmdldE5leHRDYXJkRnVuZE5vbmNlOgoJcHJvdG8gMSAxCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Nzc1CgkvLyByZXR1cm4gdGhpcy5jYXJkX2Z1bmRzKGNhcmRGdW5kKS52YWx1ZS5ub25jZTsKCWludCA5NiAvLyBoZWFkT2Zmc2V0CglpbnQgOAoJYnl0ZSAweDYzNjYgLy8gImNmIgoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCgljb25jYXQKCWNvdmVyIDIKCWJveF9leHRyYWN0CglidG9pCglyZXRzdWIKCi8vIGdldENhcmRGdW5kRGF0YShhZGRyZXNzKShhZGRyZXNzLGFkZHJlc3MsYWRkcmVzcyx1aW50NjQpCiphYmlfcm91dGVfZ2V0Q2FyZEZ1bmREYXRhOgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyBjYXJkRnVuZDogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAwIChjYXJkRnVuZCkgZm9yIGdldENhcmRGdW5kRGF0YSBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gZXhlY3V0ZSBnZXRDYXJkRnVuZERhdGEoYWRkcmVzcykoYWRkcmVzcyxhZGRyZXNzLGFkZHJlc3MsdWludDY0KQoJY2FsbHN1YiBnZXRDYXJkRnVuZERhdGEKCWNvbmNhdAoJbG9nCglpbnQgMQoJcmV0dXJuCgovLyBnZXRDYXJkRnVuZERhdGEoY2FyZEZ1bmQ6IEFkZHJlc3MpOiBDYXJkRnVuZERhdGEKLy8KLy8gUmV0cmlldmVzIHRoZSBjYXJkIGZ1bmQgZGF0YSBmb3IgYSBnaXZlbiBjYXJkIGZ1bmQgYWRkcmVzcy4KLy8KLy8gQHBhcmFtIGNhcmRGdW5kIFRoZSBhZGRyZXNzIG9mIHRoZSBjYXJkIGZ1bmQuCi8vIEByZXR1cm5zIFRoZSBjYXJkIGZ1bmQgZGF0YS4KZ2V0Q2FyZEZ1bmREYXRhOgoJcHJvdG8gMSAxCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Nzg2CgkvLyByZXR1cm4gdGhpcy5jYXJkX2Z1bmRzKGNhcmRGdW5kKS52YWx1ZTsKCWJ5dGUgMHg2MzY2IC8vICJjZiIKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJY29uY2F0Cglib3hfZ2V0CgoJLy8gYm94IHZhbHVlIGRvZXMgbm90IGV4aXN0OiB0aGlzLmNhcmRfZnVuZHMoY2FyZEZ1bmQpLnZhbHVlCglhc3NlcnQKCXJldHN1YgoKLy8gZ2V0U2V0dGxlbWVudEFkZHJlc3ModWludDY0KWFkZHJlc3MKKmFiaV9yb3V0ZV9nZXRTZXR0bGVtZW50QWRkcmVzczoKCS8vIFRoZSBBQkkgcmV0dXJuIHByZWZpeAoJYnl0ZSAweDE1MWY3Yzc1CgoJLy8gYXNzZXQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoKCS8vIGV4ZWN1dGUgZ2V0U2V0dGxlbWVudEFkZHJlc3ModWludDY0KWFkZHJlc3MKCWNhbGxzdWIgZ2V0U2V0dGxlbWVudEFkZHJlc3MKCWNvbmNhdAoJbG9nCglpbnQgMQoJcmV0dXJuCgovLyBnZXRTZXR0bGVtZW50QWRkcmVzcyhhc3NldDogQXNzZXRJRCk6IEFkZHJlc3MKLy8KLy8gUmV0cmlldmVzIHRoZSBzZXR0bGVtZW50IGFkZHJlc3MgZm9yIHRoZSBzcGVjaWZpZWQgYXNzZXQuCi8vCi8vIEBwYXJhbSBhc3NldCBUaGUgSUQgb2YgdGhlIGFzc2V0LgovLyBAcmV0dXJucyBUaGUgc2V0dGxlbWVudCBhZGRyZXNzIGZvciB0aGUgYXNzZXQuCmdldFNldHRsZW1lbnRBZGRyZXNzOgoJcHJvdG8gMSAxCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6Nzk3CgkvLyByZXR1cm4gdGhpcy5zZXR0bGVtZW50X2FkZHJlc3MoYXNzZXQpLnZhbHVlOwoJYnl0ZSAweDczNjEgLy8gInNhIgoJZnJhbWVfZGlnIC0xIC8vIGFzc2V0OiBBc3NldElECglpdG9iCgljb25jYXQKCWJveF9nZXQKCgkvLyBib3ggdmFsdWUgZG9lcyBub3QgZXhpc3Q6IHRoaXMuc2V0dGxlbWVudF9hZGRyZXNzKGFzc2V0KS52YWx1ZQoJYXNzZXJ0CglyZXRzdWIKCi8vIHNldFNldHRsZW1lbnRBZGRyZXNzKHVpbnQ2NCxhZGRyZXNzKXZvaWQKKmFiaV9yb3V0ZV9zZXRTZXR0bGVtZW50QWRkcmVzczoKCS8vIG5ld1NldHRsZW1lbnRBZGRyZXNzOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDAgKG5ld1NldHRsZW1lbnRBZGRyZXNzKSBmb3Igc2V0U2V0dGxlbWVudEFkZHJlc3MgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIHNldHRsZW1lbnRBc3NldDogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglidG9pCgoJLy8gZXhlY3V0ZSBzZXRTZXR0bGVtZW50QWRkcmVzcyh1aW50NjQsYWRkcmVzcyl2b2lkCgljYWxsc3ViIHNldFNldHRsZW1lbnRBZGRyZXNzCglpbnQgMQoJcmV0dXJuCgovLyBzZXRTZXR0bGVtZW50QWRkcmVzcyhzZXR0bGVtZW50QXNzZXQ6IEFzc2V0SUQsIG5ld1NldHRsZW1lbnRBZGRyZXNzOiBBZGRyZXNzKTogdm9pZAovLwovLyBTZXRzIHRoZSBzZXR0bGVtZW50IGFkZHJlc3MgZm9yIGEgZ2l2ZW4gc2V0dGxlbWVudCBhc3NldC4KLy8gT25seSB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IGNhbiBjYWxsIHRoaXMgbWV0aG9kLgovLwovLyBAcGFyYW0gc2V0dGxlbWVudEFzc2V0IFRoZSBJRCBvZiB0aGUgc2V0dGxlbWVudCBhc3NldC4KLy8gQHBhcmFtIG5ld1NldHRsZW1lbnRBZGRyZXNzIFRoZSBuZXcgc2V0dGxlbWVudCBhZGRyZXNzIHRvIGJlIHNldC4Kc2V0U2V0dGxlbWVudEFkZHJlc3M6Cglwcm90byAyIDAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4MDgKCS8vIHRoaXMub25seU93bmVyKCkKCWNhbGxzdWIgb25seU93bmVyCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6ODEwCgkvLyB0aGlzLnVwZGF0ZVNldHRsZW1lbnRBZGRyZXNzKHNldHRsZW1lbnRBc3NldCwgbmV3U2V0dGxlbWVudEFkZHJlc3MpCglmcmFtZV9kaWcgLTIgLy8gbmV3U2V0dGxlbWVudEFkZHJlc3M6IEFkZHJlc3MKCWZyYW1lX2RpZyAtMSAvLyBzZXR0bGVtZW50QXNzZXQ6IEFzc2V0SUQKCWNhbGxzdWIgdXBkYXRlU2V0dGxlbWVudEFkZHJlc3MKCXJldHN1YgoKLy8gc2V0dGxlKHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQKKmFiaV9yb3V0ZV9zZXR0bGU6CgkvLyBub25jZTogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAzCglidG9pCgoJLy8gYW1vdW50OiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWJ0b2kKCgkvLyBhc3NldDogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglidG9pCgoJLy8gZXhlY3V0ZSBzZXR0bGUodWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZAoJY2FsbHN1YiBzZXR0bGUKCWludCAxCglyZXR1cm4KCi8vIHNldHRsZShhc3NldDogQXNzZXRJRCwgYW1vdW50OiB1aW50NjQsIG5vbmNlOiB1aW50NjQpOiB2b2lkCi8vCi8vIFNldHRsZXMgYSBwYXltZW50IGJ5IHRyYW5zZmVycmluZyBhbiBhc3NldCB0byB0aGUgc3BlY2lmaWVkIHJlY2lwaWVudC4KLy8gT25seSB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IGNhbiBjYWxsIHRoaXMgZnVuY3Rpb24uCi8vCi8vIEBwYXJhbSBhc3NldCBUaGUgYXNzZXQgdG8gYmUgdHJhbnNmZXJyZWQuCi8vIEBwYXJhbSBhbW91bnQgVGhlIGFtb3VudCBvZiB0aGUgYXNzZXQgdG8gYmUgdHJhbnNmZXJyZWQuCi8vIEBwYXJhbSBub25jZSBUaGUgbm9uY2UgdG8gcHJldmVudCBkdXBsaWNhdGUgc2V0dGxlbWVudHMuCnNldHRsZToKCXByb3RvIDMgMAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjgyMgoJLy8gdGhpcy53aGVuTm90UGF1c2VkKCkKCWNhbGxzdWIgd2hlbk5vdFBhdXNlZAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjgyMwoJLy8gdGhpcy5vbmx5T3duZXIoKQoJY2FsbHN1YiBvbmx5T3duZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4MjYKCS8vIGFzc2VydCh0aGlzLnNldHRsZW1lbnRfbm9uY2UudmFsdWUgPT09IG5vbmNlLCAnTk9OQ0VfSU5WQUxJRCcpCglieXRlIDB4NzM2ZSAvLyAic24iCglhcHBfZ2xvYmFsX2dldAoJZnJhbWVfZGlnIC0zIC8vIG5vbmNlOiB1aW50NjQKCT09CgoJLy8gTk9OQ0VfSU5WQUxJRAoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6ODI4CgkvLyBzZW5kQXNzZXRUcmFuc2Zlcih7CgkvLyAgICAgICAgICAgICBzZW5kZXI6IHRoaXMuYXBwLmFkZHJlc3MsCgkvLyAgICAgICAgICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLnNldHRsZW1lbnRfYWRkcmVzcyhhc3NldCkudmFsdWUsCgkvLyAgICAgICAgICAgICB4ZmVyQXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICAgICAgYXNzZXRBbW91bnQ6IGFtb3VudCwKCS8vICAgICAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjgyOQoJLy8gc2VuZGVyOiB0aGlzLmFwcC5hZGRyZXNzCglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4MzAKCS8vIGFzc2V0UmVjZWl2ZXI6IHRoaXMuc2V0dGxlbWVudF9hZGRyZXNzKGFzc2V0KS52YWx1ZQoJYnl0ZSAweDczNjEgLy8gInNhIgoJZnJhbWVfZGlnIC0xIC8vIGFzc2V0OiBBc3NldElECglpdG9iCgljb25jYXQKCWJveF9nZXQKCgkvLyBib3ggdmFsdWUgZG9lcyBub3QgZXhpc3Q6IHRoaXMuc2V0dGxlbWVudF9hZGRyZXNzKGFzc2V0KS52YWx1ZQoJYXNzZXJ0CglpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4MzEKCS8vIHhmZXJBc3NldDogYXNzZXQKCWZyYW1lX2RpZyAtMSAvLyBhc3NldDogQXNzZXRJRAoJaXR4bl9maWVsZCBYZmVyQXNzZXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4MzIKCS8vIGFzc2V0QW1vdW50OiBhbW91bnQKCWZyYW1lX2RpZyAtMiAvLyBhbW91bnQ6IHVpbnQ2NAoJaXR4bl9maWVsZCBBc3NldEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4MzUKCS8vIHRoaXMuU2V0dGxlbWVudC5sb2coewoJLy8gICAgICAgICAgICAgcmVjaXBpZW50OiB0aGlzLnNldHRsZW1lbnRfYWRkcmVzcyhhc3NldCkudmFsdWUsCgkvLyAgICAgICAgICAgICBhc3NldDogYXNzZXQsCgkvLyAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKCS8vICAgICAgICAgICAgIG5vbmNlOiBub25jZSwKCS8vICAgICAgICAgfSkKCWJ5dGUgMHg1NTgwNDZlYyAvLyBTZXR0bGVtZW50KGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQpCglieXRlIDB4NzM2MSAvLyAic2EiCglmcmFtZV9kaWcgLTEgLy8gYXNzZXQ6IEFzc2V0SUQKCWl0b2IKCWNvbmNhdAoJYm94X2dldAoKCS8vIGJveCB2YWx1ZSBkb2VzIG5vdCBleGlzdDogdGhpcy5zZXR0bGVtZW50X2FkZHJlc3MoYXNzZXQpLnZhbHVlCglhc3NlcnQKCWZyYW1lX2RpZyAtMSAvLyBhc3NldDogQXNzZXRJRAoJaXRvYgoJY29uY2F0CglmcmFtZV9kaWcgLTIgLy8gYW1vdW50OiB1aW50NjQKCWl0b2IKCWNvbmNhdAoJZnJhbWVfZGlnIC0zIC8vIG5vbmNlOiB1aW50NjQKCWl0b2IKCWNvbmNhdAoJY29uY2F0Cglsb2cKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4NDMKCS8vIHRoaXMuc2V0dGxlbWVudF9ub25jZS52YWx1ZSA9IHRoaXMuc2V0dGxlbWVudF9ub25jZS52YWx1ZSArIDEKCWJ5dGUgMHg3MzZlIC8vICJzbiIKCWR1cAoJYXBwX2dsb2JhbF9nZXQKCWludCAxCgkrCglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBnZXRDYXJkRnVuZEFzc2V0TWJyKCl1aW50NjQKKmFiaV9yb3V0ZV9nZXRDYXJkRnVuZEFzc2V0TWJyOgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyBleGVjdXRlIGdldENhcmRGdW5kQXNzZXRNYnIoKXVpbnQ2NAoJY2FsbHN1YiBnZXRDYXJkRnVuZEFzc2V0TWJyCglpdG9iCgljb25jYXQKCWxvZwoJaW50IDEKCXJldHVybgoKLy8gZ2V0Q2FyZEZ1bmRBc3NldE1icigpOiB1aW50NjQKLy8KLy8gUmV0cmlldmVzIHRoZSBtaW5pbXVtIGJhbGFuY2UgcmVxdWlyZW1lbnQgZm9yIGFkZGluZyBhbiBhc3NldCB0byB0aGUgY2FyZCBmdW5kLgovLyBAcmV0dXJucyBUaGUgbWluaW11bSBiYWxhbmNlIHJlcXVpcmVtZW50IGZvciBhZGRpbmcgYW4gYXNzZXQgdG8gdGhlIGNhcmQgZnVuZC4KZ2V0Q2FyZEZ1bmRBc3NldE1icjoKCXByb3RvIDAgMQoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjg1MQoJLy8gcmV0dXJuIGdsb2JhbHMuYXNzZXRPcHRJbk1pbkJhbGFuY2U7CglnbG9iYWwgQXNzZXRPcHRJbk1pbkJhbGFuY2UKCXJldHN1YgoKLy8gY2FyZEZ1bmRFbmFibGVBc3NldChwYXksYWRkcmVzcyx1aW50NjQpdm9pZAoqYWJpX3JvdXRlX2NhcmRGdW5kRW5hYmxlQXNzZXQ6CgkvLyBhc3NldDogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglidG9pCgoJLy8gY2FyZEZ1bmQ6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMSAoY2FyZEZ1bmQpIGZvciBjYXJkRnVuZEVuYWJsZUFzc2V0IG11c3QgYmUgYSBhZGRyZXNzCglhc3NlcnQKCgkvLyBtYnI6IHBheQoJdHhuIEdyb3VwSW5kZXgKCWludCAxCgktCglkdXAKCWd0eG5zIFR5cGVFbnVtCglpbnQgcGF5Cgk9PQoKCS8vIGFyZ3VtZW50IDIgKG1icikgZm9yIGNhcmRGdW5kRW5hYmxlQXNzZXQgbXVzdCBiZSBhIHBheSB0cmFuc2FjdGlvbgoJYXNzZXJ0CgoJLy8gZXhlY3V0ZSBjYXJkRnVuZEVuYWJsZUFzc2V0KHBheSxhZGRyZXNzLHVpbnQ2NCl2b2lkCgljYWxsc3ViIGNhcmRGdW5kRW5hYmxlQXNzZXQKCWludCAxCglyZXR1cm4KCi8vIGNhcmRGdW5kRW5hYmxlQXNzZXQobWJyOiBQYXlUeG4sIGNhcmRGdW5kOiBBZGRyZXNzLCBhc3NldDogQXNzZXRJRCk6IHZvaWQKLy8KLy8gQWxsb3dzIHRoZSBkZXBvc2l0b3IgKG9yIG93bmVyKSB0byBPcHRJbiB0byBhbiBhc3NldCwgaW5jcmVhc2luZyB0aGUgbWluaW11bSBiYWxhbmNlIHJlcXVpcmVtZW50IG9mIHRoZSBhY2NvdW50Ci8vCi8vIEBwYXJhbSBjYXJkRnVuZCBBZGRyZXNzIHRvIGFkZCBhc3NldCB0bwovLyBAcGFyYW0gYXNzZXQgQXNzZXQgdG8gYWRkCmNhcmRGdW5kRW5hYmxlQXNzZXQ6Cglwcm90byAzIDAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4NjIKCS8vIGFzc2VydCh0aGlzLmlzT3duZXIoKSB8fCB0aGlzLmlzQ2FyZEZ1bmRPd25lcihjYXJkRnVuZCksICdTRU5ERVJfTk9UX0FMTE9XRUQnKQoJY2FsbHN1YiBpc093bmVyCglkdXAKCWJueiAqc2tpcF9vcjEKCWZyYW1lX2RpZyAtMiAvLyBjYXJkRnVuZDogQWRkcmVzcwoJY2FsbHN1YiBpc0NhcmRGdW5kT3duZXIKCXx8Cgoqc2tpcF9vcjE6CgkvLyBTRU5ERVJfTk9UX0FMTE9XRUQKCWFzc2VydAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjg2NAoJLy8gdmVyaWZ5UGF5VHhuKG1iciwgewoJLy8gICAgICAgICAgICAgcmVjZWl2ZXI6IHRoaXMuYXBwLmFkZHJlc3MsCgkvLyAgICAgICAgICAgICBhbW91bnQ6IHRoaXMuZ2V0Q2FyZEZ1bmRBc3NldE1icigpLAoJLy8gICAgICAgICB9KQoJLy8gdmVyaWZ5IHJlY2VpdmVyCglmcmFtZV9kaWcgLTEgLy8gbWJyOiBQYXlUeG4KCWd0eG5zIFJlY2VpdmVyCglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJPT0KCgkvLyB0cmFuc2FjdGlvbiB2ZXJpZmljYXRpb24gZmFpbGVkOiB7InR4biI6Im1iciIsImZpZWxkIjoicmVjZWl2ZXIiLCJleHBlY3RlZCI6InRoaXMuYXBwLmFkZHJlc3MifQoJYXNzZXJ0CgoJLy8gdmVyaWZ5IGFtb3VudAoJZnJhbWVfZGlnIC0xIC8vIG1icjogUGF5VHhuCglndHhucyBBbW91bnQKCWNhbGxzdWIgZ2V0Q2FyZEZ1bmRBc3NldE1icgoJPT0KCgkvLyB0cmFuc2FjdGlvbiB2ZXJpZmljYXRpb24gZmFpbGVkOiB7InR4biI6Im1iciIsImZpZWxkIjoiYW1vdW50IiwiZXhwZWN0ZWQiOiJ0aGlzLmdldENhcmRGdW5kQXNzZXRNYnIoKSJ9Cglhc3NlcnQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4NjkKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICAgIHJlY2VpdmVyOiBjYXJkRnVuZCwKCS8vICAgICAgICAgICAgIGFtb3VudDogdGhpcy5nZXRDYXJkRnVuZEFzc2V0TWJyKCksCgkvLyAgICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgcGF5CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6ODcwCgkvLyByZWNlaXZlcjogY2FyZEZ1bmQKCWZyYW1lX2RpZyAtMiAvLyBjYXJkRnVuZDogQWRkcmVzcwoJaXR4bl9maWVsZCBSZWNlaXZlcgoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjg3MQoJLy8gYW1vdW50OiB0aGlzLmdldENhcmRGdW5kQXNzZXRNYnIoKQoJY2FsbHN1YiBnZXRDYXJkRnVuZEFzc2V0TWJyCglpdHhuX2ZpZWxkIEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4NzQKCS8vIHRoaXMuY2FyZEZ1bmRBc3NldE9wdEluKGNhcmRGdW5kLCBhc3NldCkKCWZyYW1lX2RpZyAtMyAvLyBhc3NldDogQXNzZXRJRAoJZnJhbWVfZGlnIC0yIC8vIGNhcmRGdW5kOiBBZGRyZXNzCgljYWxsc3ViIGNhcmRGdW5kQXNzZXRPcHRJbgoJcmV0c3ViCgovLyBjYXJkRnVuZERpc2FibGVBc3NldChhZGRyZXNzLHVpbnQ2NCl2b2lkCiphYmlfcm91dGVfY2FyZEZ1bmREaXNhYmxlQXNzZXQ6CgkvLyBhc3NldDogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglidG9pCgoJLy8gY2FyZEZ1bmQ6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMSAoY2FyZEZ1bmQpIGZvciBjYXJkRnVuZERpc2FibGVBc3NldCBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gZXhlY3V0ZSBjYXJkRnVuZERpc2FibGVBc3NldChhZGRyZXNzLHVpbnQ2NCl2b2lkCgljYWxsc3ViIGNhcmRGdW5kRGlzYWJsZUFzc2V0CglpbnQgMQoJcmV0dXJuCgovLyBjYXJkRnVuZERpc2FibGVBc3NldChjYXJkRnVuZDogQWRkcmVzcywgYXNzZXQ6IEFzc2V0SUQpOiB2b2lkCi8vCi8vIEFsbG93cyB0aGUgZGVwb3NpdG9yIChvciBvd25lcikgdG8gQ2xvc2VPdXQgb2YgYW4gYXNzZXQsIHJlZHVjaW5nIHRoZSBtaW5pbXVtIGJhbGFuY2UgcmVxdWlyZW1lbnQgb2YgdGhlIGFjY291bnQKLy8KLy8gQHBhcmFtIGNhcmRGdW5kIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIGNhcmQuCi8vIEBwYXJhbSBhc3NldCAtIFRoZSBJRCBvZiB0aGUgYXNzZXQgdG8gYmUgcmVtb3ZlZC4KY2FyZEZ1bmREaXNhYmxlQXNzZXQ6Cglwcm90byAyIDAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo4ODQKCS8vIGFzc2VydCh0aGlzLmlzT3duZXIoKSB8fCB0aGlzLmlzQ2FyZEZ1bmRPd25lcihjYXJkRnVuZCksICdTRU5ERVJfTk9UX0FMTE9XRUQnKQoJY2FsbHN1YiBpc093bmVyCglkdXAKCWJueiAqc2tpcF9vcjIKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJY2FsbHN1YiBpc0NhcmRGdW5kT3duZXIKCXx8Cgoqc2tpcF9vcjI6CgkvLyBTRU5ERVJfTk9UX0FMTE9XRUQKCWFzc2VydAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjg4NgoJLy8gdGhpcy5jYXJkRnVuZEFzc2V0Q2xvc2VPdXQoY2FyZEZ1bmQsIGFzc2V0KQoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglmcmFtZV9kaWcgLTEgLy8gY2FyZEZ1bmQ6IEFkZHJlc3MKCWNhbGxzdWIgY2FyZEZ1bmRBc3NldENsb3NlT3V0CglyZXRzdWIKCi8vIGNhcmRGdW5kV2l0aGRyYXdhbFJlcXVlc3QoYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50NjQpYnl0ZVszMl0KKmFiaV9yb3V0ZV9jYXJkRnVuZFdpdGhkcmF3YWxSZXF1ZXN0OgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyBhbW91bnQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAoJYnRvaQoKCS8vIGFzc2V0OiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDMKCWJ0b2kKCgkvLyByZWNpcGllbnQ6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMiAocmVjaXBpZW50KSBmb3IgY2FyZEZ1bmRXaXRoZHJhd2FsUmVxdWVzdCBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gY2FyZEZ1bmQ6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMyAoY2FyZEZ1bmQpIGZvciBjYXJkRnVuZFdpdGhkcmF3YWxSZXF1ZXN0IG11c3QgYmUgYSBhZGRyZXNzCglhc3NlcnQKCgkvLyBleGVjdXRlIGNhcmRGdW5kV2l0aGRyYXdhbFJlcXVlc3QoYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50NjQpYnl0ZVszMl0KCWNhbGxzdWIgY2FyZEZ1bmRXaXRoZHJhd2FsUmVxdWVzdAoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIGNhcmRGdW5kV2l0aGRyYXdhbFJlcXVlc3QoY2FyZEZ1bmQ6IEFkZHJlc3MsIHJlY2lwaWVudDogQWRkcmVzcywgYXNzZXQ6IEFzc2V0SUQsIGFtb3VudDogdWludDY0KTogYnl0ZXMzMgovLwovLyBBbGxvd3MgdGhlIENhcmQgSG9sZGVyIChvciBjb250cmFjdCBvd25lcikgdG8gc2VuZCBhbiBhbW91bnQgb2YgYXNzZXRzIGZyb20gdGhlIGFjY291bnQKLy8gQHBhcmFtIGNhcmRGdW5kIEFkZHJlc3MgdG8gd2l0aGRyYXcgZnJvbQovLyBAcGFyYW0gYXNzZXQgQXNzZXQgdG8gd2l0aGRyYXcKLy8gQHBhcmFtIGFtb3VudCBBbW91bnQgdG8gd2l0aGRyYXcKLy8gQHJldHVybnMgV2l0aGRyYXdhbCBoYXNoIHVzZWQgZm9yIGNvbXBsZXRpbmcgb3IgY2FuY2VsbGluZyB0aGUgd2l0aGRyYXdhbApjYXJkRnVuZFdpdGhkcmF3YWxSZXF1ZXN0OgoJcHJvdG8gNCAxCgoJLy8gUHVzaCBlbXB0eSBieXRlcyBhZnRlciB0aGUgZnJhbWUgcG9pbnRlciB0byByZXNlcnZlIHNwYWNlIGZvciBsb2NhbCB2YXJpYWJsZXMKCWJ5dGUgMHgKCWR1cAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjg5OQoJLy8gYXNzZXJ0KHRoaXMuaXNPd25lcigpIHx8IHRoaXMuaXNDYXJkRnVuZE93bmVyKGNhcmRGdW5kKSwgJ1NFTkRFUl9OT1RfQUxMT1dFRCcpCgljYWxsc3ViIGlzT3duZXIKCWR1cAoJYm56ICpza2lwX29yMwoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCgljYWxsc3ViIGlzQ2FyZEZ1bmRPd25lcgoJfHwKCipza2lwX29yMzoKCS8vIFNFTkRFUl9OT1RfQUxMT1dFRAoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6OTAxCgkvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdCA9IHsKCS8vICAgICAgICAgICAgIGNhcmRGdW5kOiBjYXJkRnVuZCwKCS8vICAgICAgICAgICAgIHJlY2lwaWVudDogcmVjaXBpZW50LAoJLy8gICAgICAgICAgICAgYXNzZXQ6IGFzc2V0LAoJLy8gICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCgkvLyAgICAgICAgICAgICB0aW1lc3RhbXA6IGdsb2JhbHMubGF0ZXN0VGltZXN0YW1wICsgdGhpcy53aXRoZHJhd2FsX3dhaXRfdGltZS52YWx1ZSwKCS8vICAgICAgICAgICAgIG5vbmNlOiB0aGlzLndpdGhkcmF3YWxfbm9uY2UodGhpcy50eG4uc2VuZGVyKS52YWx1ZSwKCS8vICAgICAgICAgfQoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCglmcmFtZV9kaWcgLTIgLy8gcmVjaXBpZW50OiBBZGRyZXNzCgljb25jYXQKCWZyYW1lX2RpZyAtMyAvLyBhc3NldDogQXNzZXRJRAoJaXRvYgoJY29uY2F0CglmcmFtZV9kaWcgLTQgLy8gYW1vdW50OiB1aW50NjQKCWl0b2IKCWNvbmNhdAoJZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAoJYnl0ZSAweDc3Nzc3NCAvLyAid3d0IgoJYXBwX2dsb2JhbF9nZXQKCSsKCWl0b2IKCWNvbmNhdAoJdHhuIFNlbmRlcgoJYnl0ZSAweDc3NmUgLy8gInduIgoJYXBwX2xvY2FsX2dldAoJaXRvYgoJY29uY2F0CglmcmFtZV9idXJ5IDAgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo5MDkKCS8vIHRoaXMud2l0aGRyYXdhbF9ub25jZSh0aGlzLnR4bi5zZW5kZXIpLnZhbHVlID0gdGhpcy53aXRoZHJhd2FsX25vbmNlKHRoaXMudHhuLnNlbmRlcikudmFsdWUgKyAxCgl0eG4gU2VuZGVyCglieXRlIDB4Nzc2ZSAvLyAid24iCgl0eG4gU2VuZGVyCglieXRlIDB4Nzc2ZSAvLyAid24iCglhcHBfbG9jYWxfZ2V0CglpbnQgMQoJKwoJYXBwX2xvY2FsX3B1dAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjkxMAoJLy8gd2l0aGRyYXdhbF9oYXNoID0gc2hhMjU2KHJhd0J5dGVzKHdpdGhkcmF3YWwpKQoJZnJhbWVfZGlnIDAgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCXNoYTI1NgoJZnJhbWVfYnVyeSAxIC8vIHdpdGhkcmF3YWxfaGFzaDogYnl0ZVszMl0KCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo5MTIKCS8vIHRoaXMud2l0aGRyYXdhbHModGhpcy50eG4uc2VuZGVyLCB3aXRoZHJhd2FsX2hhc2gpLnZhbHVlID0gd2l0aGRyYXdhbAoJdHhuIFNlbmRlcgoJZnJhbWVfZGlnIDEgLy8gd2l0aGRyYXdhbF9oYXNoOiBieXRlWzMyXQoJZnJhbWVfZGlnIDAgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCWFwcF9sb2NhbF9wdXQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo5MTQKCS8vIHRoaXMuV2l0aGRyYXdhbFJlcXVlc3QubG9nKHsKCS8vICAgICAgICAgICAgIGNhcmRGdW5kOiB3aXRoZHJhd2FsLmNhcmRGdW5kLAoJLy8gICAgICAgICAgICAgcmVjaXBpZW50OiB3aXRoZHJhd2FsLnJlY2lwaWVudCwKCS8vICAgICAgICAgICAgIGFzc2V0OiB3aXRoZHJhd2FsLmFzc2V0LAoJLy8gICAgICAgICAgICAgYW1vdW50OiB3aXRoZHJhd2FsLmFtb3VudCwKCS8vICAgICAgICAgICAgIHRpbWVzdGFtcDogd2l0aGRyYXdhbC50aW1lc3RhbXAsCgkvLyAgICAgICAgICAgICBub25jZTogd2l0aGRyYXdhbC5ub25jZSwKCS8vICAgICAgICAgfSkKCWJ5dGUgMHhkODVmNjIwYSAvLyBXaXRoZHJhd2FsUmVxdWVzdChhZGRyZXNzLGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KQoJZnJhbWVfZGlnIDAgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCWV4dHJhY3QgMCAzMgoJZnJhbWVfZGlnIDAgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCWV4dHJhY3QgMzIgMzIKCWNvbmNhdAoJZnJhbWVfZGlnIDAgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCWV4dHJhY3QgNjQgOAoJYnRvaQoJaXRvYgoJY29uY2F0CglmcmFtZV9kaWcgMCAvLyB3aXRoZHJhd2FsOiBXaXRoZHJhd2FsUmVxdWVzdAoJZXh0cmFjdCA3MiA4CglidG9pCglpdG9iCgljb25jYXQKCWZyYW1lX2RpZyAwIC8vIHdpdGhkcmF3YWw6IFdpdGhkcmF3YWxSZXF1ZXN0CglleHRyYWN0IDgwIDgKCWJ0b2kKCWl0b2IKCWNvbmNhdAoJZnJhbWVfZGlnIDAgLy8gd2l0aGRyYXdhbDogV2l0aGRyYXdhbFJlcXVlc3QKCWV4dHJhY3QgODggOAoJYnRvaQoJaXRvYgoJY29uY2F0Cgljb25jYXQKCWxvZwoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjkyMwoJLy8gcmV0dXJuIHdpdGhkcmF3YWxfaGFzaDsKCWZyYW1lX2RpZyAxIC8vIHdpdGhkcmF3YWxfaGFzaDogYnl0ZVszMl0KCgkvLyBzZXQgdGhlIHN1YnJvdXRpbmUgcmV0dXJuIHZhbHVlCglmcmFtZV9idXJ5IDAKCgkvLyBwb3AgYWxsIGxvY2FsIHZhcmlhYmxlcyBmcm9tIHRoZSBzdGFjawoJcG9wbiAxCglyZXRzdWIKCi8vIGNhcmRGdW5kV2l0aGRyYXdhbENhbmNlbChhZGRyZXNzLGJ5dGVbMzJdKXZvaWQKKmFiaV9yb3V0ZV9jYXJkRnVuZFdpdGhkcmF3YWxDYW5jZWw6CgkvLyB3aXRoZHJhd2FsX2hhc2g6IGJ5dGVbMzJdCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDAgKHdpdGhkcmF3YWxfaGFzaCkgZm9yIGNhcmRGdW5kV2l0aGRyYXdhbENhbmNlbCBtdXN0IGJlIGEgYnl0ZVszMl0KCWFzc2VydAoKCS8vIGNhcmRGdW5kOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDEgKGNhcmRGdW5kKSBmb3IgY2FyZEZ1bmRXaXRoZHJhd2FsQ2FuY2VsIG11c3QgYmUgYSBhZGRyZXNzCglhc3NlcnQKCgkvLyBleGVjdXRlIGNhcmRGdW5kV2l0aGRyYXdhbENhbmNlbChhZGRyZXNzLGJ5dGVbMzJdKXZvaWQKCWNhbGxzdWIgY2FyZEZ1bmRXaXRoZHJhd2FsQ2FuY2VsCglpbnQgMQoJcmV0dXJuCgovLyBjYXJkRnVuZFdpdGhkcmF3YWxDYW5jZWwoY2FyZEZ1bmQ6IEFkZHJlc3MsIHdpdGhkcmF3YWxfaGFzaDogYnl0ZXMzMik6IHZvaWQKLy8KLy8gQWxsb3dzIHRoZSBDYXJkIEhvbGRlciAob3IgY29udHJhY3Qgb3duZXIpIHRvIGNhbmNlbCBhIHdpdGhkcmF3YWwgcmVxdWVzdAovLyBAcGFyYW0gY2FyZEZ1bmQgQWRkcmVzcyB0byB3aXRoZHJhdyBmcm9tCi8vIEBwYXJhbSB3aXRoZHJhd2FsX2hhc2ggSGFzaCBvZiB0aGUgd2l0aGRyYXdhbCByZXF1ZXN0CmNhcmRGdW5kV2l0aGRyYXdhbENhbmNlbDoKCXByb3RvIDIgMAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjkzMgoJLy8gYXNzZXJ0KHRoaXMuaXNPd25lcigpIHx8IHRoaXMuaXNDYXJkRnVuZE93bmVyKGNhcmRGdW5kKSwgJ1NFTkRFUl9OT1RfQUxMT1dFRCcpCgljYWxsc3ViIGlzT3duZXIKCWR1cAoJYm56ICpza2lwX29yNAoJZnJhbWVfZGlnIC0xIC8vIGNhcmRGdW5kOiBBZGRyZXNzCgljYWxsc3ViIGlzQ2FyZEZ1bmRPd25lcgoJfHwKCipza2lwX29yNDoKCS8vIFNFTkRFUl9OT1RfQUxMT1dFRAoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6OTM0CgkvLyB0aGlzLndpdGhkcmF3YWxzKHRoaXMudHhuLnNlbmRlciwgd2l0aGRyYXdhbF9oYXNoKS5kZWxldGUoKQoJdHhuIFNlbmRlcgoJZnJhbWVfZGlnIC0yIC8vIHdpdGhkcmF3YWxfaGFzaDogYnl0ZXMzMgoJYXBwX2xvY2FsX2RlbAoJcmV0c3ViCgovLyBjYXJkRnVuZFdpdGhkcmF3KGFkZHJlc3MsYnl0ZVszMl0pdm9pZAoqYWJpX3JvdXRlX2NhcmRGdW5kV2l0aGRyYXc6CgkvLyB3aXRoZHJhd2FsX2hhc2g6IGJ5dGVbMzJdCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDAgKHdpdGhkcmF3YWxfaGFzaCkgZm9yIGNhcmRGdW5kV2l0aGRyYXcgbXVzdCBiZSBhIGJ5dGVbMzJdCglhc3NlcnQKCgkvLyBjYXJkRnVuZDogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAxIChjYXJkRnVuZCkgZm9yIGNhcmRGdW5kV2l0aGRyYXcgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGV4ZWN1dGUgY2FyZEZ1bmRXaXRoZHJhdyhhZGRyZXNzLGJ5dGVbMzJdKXZvaWQKCWNhbGxzdWIgY2FyZEZ1bmRXaXRoZHJhdwoJaW50IDEKCXJldHVybgoKLy8gY2FyZEZ1bmRXaXRoZHJhdyhjYXJkRnVuZDogQWRkcmVzcywgd2l0aGRyYXdhbF9oYXNoOiBieXRlczMyKTogdm9pZAovLwovLyBBbGxvd3MgdGhlIENhcmQgSG9sZGVyIHRvIHNlbmQgYW4gYW1vdW50IG9mIGFzc2V0cyBmcm9tIHRoZSBhY2NvdW50Ci8vIEBwYXJhbSBjYXJkRnVuZCBBZGRyZXNzIHRvIHdpdGhkcmF3IGZyb20KLy8gQHBhcmFtIHdpdGhkcmF3YWxfaGFzaCBIYXNoIG9mIHRoZSB3aXRoZHJhd2FsIHJlcXVlc3QKY2FyZEZ1bmRXaXRoZHJhdzoKCXByb3RvIDIgMAoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CglkdXAKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo5NDUKCS8vIGFzc2VydCh0aGlzLmlzT3duZXIoKSB8fCB0aGlzLmlzQ2FyZEZ1bmRPd25lcihjYXJkRnVuZCksICdTRU5ERVJfTk9UX0FMTE9XRUQnKQoJY2FsbHN1YiBpc093bmVyCglkdXAKCWJueiAqc2tpcF9vcjUKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJY2FsbHN1YiBpc0NhcmRGdW5kT3duZXIKCXx8Cgoqc2tpcF9vcjU6CgkvLyBTRU5ERVJfTk9UX0FMTE9XRUQKCWFzc2VydAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjk0NwoJLy8gd2l0aGRyYXdhbCA9IHRoaXMud2l0aGRyYXdhbHModGhpcy50eG4uc2VuZGVyLCB3aXRoZHJhd2FsX2hhc2gpLnZhbHVlCglmcmFtZV9kaWcgLTIgLy8gd2l0aGRyYXdhbF9oYXNoOiBieXRlczMyCglmcmFtZV9idXJ5IDAgLy8gc3RvcmFnZSBrZXkvL3dpdGhkcmF3YWwKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo5NDcKCS8vIHdpdGhkcmF3YWwgPSB0aGlzLndpdGhkcmF3YWxzKHRoaXMudHhuLnNlbmRlciwgd2l0aGRyYXdhbF9oYXNoKS52YWx1ZQoJdHhuIFNlbmRlcgoJZnJhbWVfYnVyeSAxIC8vIHN0b3JhZ2UgYWNjb3VudC8vd2l0aGRyYXdhbAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjk0OQoJLy8gYXNzZXJ0KGdsb2JhbHMubGF0ZXN0VGltZXN0YW1wID49IHdpdGhkcmF3YWwudGltZXN0YW1wIHx8IHRoaXMuaXNPd25lcigpLCAnV0lUSERSQVdBTF9USU1FX0lOVkFMSUQnKQoJZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAoJZnJhbWVfZGlnIDEgLy8gc3RvcmFnZSBhY2NvdW50Ly93aXRoZHJhd2FsCglmcmFtZV9kaWcgMCAvLyBzdG9yYWdlIGtleS8vd2l0aGRyYXdhbAoJYXBwX2xvY2FsX2dldAoJZXh0cmFjdCA4MCA4CglidG9pCgk+PQoJZHVwCglibnogKnNraXBfb3I2CgljYWxsc3ViIGlzT3duZXIKCXx8Cgoqc2tpcF9vcjY6CgkvLyBXSVRIRFJBV0FMX1RJTUVfSU5WQUxJRAoJYXNzZXJ0CgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6OTUyCgkvLyB0aGlzLndpdGhkcmF3RnVuZHMod2l0aGRyYXdhbCkKCWZyYW1lX2RpZyAxIC8vIHN0b3JhZ2UgYWNjb3VudC8vd2l0aGRyYXdhbAoJZnJhbWVfZGlnIDAgLy8gc3RvcmFnZSBrZXkvL3dpdGhkcmF3YWwKCWFwcF9sb2NhbF9nZXQKCWNhbGxzdWIgd2l0aGRyYXdGdW5kcwoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjk1NQoJLy8gdGhpcy53aXRoZHJhd2Fscyh0aGlzLnR4bi5zZW5kZXIsIHdpdGhkcmF3YWxfaGFzaCkuZGVsZXRlKCkKCXR4biBTZW5kZXIKCWZyYW1lX2RpZyAtMiAvLyB3aXRoZHJhd2FsX2hhc2g6IGJ5dGVzMzIKCWFwcF9sb2NhbF9kZWwKCXJldHN1YgoKLy8gY2FyZEZ1bmRXaXRoZHJhd0Vhcmx5KGFkZHJlc3MsYnl0ZVszMl0sYnl0ZVs2NF0pdm9pZAoqYWJpX3JvdXRlX2NhcmRGdW5kV2l0aGRyYXdFYXJseToKCS8vIGVhcmx5X3dpdGhkcmF3YWxfc2lnOiBieXRlWzY0XQoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwoJZHVwCglsZW4KCWludCA2NAoJPT0KCgkvLyBhcmd1bWVudCAwIChlYXJseV93aXRoZHJhd2FsX3NpZykgZm9yIGNhcmRGdW5kV2l0aGRyYXdFYXJseSBtdXN0IGJlIGEgYnl0ZVs2NF0KCWFzc2VydAoKCS8vIHdpdGhkcmF3YWxfaGFzaDogYnl0ZVszMl0KCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMSAod2l0aGRyYXdhbF9oYXNoKSBmb3IgY2FyZEZ1bmRXaXRoZHJhd0Vhcmx5IG11c3QgYmUgYSBieXRlWzMyXQoJYXNzZXJ0CgoJLy8gY2FyZEZ1bmQ6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMiAoY2FyZEZ1bmQpIGZvciBjYXJkRnVuZFdpdGhkcmF3RWFybHkgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGV4ZWN1dGUgY2FyZEZ1bmRXaXRoZHJhd0Vhcmx5KGFkZHJlc3MsYnl0ZVszMl0sYnl0ZVs2NF0pdm9pZAoJY2FsbHN1YiBjYXJkRnVuZFdpdGhkcmF3RWFybHkKCWludCAxCglyZXR1cm4KCi8vIGNhcmRGdW5kV2l0aGRyYXdFYXJseShjYXJkRnVuZDogQWRkcmVzcywgd2l0aGRyYXdhbF9oYXNoOiBieXRlczMyLCBlYXJseV93aXRoZHJhd2FsX3NpZzogYnl0ZXM2NCk6IHZvaWQKLy8KLy8gV2l0aGRyYXdzIGZ1bmRzIGJlZm9yZSB0aGUgd2l0aGRyYXdhbCB0aW1lc3RhbXAgaGFzIGxhcHNlZCwgYnkgdXNpbmcgdGhlIGVhcmx5IHdpdGhkcmF3YWwgc2lnbmF0dXJlIHByb3ZpZGVkIGJ5IEltbWVyc3ZlLgovLyBAcGFyYW0gY2FyZEZ1bmQgLSBUaGUgYWRkcmVzcyBvZiB0aGUgY2FyZC4KLy8gQHBhcmFtIHdpdGhkcmF3YWxfaGFzaCAtIFRoZSBoYXNoIG9mIHRoZSB3aXRoZHJhd2FsLgovLyBAcGFyYW0gZWFybHlfd2l0aGRyYXdhbF9zaWcgLSBUaGUgc2lnbmF0dXJlIGZvciBlYXJseSB3aXRoZHJhd2FsLgpjYXJkRnVuZFdpdGhkcmF3RWFybHk6Cglwcm90byAzIDAKCgkvLyBQdXNoIGVtcHR5IGJ5dGVzIGFmdGVyIHRoZSBmcmFtZSBwb2ludGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIGxvY2FsIHZhcmlhYmxlcwoJYnl0ZSAweAoJZHVwCgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6OTY1CgkvLyBhc3NlcnQodGhpcy5pc0NhcmRGdW5kT3duZXIoY2FyZEZ1bmQpLCAnU0VOREVSX05PVF9BTExPV0VEJykKCWZyYW1lX2RpZyAtMSAvLyBjYXJkRnVuZDogQWRkcmVzcwoJY2FsbHN1YiBpc0NhcmRGdW5kT3duZXIKCgkvLyBTRU5ERVJfTk9UX0FMTE9XRUQKCWFzc2VydAoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjk2NwoJLy8gd2l0aGRyYXdhbCA9IHRoaXMud2l0aGRyYXdhbHModGhpcy50eG4uc2VuZGVyLCB3aXRoZHJhd2FsX2hhc2gpLnZhbHVlCglmcmFtZV9kaWcgLTIgLy8gd2l0aGRyYXdhbF9oYXNoOiBieXRlczMyCglmcmFtZV9idXJ5IDAgLy8gc3RvcmFnZSBrZXkvL3dpdGhkcmF3YWwKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo5NjcKCS8vIHdpdGhkcmF3YWwgPSB0aGlzLndpdGhkcmF3YWxzKHRoaXMudHhuLnNlbmRlciwgd2l0aGRyYXdhbF9oYXNoKS52YWx1ZQoJdHhuIFNlbmRlcgoJZnJhbWVfYnVyeSAxIC8vIHN0b3JhZ2UgYWNjb3VudC8vd2l0aGRyYXdhbAoKCS8vICppZjFfY29uZGl0aW9uCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo5NzAKCS8vIGdsb2JhbHMubGF0ZXN0VGltZXN0YW1wIDwgd2l0aGRyYXdhbC50aW1lc3RhbXAKCWdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKCWZyYW1lX2RpZyAxIC8vIHN0b3JhZ2UgYWNjb3VudC8vd2l0aGRyYXdhbAoJZnJhbWVfZGlnIDAgLy8gc3RvcmFnZSBrZXkvL3dpdGhkcmF3YWwKCWFwcF9sb2NhbF9nZXQKCWV4dHJhY3QgODAgOAoJYnRvaQoJPAoJYnogKmlmMV9lbmQKCi8vICppZjFfY29uc2VxdWVudAoqd2hpbGVfMDoKCip3aGlsZV8wX2NvbnRpbnVlOgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6OTczCgkvLyBnbG9iYWxzLm9wY29kZUJ1ZGdldCA8IDI1MDAKCWdsb2JhbCBPcGNvZGVCdWRnZXQKCWludCAyNTAwCgk8CglieiAqd2hpbGVfMF9lbmQKCgkvLyBzcmMvSW1tZXJzdmUuYWxnby50czo5NzQKCS8vIGluY3JlYXNlT3Bjb2RlQnVkZ2V0KCkKCWl0eG5fYmVnaW4KCWludCBhcHBsCglpdHhuX2ZpZWxkIFR5cGVFbnVtCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCWJ5dGUgYjY0IENvRUIgLy8gI3ByYWdtYSB2ZXJzaW9uIDEwOyBpbnQgMQoJZHVwCglpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbQoJaXR4bl9maWVsZCBDbGVhclN0YXRlUHJvZ3JhbQoJaW50IERlbGV0ZUFwcGxpY2F0aW9uCglpdHhuX2ZpZWxkIE9uQ29tcGxldGlvbgoJaXR4bl9zdWJtaXQKCWIgKndoaWxlXzAKCip3aGlsZV8wX2VuZDoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjk3NwoJLy8gYXNzZXJ0KAoJLy8gICAgICAgICAgICAgICAgIGVkMjU1MTlWZXJpZnlCYXJlKHdpdGhkcmF3YWxfaGFzaCwgZWFybHlfd2l0aGRyYXdhbF9zaWcsIHRoaXMuZWFybHlfd2l0aGRyYXdhbF9wdWJrZXkudmFsdWUpLAoJLy8gICAgICAgICAgICAgICAgICdTSUdOQVRVUkVfSU5WQUxJRCcKCS8vICAgICAgICAgICAgICkKCWZyYW1lX2RpZyAtMiAvLyB3aXRoZHJhd2FsX2hhc2g6IGJ5dGVzMzIKCWZyYW1lX2RpZyAtMyAvLyBlYXJseV93aXRoZHJhd2FsX3NpZzogYnl0ZXM2NAoJYnl0ZSAweDY1Nzc3MDZiIC8vICJld3BrIgoJYXBwX2dsb2JhbF9nZXQKCWVkMjU1MTl2ZXJpZnlfYmFyZQoKCS8vIFNJR05BVFVSRV9JTlZBTElECglhc3NlcnQKCippZjFfZW5kOgoJLy8gc3JjL0ltbWVyc3ZlLmFsZ28udHM6OTg0CgkvLyB0aGlzLndpdGhkcmF3RnVuZHMod2l0aGRyYXdhbCkKCWZyYW1lX2RpZyAxIC8vIHN0b3JhZ2UgYWNjb3VudC8vd2l0aGRyYXdhbAoJZnJhbWVfZGlnIDAgLy8gc3RvcmFnZSBrZXkvL3dpdGhkcmF3YWwKCWFwcF9sb2NhbF9nZXQKCWNhbGxzdWIgd2l0aGRyYXdGdW5kcwoKCS8vIHNyYy9JbW1lcnN2ZS5hbGdvLnRzOjk4NwoJLy8gdGhpcy53aXRoZHJhd2Fscyh0aGlzLnR4bi5zZW5kZXIsIHdpdGhkcmF3YWxfaGFzaCkuZGVsZXRlKCkKCXR4biBTZW5kZXIKCWZyYW1lX2RpZyAtMiAvLyB3aXRoZHJhd2FsX2hhc2g6IGJ5dGVzMzIKCWFwcF9sb2NhbF9kZWwKCXJldHN1YgoKKmNyZWF0ZV9Ob09wOgoJbWV0aG9kICJkZXBsb3koYWRkcmVzcylhZGRyZXNzIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggKmFiaV9yb3V0ZV9kZXBsb3kKCgkvLyB0aGlzIGNvbnRyYWN0IGRvZXMgbm90IGltcGxlbWVudCB0aGUgZ2l2ZW4gQUJJIG1ldGhvZCBmb3IgY3JlYXRlIE5vT3AKCWVycgoKKmNhbGxfTm9PcDoKCW1ldGhvZCAib3duZXIoKWFkZHJlc3MiCgltZXRob2QgInRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3Mpdm9pZCIKCW1ldGhvZCAicGF1c2VyKClhZGRyZXNzIgoJbWV0aG9kICJwYXVzZSgpdm9pZCIKCW1ldGhvZCAidW5wYXVzZSgpdm9pZCIKCW1ldGhvZCAidXBkYXRlUGF1c2VyKGFkZHJlc3Mpdm9pZCIKCW1ldGhvZCAic2V0V2l0aGRyYXdhbFRpbWVvdXQodWludDY0KXZvaWQiCgltZXRob2QgInNldEVhcmx5V2l0aGRyYXdhbFB1YmtleShieXRlWzMyXSl2b2lkIgoJbWV0aG9kICJnZXRQYXJ0bmVyQ2hhbm5lbE1icihzdHJpbmcpdWludDY0IgoJbWV0aG9kICJwYXJ0bmVyQ2hhbm5lbENyZWF0ZShwYXksc3RyaW5nKWFkZHJlc3MiCgltZXRob2QgInBhcnRuZXJDaGFubmVsQ2xvc2UoYWRkcmVzcyl2b2lkIgoJbWV0aG9kICJnZXRDYXJkRnVuZE1icih1aW50NjQpdWludDY0IgoJbWV0aG9kICJjYXJkRnVuZENyZWF0ZShwYXksYWRkcmVzcyx1aW50NjQpYWRkcmVzcyIKCW1ldGhvZCAiY2FyZEZ1bmRDbG9zZShhZGRyZXNzKXZvaWQiCgltZXRob2QgImNhcmRGdW5kUmVjb3ZlcihhZGRyZXNzLGFkZHJlc3Mpdm9pZCIKCW1ldGhvZCAiZ2V0QXNzZXRBbGxvd2xpc3RNYnIoKXVpbnQ2NCIKCW1ldGhvZCAiYXNzZXRBbGxvd2xpc3RBZGQocGF5LHVpbnQ2NCxhZGRyZXNzKXZvaWQiCgltZXRob2QgImFzc2V0QWxsb3dsaXN0UmVtb3ZlKHVpbnQ2NCl2b2lkIgoJbWV0aG9kICJjYXJkRnVuZERlYml0KGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQsc3RyaW5nKXZvaWQiCgltZXRob2QgImdldFJlZnVuZEFkZHJlc3MoKWFkZHJlc3MiCgltZXRob2QgInNldFJlZnVuZEFkZHJlc3MoYWRkcmVzcyl2b2lkIgoJbWV0aG9kICJjYXJkRnVuZFJlZnVuZChhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQiCgltZXRob2QgImdldE5leHRTZXR0bGVtZW50Tm9uY2UoKXVpbnQ2NCIKCW1ldGhvZCAiZ2V0TmV4dENhcmRGdW5kTm9uY2UoYWRkcmVzcyl1aW50NjQiCgltZXRob2QgImdldENhcmRGdW5kRGF0YShhZGRyZXNzKShhZGRyZXNzLGFkZHJlc3MsYWRkcmVzcyx1aW50NjQpIgoJbWV0aG9kICJnZXRTZXR0bGVtZW50QWRkcmVzcyh1aW50NjQpYWRkcmVzcyIKCW1ldGhvZCAic2V0U2V0dGxlbWVudEFkZHJlc3ModWludDY0LGFkZHJlc3Mpdm9pZCIKCW1ldGhvZCAic2V0dGxlKHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQiCgltZXRob2QgImdldENhcmRGdW5kQXNzZXRNYnIoKXVpbnQ2NCIKCW1ldGhvZCAiY2FyZEZ1bmRFbmFibGVBc3NldChwYXksYWRkcmVzcyx1aW50NjQpdm9pZCIKCW1ldGhvZCAiY2FyZEZ1bmREaXNhYmxlQXNzZXQoYWRkcmVzcyx1aW50NjQpdm9pZCIKCW1ldGhvZCAiY2FyZEZ1bmRXaXRoZHJhd2FsUmVxdWVzdChhZGRyZXNzLGFkZHJlc3MsdWludDY0LHVpbnQ2NClieXRlWzMyXSIKCW1ldGhvZCAiY2FyZEZ1bmRXaXRoZHJhd2FsQ2FuY2VsKGFkZHJlc3MsYnl0ZVszMl0pdm9pZCIKCW1ldGhvZCAiY2FyZEZ1bmRXaXRoZHJhdyhhZGRyZXNzLGJ5dGVbMzJdKXZvaWQiCgltZXRob2QgImNhcmRGdW5kV2l0aGRyYXdFYXJseShhZGRyZXNzLGJ5dGVbMzJdLGJ5dGVbNjRdKXZvaWQiCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAwCgltYXRjaCAqYWJpX3JvdXRlX293bmVyICphYmlfcm91dGVfdHJhbnNmZXJPd25lcnNoaXAgKmFiaV9yb3V0ZV9wYXVzZXIgKmFiaV9yb3V0ZV9wYXVzZSAqYWJpX3JvdXRlX3VucGF1c2UgKmFiaV9yb3V0ZV91cGRhdGVQYXVzZXIgKmFiaV9yb3V0ZV9zZXRXaXRoZHJhd2FsVGltZW91dCAqYWJpX3JvdXRlX3NldEVhcmx5V2l0aGRyYXdhbFB1YmtleSAqYWJpX3JvdXRlX2dldFBhcnRuZXJDaGFubmVsTWJyICphYmlfcm91dGVfcGFydG5lckNoYW5uZWxDcmVhdGUgKmFiaV9yb3V0ZV9wYXJ0bmVyQ2hhbm5lbENsb3NlICphYmlfcm91dGVfZ2V0Q2FyZEZ1bmRNYnIgKmFiaV9yb3V0ZV9jYXJkRnVuZENyZWF0ZSAqYWJpX3JvdXRlX2NhcmRGdW5kQ2xvc2UgKmFiaV9yb3V0ZV9jYXJkRnVuZFJlY292ZXIgKmFiaV9yb3V0ZV9nZXRBc3NldEFsbG93bGlzdE1iciAqYWJpX3JvdXRlX2Fzc2V0QWxsb3dsaXN0QWRkICphYmlfcm91dGVfYXNzZXRBbGxvd2xpc3RSZW1vdmUgKmFiaV9yb3V0ZV9jYXJkRnVuZERlYml0ICphYmlfcm91dGVfZ2V0UmVmdW5kQWRkcmVzcyAqYWJpX3JvdXRlX3NldFJlZnVuZEFkZHJlc3MgKmFiaV9yb3V0ZV9jYXJkRnVuZFJlZnVuZCAqYWJpX3JvdXRlX2dldE5leHRTZXR0bGVtZW50Tm9uY2UgKmFiaV9yb3V0ZV9nZXROZXh0Q2FyZEZ1bmROb25jZSAqYWJpX3JvdXRlX2dldENhcmRGdW5kRGF0YSAqYWJpX3JvdXRlX2dldFNldHRsZW1lbnRBZGRyZXNzICphYmlfcm91dGVfc2V0U2V0dGxlbWVudEFkZHJlc3MgKmFiaV9yb3V0ZV9zZXR0bGUgKmFiaV9yb3V0ZV9nZXRDYXJkRnVuZEFzc2V0TWJyICphYmlfcm91dGVfY2FyZEZ1bmRFbmFibGVBc3NldCAqYWJpX3JvdXRlX2NhcmRGdW5kRGlzYWJsZUFzc2V0ICphYmlfcm91dGVfY2FyZEZ1bmRXaXRoZHJhd2FsUmVxdWVzdCAqYWJpX3JvdXRlX2NhcmRGdW5kV2l0aGRyYXdhbENhbmNlbCAqYWJpX3JvdXRlX2NhcmRGdW5kV2l0aGRyYXcgKmFiaV9yb3V0ZV9jYXJkRnVuZFdpdGhkcmF3RWFybHkKCgkvLyB0aGlzIGNvbnRyYWN0IGRvZXMgbm90IGltcGxlbWVudCB0aGUgZ2l2ZW4gQUJJIG1ldGhvZCBmb3IgY2FsbCBOb09wCgllcnIKCipjYWxsX09wdEluOgoJbWV0aG9kICJjYXJkRnVuZFdpdGhkcmF3YWxSZXF1ZXN0KGFkZHJlc3MsYWRkcmVzcyx1aW50NjQsdWludDY0KWJ5dGVbMzJdIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggKmFiaV9yb3V0ZV9jYXJkRnVuZFdpdGhkcmF3YWxSZXF1ZXN0CgoJLy8gdGhpcyBjb250cmFjdCBkb2VzIG5vdCBpbXBsZW1lbnQgdGhlIGdpdmVuIEFCSSBtZXRob2QgZm9yIGNhbGwgT3B0SW4KCWVycgoKKmNhbGxfQ2xvc2VPdXQ6CgltZXRob2QgImNhcmRGdW5kV2l0aGRyYXcoYWRkcmVzcyxieXRlWzMyXSl2b2lkIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggKmFiaV9yb3V0ZV9jYXJkRnVuZFdpdGhkcmF3CgoJLy8gdGhpcyBjb250cmFjdCBkb2VzIG5vdCBpbXBsZW1lbnQgdGhlIGdpdmVuIEFCSSBtZXRob2QgZm9yIGNhbGwgQ2xvc2VPdXQKCWVycgoKKmNhbGxfVXBkYXRlQXBwbGljYXRpb246CgltZXRob2QgInVwZGF0ZSgpdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoICphYmlfcm91dGVfdXBkYXRlCgoJLy8gdGhpcyBjb250cmFjdCBkb2VzIG5vdCBpbXBsZW1lbnQgdGhlIGdpdmVuIEFCSSBtZXRob2QgZm9yIGNhbGwgVXBkYXRlQXBwbGljYXRpb24KCWVycgoKKmNhbGxfRGVsZXRlQXBwbGljYXRpb246CgltZXRob2QgImRlc3Ryb3koKXZvaWQiCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAwCgltYXRjaCAqYWJpX3JvdXRlX2Rlc3Ryb3kKCgkvLyB0aGlzIGNvbnRyYWN0IGRvZXMgbm90IGltcGxlbWVudCB0aGUgZ2l2ZW4gQUJJIG1ldGhvZCBmb3IgY2FsbCBEZWxldGVBcHBsaWNhdGlvbgoJZXJyCgoqcHJvY2Vzc19zdGF0aWNfdHVwbGVfZWxlbWVudDoKCXByb3RvIDQgMwoJZnJhbWVfZGlnIC00IC8vIHR1cGxlIGhlYWQKCWZyYW1lX2RpZyAtMSAvLyBlbGVtZW50Cgljb25jYXQKCWZyYW1lX2RpZyAtMyAvLyB0dXBsZSB0YWlsCglmcmFtZV9kaWcgLTIgLy8gaGVhZCBvZmZzZXQKCXJldHN1YgoKKnByb2Nlc3NfZHluYW1pY190dXBsZV9lbGVtZW50OgoJcHJvdG8gNCAzCglmcmFtZV9kaWcgLTQgLy8gdHVwbGUgaGVhZAoJZnJhbWVfZGlnIC0yIC8vIGhlYWQgb2Zmc2V0Cgljb25jYXQKCWZyYW1lX2J1cnkgLTQgLy8gdHVwbGUgaGVhZAoJZnJhbWVfZGlnIC0xIC8vIGVsZW1lbnQKCWR1cAoJbGVuCglmcmFtZV9kaWcgLTIgLy8gaGVhZCBvZmZzZXQKCWJ0b2kKCSsKCWl0b2IKCWV4dHJhY3QgNiAyCglmcmFtZV9idXJ5IC0yIC8vIGhlYWQgb2Zmc2V0CglmcmFtZV9kaWcgLTMgLy8gdHVwbGUgdGFpbAoJc3dhcAoJY29uY2F0CglmcmFtZV9idXJ5IC0zIC8vIHR1cGxlIHRhaWwKCWZyYW1lX2RpZyAtNCAvLyB0dXBsZSBoZWFkCglmcmFtZV9kaWcgLTMgLy8gdHVwbGUgdGFpbAoJZnJhbWVfZGlnIC0yIC8vIGhlYWQgb2Zmc2V0CglyZXRzdWI=",
    "clear": "I3ByYWdtYSB2ZXJzaW9uIDEw"
  },
  "contract": {
    "name": "Master",
    "desc": "",
    "methods": [
      {
        "name": "owner",
        "readonly": true,
        "args": [],
        "returns": {
          "type": "address"
        }
      },
      {
        "name": "transferOwnership",
        "desc": "Transfers the ownership of the contract to a new owner.Requires the caller to be the current owner.",
        "args": [
          {
            "name": "newOwner",
            "type": "address",
            "desc": "The address of the new owner."
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "pauser",
        "desc": "@noticeReturns current pauser@returnPauser's address",
        "args": [],
        "returns": {
          "type": "address"
        }
      },
      {
        "name": "pause",
        "desc": "@devcalled by the owner to pause, triggers stopped state",
        "args": [],
        "returns": {
          "type": "void"
        },
        "events": [
          {
            "name": "Pause",
            "args": [],
            "desc": ""
          }
        ]
      },
      {
        "name": "unpause",
        "desc": "@devcalled by the owner to unpause, returns to normal state",
        "args": [],
        "returns": {
          "type": "void"
        },
        "events": [
          {
            "name": "Unpause",
            "args": [],
            "desc": ""
          }
        ]
      },
      {
        "name": "updatePauser",
        "desc": "@devupdate the pauser role",
        "args": [
          {
            "name": "_newPauser",
            "type": "address"
          }
        ],
        "returns": {
          "type": "void"
        },
        "events": [
          {
            "name": "PauserChanged",
            "args": [
              {
                "name": "newAddress",
                "type": "address"
              }
            ],
            "desc": ""
          }
        ]
      },
      {
        "name": "deploy",
        "desc": "Deploy a partner channel, setting the owner as provided",
        "args": [
          {
            "name": "owner",
            "type": "address"
          }
        ],
        "returns": {
          "type": "address"
        }
      },
      {
        "name": "update",
        "desc": "Allows the owner to update the smart contract",
        "args": [],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "destroy",
        "desc": "Destroy the smart contract, sending all Algo to the owner account. This can only be done if there are no active card funds",
        "args": [],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "setWithdrawalTimeout",
        "desc": "Set the number of seconds a withdrawal request must wait until being withdrawn",
        "args": [
          {
            "name": "seconds",
            "type": "uint64",
            "desc": "New number of seconds to wait"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "setEarlyWithdrawalPubkey",
        "desc": "Sets the early withdrawal public key.",
        "args": [
          {
            "name": "pubkey",
            "type": "byte[32]",
            "desc": "The public key to set."
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "getPartnerChannelMbr",
        "desc": "Retrieves the minimum balance requirement for creating a partner channel account.",
        "args": [
          {
            "name": "partnerChannelName",
            "type": "string",
            "desc": "The name of the partner channel."
          }
        ],
        "returns": {
          "type": "uint64",
          "desc": "The minimum balance requirement for creating a partner channel account."
        }
      },
      {
        "name": "partnerChannelCreate",
        "desc": "Creates a partner channel account and associates it with the provided partner channel name.Only the owner of the contract can call this function.",
        "args": [
          {
            "name": "mbr",
            "type": "pay",
            "desc": "The PayTxn object representing the payment transaction."
          },
          {
            "name": "partnerChannelName",
            "type": "string",
            "desc": "The name of the partner channel."
          }
        ],
        "returns": {
          "type": "address",
          "desc": "The address of the newly created partner channel account."
        },
        "events": [
          {
            "name": "PartnerChannelCreated",
            "args": [
              {
                "name": "partnerChannel",
                "type": "address",
                "desc": "Partner Channel"
              },
              {
                "name": "partnerChannelName",
                "type": "string",
                "desc": "Partner Channel Name"
              }
            ],
            "desc": "Partner Channel Created event"
          }
        ]
      },
      {
        "name": "partnerChannelClose",
        "args": [
          {
            "name": "partnerChannel",
            "type": "address"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "getCardFundMbr",
        "desc": "Retrieves the minimum balance requirement for creating a card fund account.",
        "args": [
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset to opt-in to. 0 = No asset opt-in"
          }
        ],
        "returns": {
          "type": "uint64",
          "desc": "Minimum balance requirement for creating a card fund account"
        }
      },
      {
        "name": "cardFundCreate",
        "desc": "Create account. This generates a brand new account and funds the minimum balance requirement",
        "args": [
          {
            "name": "mbr",
            "type": "pay",
            "desc": "Payment transaction of minimum balance requirement"
          },
          {
            "name": "partnerChannel",
            "type": "address",
            "desc": "Funding Channel name"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset to opt-in to. 0 = No asset opt-in"
          }
        ],
        "returns": {
          "type": "address",
          "desc": "Newly generated account used by their card"
        },
        "events": [
          {
            "name": "CardFundCreated",
            "args": [
              {
                "name": "cardFundOwner",
                "type": "address",
                "desc": "Card Fund Owner"
              },
              {
                "name": "cardFund",
                "type": "address",
                "desc": "Card Fund"
              },
              {
                "name": "partnerChannel",
                "type": "address",
                "desc": "Partner Channel"
              }
            ],
            "desc": "Card Created event"
          }
        ]
      },
      {
        "name": "cardFundClose",
        "desc": "Close account. This permanently removes the rekey and deletes the account from the ledger",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Address to close"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "cardFundRecover",
        "desc": "Recovers funds from an old card and transfers them to a new card.Only the owner of the contract can perform this operation.",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "The card fund to recover."
          },
          {
            "name": "newCardFundHolder",
            "type": "address",
            "desc": "The address of the new card holder."
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "getAssetAllowlistMbr",
        "desc": "Retrieves the minimum balance requirement for adding an asset to the allowlist.",
        "args": [],
        "returns": {
          "type": "uint64",
          "desc": "Minimum balance requirement for adding an asset to the allowlist"
        }
      },
      {
        "name": "assetAllowlistAdd",
        "desc": "Allows the master contract to flag intent of accepting an asset.",
        "args": [
          {
            "name": "mbr",
            "type": "pay",
            "desc": "Payment transaction of minimum balance requirement."
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "The AssetID of the asset being transferred."
          },
          {
            "name": "settlementAddress",
            "type": "address"
          }
        ],
        "returns": {
          "type": "void"
        },
        "events": [
          {
            "name": "AssetAllowlistAdded",
            "args": [
              {
                "name": "asset",
                "type": "uint64",
                "desc": "Asset added to allowlist"
              }
            ],
            "desc": "Asset Allowlist Added event"
          }
        ]
      },
      {
        "name": "assetAllowlistRemove",
        "desc": "Allows the master contract to reject accepting an asset.",
        "args": [
          {
            "name": "asset",
            "type": "uint64",
            "desc": "The AssetID of the asset being transferred."
          }
        ],
        "returns": {
          "type": "void"
        },
        "events": [
          {
            "name": "AssetAllowlistRemoved",
            "args": [
              {
                "name": "asset",
                "type": "uint64",
                "desc": "Asset removed from allowlist"
              }
            ],
            "desc": "Asset Allowlist Removed event"
          }
        ]
      },
      {
        "name": "cardFundDebit",
        "desc": "Debits the specified amount of the given asset from the card account.Only the owner of the contract can perform this operation.",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "The card fund from which the asset will be debited."
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "The asset to be debited."
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "The amount of the asset to be debited."
          },
          {
            "name": "nonce",
            "type": "uint64"
          },
          {
            "name": "ref",
            "type": "string"
          }
        ],
        "returns": {
          "type": "void"
        },
        "events": [
          {
            "name": "Debit",
            "args": [
              {
                "name": "card",
                "type": "address",
                "desc": "Funding Source being debited from"
              },
              {
                "name": "asset",
                "type": "uint64",
                "desc": "Asset being debited"
              },
              {
                "name": "amount",
                "type": "uint64",
                "desc": "Amount being debited"
              },
              {
                "name": "nonce",
                "type": "uint64",
                "desc": "Nonce used"
              },
              {
                "name": "reference",
                "type": "string",
                "desc": "Transaction reference"
              }
            ],
            "desc": "Debit event"
          }
        ]
      },
      {
        "name": "getRefundAddress",
        "desc": "Retrieves the refund address.",
        "readonly": true,
        "args": [],
        "returns": {
          "type": "address",
          "desc": "The refund address."
        }
      },
      {
        "name": "setRefundAddress",
        "desc": "Sets the refund address.Only the owner of the contract can call this method.",
        "args": [
          {
            "name": "newRefundAddress",
            "type": "address",
            "desc": "The new refund address to be set."
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "cardFundRefund",
        "desc": "Refunds a specified amount of an asset to a card account.Only the owner of the contract can perform this operation.",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "The card account to refund the asset to."
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "The asset to refund."
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "The amount of the asset to refund."
          },
          {
            "name": "nonce",
            "type": "uint64"
          }
        ],
        "returns": {
          "type": "void"
        },
        "events": [
          {
            "name": "Refund",
            "args": [
              {
                "name": "card",
                "type": "address",
                "desc": "Funding Source being refunded to"
              },
              {
                "name": "asset",
                "type": "uint64",
                "desc": "Asset being refunded"
              },
              {
                "name": "amount",
                "type": "uint64",
                "desc": "Amount being refunded"
              },
              {
                "name": "nonce",
                "type": "uint64",
                "desc": "Nonce used"
              }
            ],
            "desc": "Refund event"
          }
        ]
      },
      {
        "name": "getNextSettlementNonce",
        "desc": "Retrieves the next available nonce for settlements.",
        "readonly": true,
        "args": [],
        "returns": {
          "type": "uint64",
          "desc": "The settlement nonce."
        }
      },
      {
        "name": "getNextCardFundNonce",
        "desc": "Retrieves the next available nonce for the card fund.",
        "readonly": true,
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "The card fund address."
          }
        ],
        "returns": {
          "type": "uint64",
          "desc": "The nonce for the card fund."
        }
      },
      {
        "name": "getCardFundData",
        "desc": "Retrieves the card fund data for a given card fund address.",
        "readonly": true,
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "The address of the card fund."
          }
        ],
        "returns": {
          "type": "(address,address,address,uint64)",
          "desc": "The card fund data."
        }
      },
      {
        "name": "getSettlementAddress",
        "desc": "Retrieves the settlement address for the specified asset.",
        "readonly": true,
        "args": [
          {
            "name": "asset",
            "type": "uint64",
            "desc": "The ID of the asset."
          }
        ],
        "returns": {
          "type": "address",
          "desc": "The settlement address for the asset."
        }
      },
      {
        "name": "setSettlementAddress",
        "desc": "Sets the settlement address for a given settlement asset.Only the owner of the contract can call this method.",
        "args": [
          {
            "name": "settlementAsset",
            "type": "uint64",
            "desc": "The ID of the settlement asset."
          },
          {
            "name": "newSettlementAddress",
            "type": "address",
            "desc": "The new settlement address to be set."
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "settle",
        "desc": "Settles a payment by transferring an asset to the specified recipient.Only the owner of the contract can call this function.",
        "args": [
          {
            "name": "asset",
            "type": "uint64",
            "desc": "The asset to be transferred."
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "The amount of the asset to be transferred."
          },
          {
            "name": "nonce",
            "type": "uint64",
            "desc": "The nonce to prevent duplicate settlements."
          }
        ],
        "returns": {
          "type": "void"
        },
        "events": [
          {
            "name": "Settlement",
            "args": [
              {
                "name": "recipient",
                "type": "address",
                "desc": "Settlement destination address"
              },
              {
                "name": "asset",
                "type": "uint64",
                "desc": "Asset being settled"
              },
              {
                "name": "amount",
                "type": "uint64",
                "desc": "Amount being settled"
              },
              {
                "name": "nonce",
                "type": "uint64",
                "desc": "Settlement nonce to prevent duplicate settlements"
              }
            ],
            "desc": "Settlement event"
          }
        ]
      },
      {
        "name": "getCardFundAssetMbr",
        "desc": "Retrieves the minimum balance requirement for adding an asset to the card fund.",
        "args": [],
        "returns": {
          "type": "uint64",
          "desc": "The minimum balance requirement for adding an asset to the card fund."
        }
      },
      {
        "name": "cardFundEnableAsset",
        "desc": "Allows the depositor (or owner) to OptIn to an asset, increasing the minimum balance requirement of the account",
        "args": [
          {
            "name": "mbr",
            "type": "pay"
          },
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Address to add asset to"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset to add"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "cardFundDisableAsset",
        "desc": "Allows the depositor (or owner) to CloseOut of an asset, reducing the minimum balance requirement of the account",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "The address of the card."
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "The ID of the asset to be removed."
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "cardFundWithdrawalRequest",
        "desc": "Allows the Card Holder (or contract owner) to send an amount of assets from the account",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Address to withdraw from"
          },
          {
            "name": "recipient",
            "type": "address"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset to withdraw"
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "Amount to withdraw"
          }
        ],
        "returns": {
          "type": "byte[32]",
          "desc": "Withdrawal hash used for completing or cancelling the withdrawal"
        },
        "events": [
          {
            "name": "WithdrawalRequest",
            "args": [
              {
                "name": "cardFund",
                "type": "address",
                "desc": "Funding Source to withdraw from"
              },
              {
                "name": "recipient",
                "type": "address",
                "desc": "Recipient address to withdraw to"
              },
              {
                "name": "asset",
                "type": "uint64",
                "desc": "Asset to withdraw"
              },
              {
                "name": "amount",
                "type": "uint64",
                "desc": "Amount to withdraw"
              },
              {
                "name": "timestamp",
                "type": "uint64",
                "desc": "Timestamp that must be reached before withdrawal can be completed"
              },
              {
                "name": "nonce",
                "type": "uint64",
                "desc": "Withdrawal nonce"
              }
            ],
            "desc": "Withdrawal Request event"
          }
        ]
      },
      {
        "name": "cardFundWithdrawalCancel",
        "desc": "Allows the Card Holder (or contract owner) to cancel a withdrawal request",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Address to withdraw from"
          },
          {
            "name": "withdrawal_hash",
            "type": "byte[32]",
            "desc": "Hash of the withdrawal request"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "cardFundWithdraw",
        "desc": "Allows the Card Holder to send an amount of assets from the account",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Address to withdraw from"
          },
          {
            "name": "withdrawal_hash",
            "type": "byte[32]",
            "desc": "Hash of the withdrawal request"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "cardFundWithdrawEarly",
        "desc": "Withdraws funds before the withdrawal timestamp has lapsed, by using the early withdrawal signature provided by Immersve.",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "The address of the card."
          },
          {
            "name": "withdrawal_hash",
            "type": "byte[32]",
            "desc": "The hash of the withdrawal."
          },
          {
            "name": "early_withdrawal_sig",
            "type": "byte[64]",
            "desc": "The signature for early withdrawal."
          }
        ],
        "returns": {
          "type": "void"
        }
      }
    ],
    "events": [
      {
        "name": "OwnershipTransferred",
        "args": [
          {
            "name": "previousOwner",
            "type": "address",
            "desc": "Previous owner address"
          },
          {
            "name": "newOwner",
            "type": "address",
            "desc": "New owner address"
          }
        ],
        "desc": "Event emitted when ownership of the contract is transferred."
      },
      {
        "name": "Pause",
        "args": [],
        "desc": ""
      },
      {
        "name": "Unpause",
        "args": [],
        "desc": ""
      },
      {
        "name": "PauserChanged",
        "args": [
          {
            "name": "newAddress",
            "type": "address"
          }
        ],
        "desc": ""
      },
      {
        "name": "PartnerChannelCreated",
        "args": [
          {
            "name": "partnerChannel",
            "type": "address",
            "desc": "Partner Channel"
          },
          {
            "name": "partnerChannelName",
            "type": "string",
            "desc": "Partner Channel Name"
          }
        ],
        "desc": "Partner Channel Created event"
      },
      {
        "name": "CardFundCreated",
        "args": [
          {
            "name": "cardFundOwner",
            "type": "address",
            "desc": "Card Fund Owner"
          },
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Card Fund"
          },
          {
            "name": "partnerChannel",
            "type": "address",
            "desc": "Partner Channel"
          }
        ],
        "desc": "Card Created event"
      },
      {
        "name": "CardFundAssetEnabled",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Card Fund"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset"
          }
        ],
        "desc": "Card Fund Asset Enabled event"
      },
      {
        "name": "CardFundAssetDisabled",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Card Fund"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset"
          }
        ],
        "desc": "Card Fund Asset Disabled event"
      },
      {
        "name": "AssetAllowlistAdded",
        "args": [
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset added to allowlist"
          }
        ],
        "desc": "Asset Allowlist Added event"
      },
      {
        "name": "AssetAllowlistRemoved",
        "args": [
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset removed from allowlist"
          }
        ],
        "desc": "Asset Allowlist Removed event"
      },
      {
        "name": "Debit",
        "args": [
          {
            "name": "card",
            "type": "address",
            "desc": "Funding Source being debited from"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset being debited"
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "Amount being debited"
          },
          {
            "name": "nonce",
            "type": "uint64",
            "desc": "Nonce used"
          },
          {
            "name": "reference",
            "type": "string",
            "desc": "Transaction reference"
          }
        ],
        "desc": "Debit event"
      },
      {
        "name": "Refund",
        "args": [
          {
            "name": "card",
            "type": "address",
            "desc": "Funding Source being refunded to"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset being refunded"
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "Amount being refunded"
          },
          {
            "name": "nonce",
            "type": "uint64",
            "desc": "Nonce used"
          }
        ],
        "desc": "Refund event"
      },
      {
        "name": "SettlementAddressChanged",
        "args": [
          {
            "name": "oldSettlementAddress",
            "type": "address",
            "desc": "Old settlement address"
          },
          {
            "name": "newSettlementAddress",
            "type": "address",
            "desc": "New settlement address"
          }
        ],
        "desc": ""
      },
      {
        "name": "Settlement",
        "args": [
          {
            "name": "recipient",
            "type": "address",
            "desc": "Settlement destination address"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset being settled"
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "Amount being settled"
          },
          {
            "name": "nonce",
            "type": "uint64",
            "desc": "Settlement nonce to prevent duplicate settlements"
          }
        ],
        "desc": "Settlement event"
      },
      {
        "name": "WithdrawalRequest",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Funding Source to withdraw from"
          },
          {
            "name": "recipient",
            "type": "address",
            "desc": "Recipient address to withdraw to"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset to withdraw"
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "Amount to withdraw"
          },
          {
            "name": "timestamp",
            "type": "uint64",
            "desc": "Timestamp that must be reached before withdrawal can be completed"
          },
          {
            "name": "nonce",
            "type": "uint64",
            "desc": "Withdrawal nonce"
          }
        ],
        "desc": "Withdrawal Request event"
      },
      {
        "name": "Withdrawal",
        "args": [
          {
            "name": "cardFund",
            "type": "address",
            "desc": "Funding Source withdrawn from"
          },
          {
            "name": "recipient",
            "type": "address",
            "desc": "Recipient address withdrawn to"
          },
          {
            "name": "asset",
            "type": "uint64",
            "desc": "Asset withdrawn"
          },
          {
            "name": "amount",
            "type": "uint64",
            "desc": "Amount withdrawn"
          },
          {
            "name": "nonce",
            "type": "uint64",
            "desc": "Withdrawal nonce"
          }
        ],
        "desc": "Withdrawal event"
      }
    ]
  }
}